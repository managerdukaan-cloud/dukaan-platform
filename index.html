<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raashanmart - Online Shopping</title>
    <!-- âœ… RAASHANMART FAVICON -->
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/3082/3082383.png" type="image/x-icon">
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-messaging-compat.js"></script>
    
    <!-- Swiper JS for carousel -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    
    <style>
        :root {
            --primary: #0F2C59;
            --primary-dark: #0A1F3D;
            --primary-light: rgba(15, 44, 89, 0.1);
            --secondary: #FFFFFF;
            --accent: #3A8EF6;
            --accent-hover: #2D7AE6;
            --accent-light: rgba(58, 142, 246, 0.1);
            --success: #10B981;
            --success-light: rgba(16, 185, 129, 0.1);
            --warning: #F59E0B;
            --warning-light: rgba(245, 158, 11, 0.1);
            --danger: #EF4444;
            --danger-light: rgba(239, 68, 68, 0.1);
            --neutral: #F8FAFC;
            --neutral-dark: #E2E8F0;
            --text-dark: #1E293B;
            --text-medium: #475569;
            --text-light: #64748B;
            --border: #E2E8F0;
            --border-dark: #CBD5E1;
            --shadow-sm: 0 2px 10px rgba(0, 0, 0, 0.04);
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 6px 30px rgba(0, 0, 0, 0.12);
            --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.15);
            --shadow-xl: 0 20px 60px rgba(0, 0, 0, 0.2);
            --radius-sm: 8px;
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--neutral);
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
            padding-bottom: 80px;
            min-height: 100vh;
            position: relative;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--neutral);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--text-light);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-medium);
        }
        
        /* Selection */
        ::selection {
            background: var(--accent-light);
            color: var(--accent);
        }
        
        /* App Header */
        .app-header {
            background: var(--primary);
            color: white;
            padding: 12px 0;
            position: sticky;
            top: 0;
            z-index: 1050;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .app-header.scrolled {
            box-shadow: var(--shadow-lg);
        }
        
        .header-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 24px;
        }
        
        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 800;
            font-size: 1.5rem;
            text-decoration: none;
            color: white;
            transition: var(--transition);
        }
        
        .brand:hover {
            transform: translateY(-1px);
        }
        
        .brand-logo {
            width: 44px;
            height: 44px;
            background: var(--accent);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 1.3rem;
            box-shadow: 0 4px 12px rgba(58, 142, 246, 0.3);
        }
        
        .brand-text {
            display: flex;
            flex-direction: column;
            line-height: 1.2;
        }
        
        .brand-subtitle {
            font-size: 0.7rem;
            font-weight: 500;
            opacity: 0.9;
        }
        
        /* Location Selector */
        .location-selector {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            min-width: 160px;
        }
        
        .location-selector:hover {
            background: rgba(255, 255, 255, 0.25);
        }
        
        .location-icon {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .location-info {
            flex: 1;
            min-width: 0;
        }
        
        .location-label {
            font-size: 0.75rem;
            opacity: 0.8;
            margin-bottom: 2px;
        }
        
        .location-value {
            font-size: 0.9rem;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .location-arrow {
            font-size: 0.8rem;
            opacity: 0.8;
        }
        
        /* Search Container */
        .search-container {
            flex: 1;
            position: relative;
            margin: 0 20px;
            max-width: 600px;
        }
        
        .search-bar {
            width: 100%;
            padding: 14px 50px 14px 20px;
            border-radius: 12px;
            border: none;
            font-size: 15px;
            background: white;
            box-shadow: var(--shadow);
            transition: var(--transition);
            font-weight: 500;
            color: var(--text-dark);
        }
        
        .search-bar::placeholder {
            color: var(--text-light);
            font-weight: 400;
        }
        
        .search-bar:focus {
            outline: none;
            box-shadow: 0 4px 25px rgba(58, 142, 246, 0.25);
            transform: translateY(-1px);
        }
        
        .search-icon {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            font-size: 1.1rem;
            pointer-events: none;
        }
        
        .search-results {
            position: absolute;
            top: calc(100% + 5px);
            left: 0;
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            max-height: 400px;
            overflow-y: auto;
            z-index: 1051;
            display: none;
            border: 1px solid var(--border);
        }
        
        .search-results.active {
            display: block;
            animation: fadeInUp 0.3s ease;
        }
        
        .search-section {
            padding: 16px 0;
            border-bottom: 1px solid var(--border);
        }
        
        .search-section:last-child {
            border-bottom: none;
        }
        
        .search-section-title {
            padding: 0 20px 12px;
            font-size: 0.85rem;
            font-weight: 700;
            color: var(--text-medium);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .search-result-item {
            padding: 12px 20px;
            border-bottom: 1px solid transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 16px;
            transition: var(--transition-fast);
        }
        
        .search-result-item:last-child {
            border-bottom: none;
        }
        
        .search-result-item:hover {
            background: var(--neutral);
        }
        
        .search-result-image {
            width: 44px;
            height: 44px;
            border-radius: 10px;
            object-fit: cover;
            flex-shrink: 0;
        }
        
        .search-result-info {
            flex: 1;
            min-width: 0;
        }
        
        .search-result-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 4px;
            color: var(--text-dark);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .search-result-category {
            font-size: 12px;
            color: var(--text-light);
            margin-bottom: 2px;
        }
        
        .search-result-shop {
            font-size: 11px;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .search-result-price {
            font-weight: 700;
            color: var(--accent);
            font-size: 14px;
            white-space: nowrap;
        }
        
        .search-result-actions {
            display: flex;
            gap: 8px;
        }
        
        /* Header Actions */
        .header-actions {
            display: flex;
            gap: 16px;
            align-items: center;
        }
        
        .header-action-btn {
            position: relative;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.2rem;
        }
        
        .header-action-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .header-action-btn.cart-btn {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .action-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: white;
            font-size: 11px;
            font-weight: 800;
            min-width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--primary);
            box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
        }
        
        .action-label {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
            font-weight: 600;
            white-space: nowrap;
            opacity: 0;
            transition: var(--transition);
            color: white;
        }
        
        .header-action-btn:hover .action-label {
            opacity: 1;
            bottom: -18px;
        }
        
        /* User Profile Menu */
        .user-profile-menu {
            position: relative;
        }
        
        .user-avatar {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--accent), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .user-avatar:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(58, 142, 246, 0.3);
        }
        
        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            right: 0;
            background: white;
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            min-width: 220px;
            z-index: 1050;
            display: none;
            overflow: hidden;
            border: 1px solid var(--border);
        }
        
        .dropdown-menu.show {
            display: block;
            animation: fadeInUp 0.3s ease;
        }
        
        .dropdown-header {
            padding: 20px;
            background: var(--neutral);
            border-bottom: 1px solid var(--border);
        }
        
        .dropdown-user-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .dropdown-user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--accent), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1rem;
        }
        
        .dropdown-user-details {
            flex: 1;
            min-width: 0;
        }
        
        .dropdown-user-name {
            font-weight: 700;
            font-size: 14px;
            color: var(--text-dark);
            margin-bottom: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .dropdown-user-email {
            font-size: 12px;
            color: var(--text-light);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .dropdown-list {
            padding: 8px 0;
        }
        
        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: var(--text-dark);
            text-decoration: none;
            transition: var(--transition-fast);
            cursor: pointer;
        }
        
        .dropdown-item:hover {
            background: var(--neutral);
        }
        
        .dropdown-item-icon {
            width: 20px;
            text-align: center;
            color: var(--text-light);
            font-size: 1rem;
        }
        
        .dropdown-item-text {
            font-size: 14px;
            font-weight: 500;
            flex: 1;
        }
        
        .dropdown-item-badge {
            background: var(--accent);
            color: white;
            font-size: 10px;
            font-weight: 700;
            padding: 2px 8px;
            border-radius: 10px;
        }
        
        .dropdown-divider {
            height: 1px;
            background: var(--border);
            margin: 8px 0;
        }
        
        /* Notification Panel */
        .notification-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 380px;
            height: 100vh;
            background: white;
            box-shadow: var(--shadow-xl);
            z-index: 1060;
            transition: right 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            display: flex;
            flex-direction: column;
            border-left: 1px solid var(--border);
        }
        
        .notification-panel.show {
            right: 0;
        }
        
        .notification-header {
            padding: 24px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--neutral);
        }
        
        .notification-header h3 {
            margin: 0;
            font-weight: 800;
            font-size: 1.3rem;
            color: var(--text-dark);
        }
        
        .notification-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }
        
        .btn-mark-all-read {
            background: var(--accent);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .btn-mark-all-read:hover {
            background: var(--accent-hover);
            transform: translateY(-1px);
        }
        
        .btn-close-notifications {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: var(--text-light);
            cursor: pointer;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .btn-close-notifications:hover {
            background: var(--neutral-dark);
            color: var(--text-dark);
        }
        
        .notification-list {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }
        
        .notification-empty {
            text-align: center;
            padding: 60px 40px;
        }
        
        .notification-empty-icon {
            font-size: 3rem;
            color: var(--neutral-dark);
            margin-bottom: 20px;
        }
        
        .notification-empty-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-medium);
            margin-bottom: 10px;
        }
        
        .notification-empty-message {
            color: var(--text-light);
            font-size: 14px;
            max-width: 250px;
            margin: 0 auto;
        }
        
        .notification-item {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: var(--transition-fast);
            position: relative;
        }
        
        .notification-item:hover {
            background: var(--neutral);
        }
        
        .notification-item.unread {
            background: rgba(58, 142, 246, 0.03);
            border-left: 3px solid var(--accent);
        }
        
        .notification-item.unread::before {
            content: '';
            position: absolute;
            left: 8px;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 8px;
            background: var(--accent);
            border-radius: 50%;
        }
        
        .notification-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }
        
        .notification-title {
            font-weight: 700;
            font-size: 14px;
            color: var(--text-dark);
            flex: 1;
        }
        
        .notification-time {
            font-size: 12px;
            color: var(--text-light);
            white-space: nowrap;
        }
        
        .notification-message {
            font-size: 13px;
            color: var(--text-medium);
            margin-bottom: 12px;
            line-height: 1.5;
        }
        
        .notification-actions-inline {
            display: flex;
            gap: 10px;
        }
        
        .notification-action-btn {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .notification-action-btn.primary {
            background: var(--accent);
            color: white;
        }
        
        .notification-action-btn.primary:hover {
            background: var(--accent-hover);
        }
        
        .notification-action-btn.secondary {
            background: var(--neutral);
            color: var(--text-dark);
            border: 1px solid var(--border);
        }
        
        .notification-action-btn.secondary:hover {
            background: var(--neutral-dark);
        }
        
        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            z-index: 1040;
            box-shadow: 0 -5px 25px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }
        
        .bottom-nav.hidden {
            transform: translateY(100%);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            text-decoration: none;
            color: var(--text-light);
            transition: var(--transition);
            flex: 1;
            position: relative;
            padding: 8px 0;
        }
        
        .nav-item:hover {
            color: var(--accent);
        }
        
        .nav-item.active {
            color: var(--accent);
        }
        
        .nav-item.active .nav-icon {
            transform: translateY(-3px);
        }
        
        .nav-icon {
            font-size: 22px;
            transition: var(--transition);
        }
        
        .nav-label {
            font-size: 12px;
            font-weight: 600;
            letter-spacing: 0.3px;
        }
        
        .nav-badge {
            position: absolute;
            top: 2px;
            right: 30%;
            background: var(--danger);
            color: white;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 800;
            min-width: 18px;
            text-align: center;
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(239, 68, 68, 0.3);
        }
        
        .nav-indicator {
            position: absolute;
            top: -8px;
            width: 40px;
            height: 3px;
            background: var(--accent);
            border-radius: 3px 3px 0 0;
            opacity: 0;
            transition: var(--transition);
        }
        
        .nav-item.active .nav-indicator {
            opacity: 1;
        }
        
        /* Main Container */
        .container-main {
            max-width: 1280px;
            margin: 24px auto;
            padding: 0 20px;
        }
        
        /* Hero Banner */
        .hero-section {
            margin-bottom: 40px;
        }
        
        .hero-banner {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 60px 40px;
            border-radius: 24px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 600px;
        }
        
        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 24px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .hero-badge i {
            font-size: 1.1rem;
        }
        
        .hero-title {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 20px;
            line-height: 1.2;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .hero-subtitle {
            font-size: 1.2rem;
            margin-bottom: 32px;
            opacity: 0.95;
            line-height: 1.6;
            max-width: 500px;
        }
        
        .hero-buttons {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }
        
        .hero-pattern {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 45%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" fill="rgba(255,255,255,0.05)"><circle cx="30" cy="30" r="8"/><circle cx="80" cy="60" r="12"/><circle cx="130" cy="30" r="8"/><circle cx="180" cy="80" r="10"/><circle cx="50" cy="120" r="10"/><circle cx="100" cy="150" r="8"/><circle cx="150" cy="120" r="12"/><circle cx="30" cy="180" r="8"/></svg>');
            z-index: 1;
        }
        
        .hero-image {
            position: absolute;
            right: 40px;
            bottom: 0;
            width: 300px;
            height: 100%;
            background: url('https://images.unsplash.com/photo-1583258292688-d0213dc5a3a8?w=600') center/cover;
            border-radius: 20px 0 0 20px;
            z-index: 1;
        }
        
        /* Section Headers */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--border);
        }
        
        .section-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-dark);
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -14px;
            width: 60px;
            height: 3px;
            background: var(--accent);
            border-radius: 3px;
        }
        
        .section-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }
        
        .view-all-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            background: var(--accent-light);
            color: var(--accent);
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
        }
        
        .view-all-btn:hover {
            background: var(--accent);
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(58, 142, 246, 0.3);
        }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 28px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            outline: none;
            position: relative;
            overflow: hidden;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }
        
        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
        
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }
        
        .btn-primary {
            background: var(--accent);
            color: white;
            box-shadow: 0 4px 15px rgba(58, 142, 246, 0.3);
        }
        
        .btn-primary:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(58, 142, 246, 0.4);
        }
        
        .btn-primary:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(58, 142, 246, 0.3);
        }
        
        .btn-secondary {
            background: white;
            color: var(--text-dark);
            border: 2px solid var(--border);
            box-shadow: var(--shadow-sm);
        }
        
        .btn-secondary:hover {
            background: var(--neutral);
            border-color: var(--border-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        .btn-outline {
            background: transparent;
            color: var(--accent);
            border: 2px solid var(--accent);
        }
        
        .btn-outline:hover {
            background: var(--accent);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(58, 142, 246, 0.3);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        
        .btn-success:hover {
            background: #0da271;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }
        
        .btn-danger:hover {
            background: #dc2626;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.4);
        }
        
        .btn-warning {
            background: var(--warning);
            color: white;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }
        
        .btn-warning:hover {
            background: #d97706;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.4);
        }
        
        .btn-sm {
            padding: 8px 16px;
            font-size: 13px;
            border-radius: 8px;
        }
        
        .btn-lg {
            padding: 16px 32px;
            font-size: 16px;
            border-radius: 14px;
        }
        
        .btn-block {
            width: 100%;
        }
        
        .btn-icon {
            padding: 10px;
            width: 40px;
            height: 40px;
        }
        
        .btn-loading .btn-text {
            visibility: hidden;
            opacity: 0;
        }
        
        .btn-loading::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInUp {
            from {
                transform: translateY(100%);
            }
            to {
                transform: translateY(0);
            }
        }
        
        @keyframes slideInDown {
            from {
                transform: translateY(-100%);
            }
            to {
                transform: translateY(0);
            }
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
        
        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        @keyframes shimmer {
            0% {
                background-position: -468px 0;
            }
            100% {
                background-position: 468px 0;
            }
        }
        
        /* Utility Classes */
        .fade-in {
            animation: fadeIn 0.5s ease;
        }
        
        .fade-in-up {
            animation: fadeInUp 0.5s ease;
        }
        
        .fade-in-down {
            animation: fadeInDown 0.5s ease;
        }
        
        .fade-in-left {
            animation: fadeInLeft 0.5s ease;
        }
        
        .fade-in-right {
            animation: fadeInRight 0.5s ease;
        }
        
        .slide-in-up {
            animation: slideInUp 0.4s ease;
        }
        
        .slide-in-down {
            animation: slideInDown 0.4s ease;
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        .bounce {
            animation: bounce 0.5s infinite;
        }
        
        .shimmer {
            background: linear-gradient(to right, #f6f7f8 0%, #edeef1 20%, #f6f7f8 40%, #f6f7f8 100%);
            background-size: 800px 104px;
            animation: shimmer 1.5s infinite linear;
        }
        
        .d-none {
            display: none !important;
        }
        
        .d-block {
            display: block !important;
        }
        
        .d-flex {
            display: flex !important;
        }
        
        .d-inline-flex {
            display: inline-flex !important;
        }
        
        .flex-column {
            flex-direction: column;
        }
        
        .flex-row {
            flex-direction: row;
        }
        
        .align-items-start {
            align-items: flex-start;
        }
        
        .align-items-center {
            align-items: center;
        }
        
        .align-items-end {
            align-items: flex-end;
        }
        
        .justify-content-start {
            justify-content: flex-start;
        }
        
        .justify-content-center {
            justify-content: center;
        }
        
        .justify-content-end {
            justify-content: flex-end;
        }
        
        .justify-content-between {
            justify-content: space-between;
        }
        
        .flex-wrap {
            flex-wrap: wrap;
        }
        
        .flex-nowrap {
            flex-wrap: nowrap;
        }
        
        .gap-1 {
            gap: 4px;
        }
        
        .gap-2 {
            gap: 8px;
        }
        
        .gap-3 {
            gap: 12px;
        }
        
        .gap-4 {
            gap: 16px;
        }
        
        .gap-5 {
            gap: 24px;
        }
        
        .w-100 {
            width: 100%;
        }
        
        .h-100 {
            height: 100%;
        }
        
        .m-0 {
            margin: 0;
        }
        
        .m-1 {
            margin: 4px;
        }
        
        .m-2 {
            margin: 8px;
        }
        
        .m-3 {
            margin: 12px;
        }
        
        .m-4 {
            margin: 16px;
        }
        
        .m-5 {
            margin: 24px;
        }
        
        .mt-0 {
            margin-top: 0;
        }
        
        .mt-1 {
            margin-top: 4px;
        }
        
        .mt-2 {
            margin-top: 8px;
        }
        
        .mt-3 {
            margin-top: 12px;
        }
        
        .mt-4 {
            margin-top: 16px;
        }
        
        .mt-5 {
            margin-top: 24px;
        }
        
        .mb-0 {
            margin-bottom: 0;
        }
        
        .mb-1 {
            margin-bottom: 4px;
        }
        
        .mb-2 {
            margin-bottom: 8px;
        }
        
        .mb-3 {
            margin-bottom: 12px;
        }
        
        .mb-4 {
            margin-bottom: 16px;
        }
        
        .mb-5 {
            margin-bottom: 24px;
        }
        
        .ml-0 {
            margin-left: 0;
        }
        
        .ml-1 {
            margin-left: 4px;
        }
        
        .ml-2 {
            margin-left: 8px;
        }
        
        .ml-3 {
            margin-left: 12px;
        }
        
        .ml-4 {
            margin-left: 16px;
        }
        
        .ml-5 {
            margin-left: 24px;
        }
        
        .mr-0 {
            margin-right: 0;
        }
        
        .mr-1 {
            margin-right: 4px;
        }
        
        .mr-2 {
            margin-right: 8px;
        }
        
        .mr-3 {
            margin-right: 12px;
        }
        
        .mr-4 {
            margin-right: 16px;
        }
        
        .mr-5 {
            margin-right: 24px;
        }
        
        .p-0 {
            padding: 0;
        }
        
        .p-1 {
            padding: 4px;
        }
        
        .p-2 {
            padding: 8px;
        }
        
        .p-3 {
            padding: 12px;
        }
        
        .p-4 {
            padding: 16px;
        }
        
        .p-5 {
            padding: 24px;
        }
        
        .pt-0 {
            padding-top: 0;
        }
        
        .pt-1 {
            padding-top: 4px;
        }
        
        .pt-2 {
            padding-top: 8px;
        }
        
        .pt-3 {
            padding-top: 12px;
        }
        
        .pt-4 {
            padding-top: 16px;
        }
        
        .pt-5 {
            padding-top: 24px;
        }
        
        .pb-0 {
            padding-bottom: 0;
        }
        
        .pb-1 {
            padding-bottom: 4px;
        }
        
        .pb-2 {
            padding-bottom: 8px;
        }
        
        .pb-3 {
            padding-bottom: 12px;
        }
        
        .pb-4 {
            padding-bottom: 16px;
        }
        
        .pb-5 {
            padding-bottom: 24px;
        }
        
        .pl-0 {
            padding-left: 0;
        }
        
        .pl-1 {
            padding-left: 4px;
        }
        
        .pl-2 {
            padding-left: 8px;
        }
        
        .pl-3 {
            padding-left: 12px;
        }
        
        .pl-4 {
            padding-left: 16px;
        }
        
        .pl-5 {
            padding-left: 24px;
        }
        
        .pr-0 {
            padding-right: 0;
        }
        
        .pr-1 {
            padding-right: 4px;
        }
        
        .pr-2 {
            padding-right: 8px;
        }
        
        .pr-3 {
            padding-right: 12px;
        }
        
        .pr-4 {
            padding-right: 16px;
        }
        
        .pr-5 {
            padding-right: 24px;
        }
        
        .text-center {
            text-align: center;
        }
        
        .text-left {
            text-align: left;
        }
        
        .text-right {
            text-align: right;
        }
        
        .text-justify {
            text-align: justify;
        }
        
        .text-uppercase {
            text-transform: uppercase;
        }
        
        .text-lowercase {
            text-transform: lowercase;
        }
        
        .text-capitalize {
            text-transform: capitalize;
        }
        
        .text-truncate {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .text-primary {
            color: var(--primary);
        }
        
        .text-accent {
            color: var(--accent);
        }
        
        .text-success {
            color: var(--success);
        }
        
        .text-warning {
            color: var(--warning);
        }
        
        .text-danger {
            color: var(--danger);
        }
        
        .text-dark {
            color: var(--text-dark);
        }
        
        .text-medium {
            color: var(--text-medium);
        }
        
        .text-light {
            color: var(--text-light);
        }
        
        .bg-primary {
            background: var(--primary);
        }
        
        .bg-accent {
            background: var(--accent);
        }
        
        .bg-success {
            background: var(--success);
        }
        
        .bg-warning {
            background: var(--warning);
        }
        
        .bg-danger {
            background: var(--danger);
        }
        
        .bg-neutral {
            background: var(--neutral);
        }
        
        .rounded {
            border-radius: var(--radius);
        }
        
        .rounded-sm {
            border-radius: var(--radius-sm);
        }
        
        .rounded-lg {
            border-radius: var(--radius-lg);
        }
        
        .rounded-xl {
            border-radius: var(--radius-xl);
        }
        
        .rounded-circle {
            border-radius: 50%;
        }
        
        .shadow-sm {
            box-shadow: var(--shadow-sm);
        }
        
        .shadow {
            box-shadow: var(--shadow);
        }
        
        .shadow-md {
            box-shadow: var(--shadow-md);
        }
        
        .shadow-lg {
            box-shadow: var(--shadow-lg);
        }
        
        .shadow-xl {
            box-shadow: var(--shadow-xl);
        }
        
        .shadow-none {
            box-shadow: none;
        }
        
        .border {
            border: 1px solid var(--border);
        }
        
        .border-top {
            border-top: 1px solid var(--border);
        }
        
        .border-bottom {
            border-bottom: 1px solid var(--border);
        }
        
        .border-left {
            border-left: 1px solid var(--border);
        }
        
        .border-right {
            border-right: 1px solid var(--border);
        }
        
        .border-primary {
            border-color: var(--primary);
        }
        
        .border-accent {
            border-color: var(--accent);
        }
        
        .border-success {
            border-color: var(--success);
        }
        
        .border-warning {
            border-color: var(--warning);
        }
        
        .border-danger {
            border-color: var(--danger);
        }
        
        .border-neutral {
            border-color: var(--neutral);
        }
        
        .position-relative {
            position: relative;
        }
        
        .position-absolute {
            position: absolute;
        }
        
        .position-fixed {
            position: fixed;
        }
        
        .position-sticky {
            position: sticky;
        }
        
        .top-0 {
            top: 0;
        }
        
        .bottom-0 {
            bottom: 0;
        }
        
        .left-0 {
            left: 0;
        }
        
        .right-0 {
            right: 0;
        }
        
        .overflow-hidden {
            overflow: hidden;
        }
        
        .overflow-auto {
            overflow: auto;
        }
        
        .overflow-scroll {
            overflow: scroll;
        }
        
        .cursor-pointer {
            cursor: pointer;
        }
        
        .cursor-default {
            cursor: default;
        }
        
        .cursor-not-allowed {
            cursor: not-allowed;
        }
        
        .user-select-none {
            user-select: none;
        }
        
        .opacity-0 {
            opacity: 0;
        }
        
        .opacity-25 {
            opacity: 0.25;
        }
        
        .opacity-50 {
            opacity: 0.5;
        }
        
        .opacity-75 {
            opacity: 0.75;
        }
        
        .opacity-100 {
            opacity: 1;
        }
        
        .transition {
            transition: var(--transition);
        }
        
        .transition-fast {
            transition: var(--transition-fast);
        }
        
        .transition-slow {
            transition: var(--transition-slow);
        }
        
        .z-index-0 {
            z-index: 0;
        }
        
        .z-index-1 {
            z-index: 1;
        }
        
        .z-index-2 {
            z-index: 2;
        }
        
        .z-index-3 {
            z-index: 3;
        }
        
        .z-index-4 {
            z-index: 4;
        }
        
        .z-index-5 {
            z-index: 5;
        }
        
        /* Loading Spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--neutral-dark);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        .spinner-sm {
            width: 20px;
            height: 20px;
            border-width: 2px;
        }
        
        .spinner-lg {
            width: 60px;
            height: 60px;
            border-width: 4px;
        }
        
        /* Skeleton Loading */
        .skeleton {
            background: linear-gradient(90deg, var(--neutral) 25%, var(--neutral-dark) 50%, var(--neutral) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: var(--radius);
        }
        
        .skeleton-text {
            height: 12px;
            margin-bottom: 8px;
            border-radius: 6px;
        }
        
        .skeleton-title {
            height: 20px;
            width: 60%;
            margin-bottom: 12px;
        }
        
        .skeleton-subtitle {
            height: 14px;
            width: 40%;
        }
        
        .skeleton-image {
            height: 200px;
            width: 100%;
            border-radius: var(--radius);
        }
        
        .skeleton-button {
            height: 40px;
            width: 120px;
            border-radius: var(--radius);
        }
        
        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1045;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(4px);
        }
        
        .overlay.show {
            display: block;
            opacity: 1;
        }
        
        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1070;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 400px;
        }
        
        .toast {
            background: white;
            border-radius: 12px;
            padding: 18px 20px;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: flex-start;
            gap: 15px;
            min-width: 320px;
            max-width: 400px;
            transform: translateX(400px);
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            border-left: 4px solid var(--accent);
            position: relative;
            overflow: hidden;
        }
        
        .toast::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--accent);
            opacity: 0.1;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast.hiding {
            transform: translateX(400px);
            opacity: 0;
        }
        
        .toast-icon {
            font-size: 1.4rem;
            color: var(--accent);
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .toast-content {
            flex: 1;
            min-width: 0;
        }
        
        .toast-title {
            font-weight: 700;
            font-size: 15px;
            margin-bottom: 4px;
            color: var(--text-dark);
        }
        
        .toast-message {
            font-size: 13px;
            color: var(--text-medium);
            line-height: 1.5;
        }
        
        .toast-close {
            background: none;
            border: none;
            color: var(--text-light);
            cursor: pointer;
            font-size: 1rem;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: var(--transition-fast);
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .toast-close:hover {
            background: var(--neutral);
            color: var(--text-dark);
        }
        
        .toast-success {
            border-left-color: var(--success);
        }
        
        .toast-success .toast-icon {
            color: var(--success);
        }
        
        .toast-success::before {
            background: var(--success);
        }
        
        .toast-warning {
            border-left-color: var(--warning);
        }
        
        .toast-warning .toast-icon {
            color: var(--warning);
        }
        
        .toast-warning::before {
            background: var(--warning);
        }
        
        .toast-danger {
            border-left-color: var(--danger);
        }
        
        .toast-danger .toast-icon {
            color: var(--danger);
        }
        
        .toast-danger::before {
            background: var(--danger);
        }
        
        .toast-info {
            border-left-color: var(--accent);
        }
        
        .toast-info .toast-icon {
            color: var(--accent);
        }
        
        .toast-info::before {
            background: var(--accent);
        }
        
        /* Pages */
        .page {
            display: none;
            animation: fadeIn 0.4s ease;
        }
        
        .page.active {
            display: block;
        }
        
        .page-header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }
        
        .page-title {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 10px;
        }
        
        .page-subtitle {
            font-size: 1rem;
            color: var(--text-light);
            max-width: 600px;
        }
        
        .page-actions {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-top: 20px;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            gap: 2px;
            background: var(--neutral);
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 24px;
        }
        
        .tab-btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            background: transparent;
            color: var(--text-light);
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 10px;
            text-align: center;
            white-space: nowrap;
        }
        
        .tab-btn:hover {
            color: var(--text-dark);
            background: white;
            box-shadow: var(--shadow-sm);
        }
        
        .tab-btn.active {
            background: white;
            color: var(--accent);
            box-shadow: var(--shadow);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        /* Empty States */
        .empty-state {
            text-align: center;
            padding: 60px 30px;
            background: white;
            border-radius: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }
        
        .empty-state-icon {
            font-size: 4rem;
            color: var(--neutral-dark);
            margin-bottom: 24px;
            opacity: 0.5;
        }
        
        .empty-state-title {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 12px;
            color: var(--text-dark);
        }
        
        .empty-state-message {
            color: var(--text-light);
            max-width: 400px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }
        
        /* Form Controls */
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
            font-size: 14px;
        }
        
        .form-label.required::after {
            content: '*';
            color: var(--danger);
            margin-left: 4px;
        }
        
        .form-control {
            width: 100%;
            padding: 14px 18px;
            border: 1px solid var(--border);
            border-radius: 12px;
            font-size: 15px;
            transition: var(--transition);
            background: white;
            color: var(--text-dark);
            font-family: 'Inter', sans-serif;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(58, 142, 246, 0.1);
        }
        
        .form-control:disabled {
            background: var(--neutral);
            color: var(--text-light);
            cursor: not-allowed;
        }
        
        .form-control.error {
            border-color: var(--danger);
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
        }
        
        .form-control.success {
            border-color: var(--success);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
        
        .form-control.warning {
            border-color: var(--warning);
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
        }
        
        .form-text {
            font-size: 13px;
            color: var(--text-light);
            margin-top: 6px;
            display: block;
        }
        
        .form-text.error {
            color: var(--danger);
        }
        
        .form-text.success {
            color: var(--success);
        }
        
        .form-text.warning {
            color: var(--warning);
        }
        
        .form-check {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            cursor: pointer;
        }
        
        .form-check-input {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border);
            border-radius: 6px;
            background: white;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            flex-shrink: 0;
        }
        
        .form-check-input:checked {
            background: var(--accent);
            border-color: var(--accent);
        }
        
        .form-check-input:checked::after {
            content: 'âœ“';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        .form-check-label {
            font-size: 14px;
            color: var(--text-dark);
            cursor: pointer;
        }
        
        .form-check-label a {
            color: var(--accent);
            text-decoration: none;
        }
        
        .form-check-label a:hover {
            text-decoration: underline;
        }
        
        .form-row {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }
        
        .form-actions {
            display: flex;
            gap: 12px;
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid var(--border);
        }
        
        /* Select2 Custom Styling */
        .select2-container {
            width: 100% !important;
        }
        
        .select2-container--default .select2-selection--single {
            height: 48px;
            border: 1px solid var(--border);
            border-radius: 12px;
            background: white;
            transition: var(--transition);
        }
        
        .select2-container--default.select2-container--focus .select2-selection--single {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(58, 142, 246, 0.1);
        }
        
        .select2-container--default .select2-selection--single .select2-selection__rendered {
            line-height: 48px;
            padding-left: 18px;
            color: var(--text-dark);
            font-size: 15px;
        }
        
        .select2-container--default .select2-selection--single .select2-selection__arrow {
            height: 48px;
            right: 10px;
        }
        
        .select2-container--default .select2-results__option--highlighted[aria-selected] {
            background-color: var(--accent);
        }
        
        .select2-container--default .select2-results__option[aria-selected=true] {
            background-color: var(--neutral);
            color: var(--text-dark);
        }
        
        .select2-dropdown {
            border: 1px solid var(--border);
            border-radius: 12px;
            box-shadow: var(--shadow);
            overflow: hidden;
        }
        
        /* File Upload */
        .file-upload {
            position: relative;
            width: 100%;
            height: 120px;
            border: 2px dashed var(--border);
            border-radius: 12px;
            background: var(--neutral);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            overflow: hidden;
        }
        
        .file-upload:hover {
            border-color: var(--accent);
            background: rgba(58, 142, 246, 0.05);
        }
        
        .file-upload.dragover {
            border-color: var(--accent);
            background: rgba(58, 142, 246, 0.1);
            transform: scale(1.02);
        }
        
        .file-upload-content {
            text-align: center;
            padding: 20px;
        }
        
        .file-upload-icon {
            font-size: 2rem;
            color: var(--text-light);
            margin-bottom: 10px;
        }
        
        .file-upload-text {
            color: var(--text-dark);
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .file-upload-subtext {
            color: var(--text-light);
            font-size: 13px;
        }
        
        .file-upload-input {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }
        
        .file-preview {
            margin-top: 12px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .file-preview-item {
            position: relative;
            width: 80px;
            height: 80px;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border);
        }
        
        .file-preview-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .file-preview-remove {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 20px;
            height: 20px;
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .file-preview-remove:hover {
            background: #dc2626;
            transform: scale(1.1);
        }
        
        /* Range Slider */
        .range-slider {
            width: 100%;
            height: 4px;
            background: var(--neutral-dark);
            border-radius: 2px;
            margin: 20px 0;
            position: relative;
        }
        
        .range-slider-track {
            height: 100%;
            background: var(--accent);
            border-radius: 2px;
            position: absolute;
        }
        
        .range-slider-thumb {
            width: 20px;
            height: 20px;
            background: white;
            border: 2px solid var(--accent);
            border-radius: 50%;
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .range-slider-thumb:hover {
            transform: translate(-50%, -50%) scale(1.2);
        }
        
        .range-slider-values {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 13px;
            color: var(--text-light);
        }
        
        /* Switch Toggle */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--neutral-dark);
            transition: var(--transition);
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: '';
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        input:checked + .slider {
            background-color: var(--accent);
        }
        
        input:focus + .slider {
            box-shadow: 0 0 1px var(--accent);
        }
        
        input:checked + .slider:before {
            transform: translateX(24px);
        }
        
        /* Ratings */
        .rating {
            display: inline-flex;
            align-items: center;
            gap: 2px;
        }
        
        .rating-star {
            color: var(--neutral-dark);
            font-size: 1.2rem;
            transition: var(--transition);
        }
        
        .rating-star.filled {
            color: var(--warning);
        }
        
        .rating-star.half-filled {
            background: linear-gradient(90deg, var(--warning) 50%, var(--neutral-dark) 50%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .rating-value {
            font-weight: 700;
            color: var(--text-dark);
            margin-left: 6px;
        }
        
        .rating-count {
            font-size: 13px;
            color: var(--text-light);
            margin-left: 4px;
        }
        
        /* Progress Bars */
        .progress {
            height: 8px;
            background: var(--neutral-dark);
            border-radius: 4px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--accent);
            border-radius: 4px;
            transition: width 0.6s ease;
        }
        
        .progress-bar.success {
            background: var(--success);
        }
        
        .progress-bar.warning {
            background: var(--warning);
        }
        
        .progress-bar.danger {
            background: var(--danger);
        }
        
        .progress-bar.striped {
            background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
            background-size: 1rem 1rem;
        }
        
        .progress-bar.animated {
            animation: progress-bar-stripes 1s linear infinite;
        }
        
        @keyframes progress-bar-stripes {
            0% {
                background-position: 1rem 0;
            }
            100% {
                background-position: 0 0;
            }
        }
        
        /* Badges */
        .badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            white-space: nowrap;
        }
        
        .badge-primary {
            background: var(--primary);
            color: white;
        }
        
        .badge-accent {
            background: var(--accent);
            color: white;
        }
        
        .badge-success {
            background: var(--success);
            color: white;
        }
        
        .badge-warning {
            background: var(--warning);
            color: white;
        }
        
        .badge-danger {
            background: var(--danger);
            color: white;
        }
        
        .badge-neutral {
            background: var(--neutral);
            color: var(--text-dark);
            border: 1px solid var(--border);
        }
        
        .badge-outline-primary {
            background: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }
        
        .badge-outline-accent {
            background: transparent;
            color: var(--accent);
            border: 1px solid var(--accent);
        }
        
        .badge-outline-success {
            background: transparent;
            color: var(--success);
            border: 1px solid var(--success);
        }
        
        .badge-outline-warning {
            background: transparent;
            color: var(--warning);
            border: 1px solid var(--warning);
        }
        
        .badge-outline-danger {
            background: transparent;
            color: var(--danger);
            border: 1px solid var(--danger);
        }
        
        /* Cards */
        .card {
            background: white;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            overflow: hidden;
            transition: var(--transition);
        }
        
        .card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-4px);
        }
        
        .card-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            background: var(--neutral);
        }
        
        .card-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-dark);
            margin: 0;
        }
        
        .card-subtitle {
            font-size: 14px;
            color: var(--text-light);
            margin-top: 4px;
        }
        
        .card-body {
            padding: 20px;
        }
        
        .card-footer {
            padding: 20px;
            border-top: 1px solid var(--border);
            background: var(--neutral);
        }
        
        /* List Groups */
        .list-group {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .list-group-item {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .list-group-item:last-child {
            border-bottom: none;
        }
        
        .list-group-item:hover {
            background: var(--neutral);
        }
        
        .list-group-item.active {
            background: var(--accent-light);
            border-left: 3px solid var(--accent);
        }
        
        .list-group-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Alerts */
        .alert {
            padding: 16px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            border: 1px solid transparent;
        }
        
        .alert-icon {
            font-size: 1.2rem;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .alert-content {
            flex: 1;
        }
        
        .alert-title {
            font-weight: 700;
            font-size: 15px;
            margin-bottom: 4px;
        }
        
        .alert-message {
            font-size: 14px;
            color: var(--text-medium);
            line-height: 1.5;
        }
        
        .alert-close {
            background: none;
            border: none;
            color: inherit;
            cursor: pointer;
            font-size: 1rem;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: var(--transition-fast);
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .alert-close:hover {
            background: rgba(0, 0, 0, 0.1);
        }
        
        .alert-primary {
            background: rgba(15, 44, 89, 0.1);
            border-color: rgba(15, 44, 89, 0.2);
            color: var(--primary);
        }
        
        .alert-accent {
            background: var(--accent-light);
            border-color: rgba(58, 142, 246, 0.2);
            color: var(--accent);
        }
        
        .alert-success {
            background: var(--success-light);
            border-color: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }
        
        .alert-warning {
            background: var(--warning-light);
            border-color: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        
        .alert-danger {
            background: var(--danger-light);
            border-color: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }
        
        /* Modals */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1070;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .modal.show {
            display: flex;
            opacity: 1;
        }
        
        .modal-dialog {
            background: white;
            border-radius: 20px;
            box-shadow: var(--shadow-xl);
            max-width: 500px;
            width: 100%;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        
        .modal.show .modal-dialog {
            transform: translateY(0);
        }
        
        .modal-header {
            padding: 24px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .modal-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--text-dark);
            margin: 0;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: var(--text-light);
            cursor: pointer;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .modal-close:hover {
            background: var(--neutral);
            color: var(--text-dark);
        }
        
        .modal-body {
            padding: 24px;
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .modal-footer {
            padding: 24px;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }
        
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1069;
            backdrop-filter: blur(4px);
        }
        
        /* Bottom Sheet */
        .bottom-sheet {
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            border-top-left-radius: 24px;
            border-top-right-radius: 24px;
            box-shadow: 0 -10px 60px rgba(0, 0, 0, 0.2);
            transform: translateY(100%);
            transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1);
            z-index: 1070;
            max-height: 90vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .bottom-sheet.open {
            transform: translateY(0);
        }
        
        .sheet-handle {
            width: 60px;
            height: 5px;
            background: var(--border);
            border-radius: 10px;
            margin: 15px auto;
            cursor: pointer;
            flex-shrink: 0;
        }
        
        .sheet-header {
            padding: 0 24px 20px;
            border-bottom: 1px solid var(--border);
            flex-shrink: 0;
        }
        
        .sheet-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--text-dark);
            margin: 0;
        }
        
        .sheet-subtitle {
            font-size: 14px;
            color: var(--text-light);
            margin-top: 4px;
        }
        
        .sheet-content {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }
        
        .sheet-actions {
            padding: 24px;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 12px;
            flex-shrink: 0;
        }
        
        /* Tooltips */
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background: var(--text-dark);
            color: white;
            text-align: center;
            border-radius: 8px;
            padding: 10px;
            position: absolute;
            z-index: 1080;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 13px;
            font-weight: 500;
            box-shadow: var(--shadow);
        }
        
        .tooltip .tooltip-text::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--text-dark) transparent transparent transparent;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        /* Pagination */
        .pagination {
            display: flex;
            gap: 8px;
            align-items: center;
            justify-content: center;
            margin: 30px 0;
        }
        
        .page-item {
            list-style: none;
        }
        
        .page-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-dark);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            background: white;
        }
        
        .page-link:hover {
            background: var(--neutral);
            border-color: var(--border-dark);
        }
        
        .page-item.active .page-link {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        
        .page-item.disabled .page-link {
            opacity: 0.5;
            cursor: not-allowed;
            background: var(--neutral);
        }
        
        /* Breadcrumb */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .breadcrumb-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .breadcrumb-item a {
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .breadcrumb-item a:hover {
            color: var(--accent);
        }
        
        .breadcrumb-item.active {
            color: var(--text-dark);
            font-weight: 600;
        }
        
        .breadcrumb-divider {
            color: var(--text-light);
            font-size: 12px;
        }
        
        /* Steps */
        .steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin: 40px 0;
        }
        
        .steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--border);
            z-index: 1;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            flex: 1;
        }
        
        .step-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 10px;
            transition: var(--transition);
        }
        
        .step.active .step-icon {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
            transform: scale(1.1);
        }
        
        .step.completed .step-icon {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }
        
        .step.completed .step-icon::after {
            content: 'âœ“';
        }
        
        .step-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-light);
            text-align: center;
            max-width: 100px;
        }
        
        .step.active .step-label {
            color: var(--accent);
        }
        
        .step.completed .step-label {
            color: var(--success);
        }
        
        .step-line {
            position: absolute;
            top: 20px;
            left: 0;
            height: 2px;
            background: var(--accent);
            transition: width 0.3s ease;
            z-index: 3;
        }
        
        /* Accordion */
        .accordion {
            border: 1px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .accordion-item {
            border-bottom: 1px solid var(--border);
        }
        
        .accordion-item:last-child {
            border-bottom: none;
        }
        
        .accordion-header {
            padding: 20px;
            background: var(--neutral);
            border: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: 600;
            color: var(--text-dark);
            font-size: 15px;
            transition: var(--transition);
        }
        
        .accordion-header:hover {
            background: var(--neutral-dark);
        }
        
        .accordion-header.active {
            background: white;
        }
        
        .accordion-icon {
            transition: transform 0.3s ease;
        }
        
        .accordion-header.active .accordion-icon {
            transform: rotate(180deg);
        }
        
        .accordion-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
            background: white;
        }
        
        .accordion-content.show {
            padding: 20px;
            max-height: 500px;
        }
        
        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--border);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 30px;
        }
        
        .timeline-item:last-child {
            margin-bottom: 0;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -36px;
            top: 0;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: white;
            border: 2px solid var(--border);
            z-index: 2;
        }
        
        .timeline-item.active::before {
            background: var(--accent);
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(58, 142, 246, 0.2);
        }
        
        .timeline-item.completed::before {
            background: var(--success);
            border-color: var(--success);
        }
        
        .timeline-time {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 4px;
        }
        
        .timeline-title {
            font-weight: 700;
            font-size: 15px;
            color: var(--text-dark);
            margin-bottom: 8px;
        }
        
        .timeline-content {
            font-size: 14px;
            color: var(--text-medium);
            line-height: 1.5;
        }
        
        /* Carousel */
        .carousel {
            position: relative;
            overflow: hidden;
            border-radius: 20px;
            margin: 30px 0;
        }
        
        .carousel-inner {
            display: flex;
            transition: transform 0.5s ease;
        }
        
        .carousel-item {
            flex: 0 0 100%;
            position: relative;
        }
        
        .carousel-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }
        
        .carousel-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 30px;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
            color: white;
        }
        
        .carousel-title {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 10px;
        }
        
        .carousel-description {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .carousel-controls {
            position: absolute;
            top: 50%;
            left: 20px;
            right: 20px;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            z-index: 2;
        }
        
        .carousel-control {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }
        
        .carousel-control:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        .carousel-indicators {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 8px;
            z-index: 2;
        }
        
        .carousel-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .carousel-indicator.active {
            background: white;
            transform: scale(1.2);
        }
        
        /* Swiper Custom */
        .swiper {
            width: 100%;
            height: 100%;
            border-radius: 20px;
            overflow: hidden;
        }
        
        .swiper-slide {
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 20px;
            overflow: hidden;
        }
        
        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 1;
        }
        
        .swiper-pagination-bullet-active {
            background: white;
        }
        
        .swiper-button-next,
        .swiper-button-prev {
            color: white;
            background: rgba(255, 255, 255, 0.2);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            backdrop-filter: blur(10px);
        }
        
        .swiper-button-next:after,
        .swiper-button-prev:after {
            font-size: 1.5rem;
        }
        
        /* Media Queries */
        @media (max-width: 1200px) {
            .container-main {
                max-width: 100%;
                padding: 0 15px;
            }
            
            .header-container {
                padding: 0 15px;
            }
        }
        
        @media (max-width: 992px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .hero-image {
                width: 250px;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
        }
        
        @media (max-width: 768px) {
            html {
                font-size: 15px;
            }
            
            .app-header {
                padding: 10px 0;
            }
            
            .brand {
                font-size: 1.3rem;
            }
            
            .brand-logo {
                width: 40px;
                height: 40px;
            }
            
            .location-selector {
                display: none;
            }
            
            .search-container {
                margin: 0 10px;
            }
            
            .header-action-btn {
                width: 40px;
                height: 40px;
            }
            
            .hero-banner {
                padding: 40px 20px;
            }
            
            .hero-title {
                font-size: 2rem;
            }
            
            .hero-subtitle {
                font-size: 1rem;
            }
            
            .hero-image {
                display: none;
            }
            
            .hero-pattern {
                width: 100%;
                opacity: 0.3;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .section-title {
                font-size: 1.4rem;
            }
            
            .page-title {
                font-size: 1.8rem;
            }
            
            .notification-panel {
                width: 100%;
            }
            
            .modal-dialog {
                margin: 10px;
            }
        }
        
        @media (max-width: 576px) {
            html {
                font-size: 14px;
            }
            
            .container-main {
                padding: 0 10px;
            }
            
            .header-container {
                padding: 0 10px;
                gap: 10px;
            }
            
            .brand {
                font-size: 1.2rem;
                gap: 8px;
            }
            
            .brand-logo {
                width: 36px;
                height: 36px;
                font-size: 1.1rem;
            }
            
            .search-bar {
                padding: 12px 40px 12px 15px;
                font-size: 14px;
            }
            
            .search-icon {
                right: 15px;
            }
            
            .header-actions {
                gap: 8px;
            }
                    .header-action-btn {
                width: 36px;
                height: 36px;
                font-size: 1.1rem;
            }
            
            .hero-banner {
                padding: 30px 20px;
                border-radius: 20px;
            }
            
            .hero-title {
                font-size: 1.8rem;
            }
            
            .hero-subtitle {
                font-size: 0.95rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: stretch;
            }
            
            .hero-buttons .btn {
                width: 100%;
                justify-content: center;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
            
            .section-actions {
                width: 100%;
                justify-content: space-between;
            }
            
            .page-actions {
                flex-direction: column;
                align-items: stretch;
            }
            
            .page-actions .btn {
                width: 100%;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .form-actions {
                flex-direction: column;
            }
            
            .form-actions .btn {
                width: 100%;
            }
            
            .modal-dialog {
                margin: 0;
                border-radius: 0;
                min-height: 100vh;
            }
            
            .bottom-nav {
                padding: 10px 0;
            }
            
            .nav-icon {
                font-size: 20px;
            }
            
            .nav-label {
                font-size: 11px;
            }
            
            .toast {
                min-width: 280px;
                max-width: 280px;
            }
            
            .notification-panel {
                right: -100%;
            }
        }
        
        /* Print Styles */
        @media print {
            .app-header,
            .bottom-nav,
            .notification-panel,
            .modal-backdrop,
            .toast-container,
            .header-actions,
            .search-container,
            .hero-banner,
            .view-all-btn,
            .btn,
            .action-badge,
            .nav-badge,
            .notification-badge {
                display: none !important;
            }
            
            body {
                background: white;
                color: black;
                padding: 0;
            }
            
            .container-main {
                margin: 0;
                padding: 0;
                max-width: 100%;
            }
            
            .page {
                display: block !important;
            }
            
            .card {
                box-shadow: none;
                border: 1px solid #ddd;
            }
            
            a {
                color: black;
                text-decoration: none;
            }
            
            .no-print {
                display: none !important;
            }
        }
        
        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            :root {
                --primary: #1E40AF;
                --primary-dark: #1E3A8A;
                --primary-light: rgba(30, 64, 175, 0.2);
                --secondary: #1F2937;
                --accent: #60A5FA;
                --accent-hover: #3B82F6;
                --accent-light: rgba(96, 165, 250, 0.2);
                --success: #10B981;
                --success-light: rgba(16, 185, 129, 0.2);
                --warning: #F59E0B;
                --warning-light: rgba(245, 158, 11, 0.2);
                --danger: #EF4444;
                --danger-light: rgba(239, 68, 68, 0.2);
                --neutral: #111827;
                --neutral-dark: #374151;
                --text-dark: #F9FAFB;
                --text-medium: #D1D5DB;
                --text-light: #9CA3AF;
                --border: #374151;
                --border-dark: #4B5563;
                --shadow-sm: 0 2px 10px rgba(0, 0, 0, 0.3);
                --shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
                --shadow-md: 0 6px 30px rgba(0, 0, 0, 0.5);
                --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.6);
                --shadow-xl: 0 20px 60px rgba(0, 0, 0, 0.7);
            }
            
            body {
                background: var(--neutral);
            }
            
            .card,
            .search-results,
            .dropdown-menu,
            .notification-panel,
            .bottom-sheet,
            .modal-dialog,
            .toast,
            .alert,
            .form-control,
            .select2-container--default .select2-selection--single,
            .select2-dropdown {
                background: var(--secondary);
                color: var(--text-dark);
            }
            
            .form-control:disabled {
                background: var(--neutral-dark);
            }
            
            .search-bar,
            .search-results,
            .dropdown-menu,
            .notification-panel,
            .bottom-sheet,
            .modal-dialog,
            .toast,
            .alert,
            .form-control,
            .select2-container--default .select2-selection--single,
            .select2-dropdown {
                border-color: var(--border);
            }
            
            .search-result-item:hover,
            .dropdown-item:hover,
            .notification-item:hover,
            .list-group-item:hover,
            .accordion-header:hover {
                background: var(--neutral-dark);
            }
            
            .empty-state {
                background: var(--secondary);
                border-color: var(--border);
            }
            
            .empty-state-icon {
                color: var(--neutral-dark);
            }
            
            .skeleton {
                background: linear-gradient(90deg, var(--neutral-dark) 25%, var(--border) 50%, var(--neutral-dark) 75%);
            }
            
            .file-upload {
                background: var(--neutral-dark);
                border-color: var(--border);
            }
            
            .range-slider {
                background: var(--neutral-dark);
            }
            
            .switch .slider {
                background-color: var(--neutral-dark);
            }
            
            .rating-star {
                color: var(--neutral-dark);
            }
            
            .progress {
                background: var(--neutral-dark);
            }
            
            .page-link {
                background: var(--secondary);
                border-color: var(--border);
                color: var(--text-dark);
            }
            
            .page-link:hover {
                background: var(--neutral-dark);
            }
            
            .breadcrumb-item a {
                color: var(--text-light);
            }
            
            .breadcrumb-item.active {
                color: var(--text-dark);
            }
            
            .accordion {
                border-color: var(--border);
            }
            
            .accordion-item {
                border-color: var(--border);
            }
            
            .accordion-header {
                background: var(--neutral-dark);
                color: var(--text-dark);
            }
            
            .accordion-header:hover {
                background: var(--border);
            }
            
            .accordion-header.active {
                background: var(--secondary);
            }
            
            .accordion-content {
                background: var(--secondary);
            }
            
            .timeline::before {
                background: var(--border);
            }
            
            .timeline-item::before {
                background: var(--secondary);
                border-color: var(--border);
            }
            
            .carousel-control {
                background: rgba(0, 0, 0, 0.5);
            }
            
            .swiper-button-next,
            .swiper-button-prev {
                background: rgba(0, 0, 0, 0.5);
            }
        }
        
        /* High Contrast Mode */
        @media (prefers-contrast: high) {
            :root {
                --border: #000000;
                --shadow: 0 0 0 1px #000000;
            }
            
            .btn {
                border: 2px solid currentColor;
            }
            
            .form-control {
                border: 2px solid var(--border);
            }
            
            .card {
                border: 2px solid var(--border);
            }
        }
        
        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
            
            .btn::after {
                display: none;
            }
            
            .spinner {
                animation: none;
                border-top-color: transparent;
            }
            
            .skeleton {
                animation: none;
            }
            
            .progress-bar.animated {
                animation: none;
            }
        }
        
        /* Custom Styles for Components */
        /* Categories Section */
        .categories-section {
            margin-bottom: 40px;
        }
        
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .category-card {
            background: white;
            border-radius: 16px;
            padding: 25px 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent);
        }
        
        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent), var(--primary));
            opacity: 0;
            transition: var(--transition);
        }
        
        .category-card:hover::before {
            opacity: 1;
        }
        
        .category-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--accent-light);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 1.8rem;
            color: var(--accent);
            transition: var(--transition);
        }
        
        .category-card:hover .category-icon {
            background: var(--accent);
            color: white;
            transform: scale(1.1) rotate(5deg);
        }
        
        .category-name {
            font-weight: 700;
            font-size: 15px;
            color: var(--text-dark);
            margin-bottom: 6px;
            transition: var(--transition);
        }
        
        .category-card:hover .category-name {
            color: var(--accent);
        }
        
        .category-count {
            font-size: 13px;
            color: var(--text-light);
        }
        
        /* Featured Products */
        .featured-products-section {
            margin-bottom: 40px;
        }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .product-card {
            background: white;
            border-radius: 18px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent);
        }
        
        .product-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--success);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            z-index: 2;
            box-shadow: 0 4px 10px rgba(16, 185, 129, 0.3);
        }
        
        .product-badge.danger {
            background: var(--danger);
            box-shadow: 0 4px 10px rgba(239, 68, 68, 0.3);
        }
        
        .product-badge.warning {
            background: var(--warning);
            box-shadow: 0 4px 10px rgba(245, 158, 11, 0.3);
        }
        
        .product-badge.accent {
            background: var(--accent);
            box-shadow: 0 4px 10px rgba(58, 142, 246, 0.3);
        }
        
        .product-badge.primary {
            background: var(--primary);
            box-shadow: 0 4px 10px rgba(15, 44, 89, 0.3);
        }
        
        .product-actions {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 2;
        }
        
        .product-action-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-dark);
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
            box-shadow: var(--shadow-sm);
        }
        
        .product-action-btn:hover {
            background: white;
            transform: scale(1.1);
            box-shadow: var(--shadow);
        }
        
        .product-action-btn.active {
            background: var(--danger);
            color: white;
            border-color: var(--danger);
        }
        
        .product-action-btn.wishlist.active {
            background: var(--danger);
        }
        
        .product-action-btn.compare.active {
            background: var(--accent);
        }
        
        .product-image-container {
            position: relative;
            height: 200px;
            border-radius: 14px;
            overflow: hidden;
            margin-bottom: 15px;
            background: var(--neutral);
        }
        
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .product-card:hover .product-image {
            transform: scale(1.05);
        }
        
        .product-image-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 15px;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
            color: white;
            transform: translateY(100%);
            transition: var(--transition);
        }
        
        .product-card:hover .product-image-overlay {
            transform: translateY(0);
        }
        
        .product-shop {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }
        
        .product-shop-icon {
            font-size: 12px;
        }
        
        .product-shop-name {
            font-weight: 600;
        }
        
        .product-info {
            flex: 1;
            margin-bottom: 15px;
        }
        
        .product-title {
            font-weight: 700;
            font-size: 16px;
            color: var(--text-dark);
            margin-bottom: 8px;
            line-height: 1.4;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .product-title:hover {
            color: var(--accent);
        }
        
        .product-category {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .product-category a {
            color: var(--accent);
            text-decoration: none;
        }
        
        .product-category a:hover {
            text-decoration: underline;
        }
        
        .product-description {
            font-size: 14px;
            color: var(--text-medium);
            margin-bottom: 12px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .product-rating {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .product-rating-stars {
            display: flex;
            gap: 2px;
        }
        
        .product-rating-star {
            color: var(--neutral-dark);
            font-size: 14px;
        }
        
        .product-rating-star.filled {
            color: var(--warning);
        }
        
        .product-rating-value {
            font-weight: 700;
            color: var(--text-dark);
            font-size: 14px;
        }
        
        .product-rating-count {
            font-size: 13px;
            color: var(--text-light);
        }
        
        .product-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }
        
        .product-stock {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            font-weight: 600;
        }
        
        .product-stock.in-stock {
            color: var(--success);
        }
        
        .product-stock.low-stock {
            color: var(--warning);
        }
        
        .product-stock.out-of-stock {
            color: var(--danger);
        }
        
        .product-stock-icon {
            font-size: 12px;
        }
        
        .product-weight {
            font-size: 13px;
            color: var(--text-light);
        }
        
        .product-price-section {
            margin-bottom: 15px;
        }
        
        .product-price {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 5px;
        }
        
        .product-current-price {
            font-weight: 800;
            font-size: 22px;
            color: var(--accent);
        }
        
        .product-original-price {
            color: var(--text-light);
            text-decoration: line-through;
            font-size: 16px;
            font-weight: 500;
        }
        
        .product-discount {
            color: var(--success);
            font-size: 14px;
            font-weight: 700;
            background: var(--success-light);
            padding: 2px 8px;
            border-radius: 10px;
        }
        
        .product-unit-price {
            font-size: 13px;
            color: var(--text-light);
        }
        
        .product-actions-bottom {
            display: flex;
            gap: 10px;
            margin-top: auto;
        }
        
        .btn-add-to-cart {
            flex: 1;
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-add-to-cart:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(58, 142, 246, 0.3);
        }
        
        .btn-add-to-cart.added {
            background: var(--success);
        }
        
        .btn-add-to-cart.out-of-stock {
            background: var(--danger);
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .btn-add-to-cart.out-of-stock:hover {
            transform: none;
            box-shadow: none;
        }
        
        .btn-quick-view {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: var(--neutral);
            border: 1px solid var(--border);
            color: var(--text-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.1rem;
        }
        
        .btn-quick-view:hover {
            background: var(--neutral-dark);
            transform: translateY(-2px);
        }
        
        /* Shops Section */
        .shops-section {
            margin-bottom: 40px;
        }
        
        .shop-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .shop-card {
            background: white;
            border-radius: 18px;
            padding: 0;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .shop-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent);
        }
        
        .shop-header {
            position: relative;
            height: 150px;
            overflow: hidden;
        }
        
        .shop-banner {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }
        
        .shop-card:hover .shop-banner {
            transform: scale(1.05);
        }
        
        .shop-verified {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 32px;
            height: 32px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            box-shadow: 0 4px 10px rgba(58, 142, 246, 0.3);
        }
        
        .shop-status {
            position: absolute;
            top: 15px;
            left: 15px;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 800;
            color: white;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .shop-status.open {
            background: var(--success);
        }
        
        .shop-status.closed {
            background: var(--danger);
        }
        
        .shop-status.busy {
            background: var(--warning);
        }
        
        .shop-avatar {
            position: absolute;
            bottom: -25px;
            left: 20px;
            width: 70px;
            height: 70px;
            border-radius: 16px;
            border: 4px solid white;
            background: white;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        .shop-logo {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .shop-body {
            padding: 40px 20px 20px;
        }
        
        .shop-name {
            font-weight: 800;
            font-size: 18px;
            color: var(--text-dark);
            margin-bottom: 8px;
            line-height: 1.3;
        }
        
        .shop-category {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .shop-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .shop-rating-stars {
            display: flex;
            gap: 2px;
        }
        
        .shop-rating-star {
            color: var(--warning);
            font-size: 14px;
        }
        
        .shop-rating-value {
            font-weight: 700;
            color: var(--text-dark);
            font-size: 14px;
        }
        
        .shop-rating-count {
            font-size: 13px;
            color: var(--text-light);
        }
        
        .shop-info {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .shop-info-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            color: var(--text-medium);
        }
        
        .shop-info-icon {
            width: 20px;
            color: var(--text-light);
            font-size: 14px;
        }
        
        .shop-footer {
            padding: 20px;
            border-top: 1px solid var(--border);
            background: var(--neutral);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .shop-distance {
            font-size: 14px;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .shop-distance-icon {
            color: var(--accent);
        }
        
        .btn-visit-shop {
            padding: 8px 16px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .btn-visit-shop:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(58, 142, 246, 0.3);
        }
        
        /* Special Offers */
        .offers-section {
            margin-bottom: 40px;
        }
        
        .offers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .offer-card {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 20px;
            padding: 30px;
            color: white;
            position: relative;
            overflow: hidden;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            box-shadow: var(--shadow-lg);
        }
        
        .offer-card.accent {
            background: linear-gradient(135deg, var(--accent), #2D7AE6);
        }
        
        .offer-card.success {
            background: linear-gradient(135deg, var(--success), #0DA271);
        }
        
        .offer-card.warning {
            background: linear-gradient(135deg, var(--warning), #D97706);
        }
        
        .offer-card.danger {
            background: linear-gradient(135deg, var(--danger), #DC2626);
        }
        
        .offer-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .offer-content {
            position: relative;
            z-index: 2;
            flex: 1;
        }
        
        .offer-title {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            line-height: 1.3;
        }
        
        .offer-description {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .offer-code {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.15);
            padding: 8px 16px;
            border-radius: 10px;
            font-weight: 700;
            font-size: 14px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .offer-code:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }
        
        .offer-code-icon {
            font-size: 12px;
        }
        
        .offer-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .btn-offer {
            padding: 10px 20px;
            background: white;
            color: var(--primary);
            border: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .btn-offer:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.2);
        }
        
        .offer-pattern {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 40%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="rgba(255,255,255,0.05)"><circle cx="20" cy="20" r="8"/><circle cx="50" cy="50" r="12"/><circle cx="80" cy="80" r="8"/></svg>');
            z-index: 1;
        }
        
        /* Home Page Banners */
        .banners-section {
            margin-bottom: 40px;
        }
        
        .banners-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .banner-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            position: relative;
            overflow: hidden;
            min-height: 180px;
            display: flex;
            align-items: center;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: var(--transition);
            cursor: pointer;
        }
        
        .banner-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent);
        }
        
        .banner-content {
            position: relative;
            z-index: 2;
            flex: 1;
        }
        
        .banner-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 8px;
            line-height: 1.3;
        }
        
        .banner-description {
            font-size: 14px;
            color: var(--text-medium);
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .banner-image {
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 40%;
            background-size: cover;
            background-position: center;
            border-radius: 0 20px 20px 0;
        }
        
        .banner-card.primary {
            background: linear-gradient(135deg, var(--primary-light), white);
        }
        
        .banner-card.accent {
            background: linear-gradient(135deg, var(--accent-light), white);
        }
        
        .banner-card.success {
            background: linear-gradient(135deg, var(--success-light), white);
        }
        
        /* Quick Actions */
        .quick-actions-section {
            margin-bottom: 40px;
        }
        
        .quick-actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .quick-action-card {
            background: white;
            border-radius: 16px;
            padding: 25px 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .quick-action-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent);
        }
        
        .quick-action-icon {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            background: var(--accent-light);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 1.8rem;
            color: var(--accent);
            transition: var(--transition);
        }
        
        .quick-action-card:hover .quick-action-icon {
            background: var(--accent);
            color: white;
            transform: scale(1.1);
        }
        
        .quick-action-title {
            font-weight: 700;
            font-size: 15px;
            color: var(--text-dark);
            margin-bottom: 6px;
            transition: var(--transition);
        }
        
        .quick-action-card:hover .quick-action-title {
            color: var(--accent);
        }
        
        .quick-action-description {
            font-size: 13px;
            color: var(--text-light);
        }
        
        /* Trending Products */
        .trending-section {
            margin-bottom: 40px;
        }
        
        .trending-products {
            display: flex;
            gap: 25px;
            overflow-x: auto;
            padding: 20px 0;
            margin-top: 20px;
            scrollbar-width: thin;
            scrollbar-color: var(--accent) var(--neutral);
        }
        
        .trending-products::-webkit-scrollbar {
            height: 6px;
        }
        
        .trending-products::-webkit-scrollbar-track {
            background: var(--neutral);
            border-radius: 3px;
        }
        
        .trending-products::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 3px;
        }
        
        .trending-product-card {
            flex: 0 0 280px;
            background: white;
            border-radius: 18px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .trending-product-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent);
        }
        
        .trending-rank {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 30px;
            height: 30px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 14px;
            box-shadow: 0 4px 10px rgba(58, 142, 246, 0.3);
            z-index: 2;
        }
        
        .trending-rank.rank-1 {
            background: var(--warning);
            box-shadow: 0 4px 10px rgba(245, 158, 11, 0.3);
        }
        
        .trending-rank.rank-2 {
            background: var(--text-light);
            box-shadow: 0 4px 10px rgba(100, 116, 139, 0.3);
        }
        
        .trending-rank.rank-3 {
            background: var(--success);
            box-shadow: 0 4px 10px rgba(16, 185, 129, 0.3);
        }
        
        /* Recently Viewed */
        .recently-viewed-section {
            margin-bottom: 40px;
        }
        
        .recently-viewed-products {
            display: flex;
            gap: 25px;
            overflow-x: auto;
            padding: 20px 0;
            margin-top: 20px;
        }
        
        .recent-product-card {
            flex: 0 0 250px;
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .recent-product-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent);
        }
        
        .recent-product-image {
            width: 100%;
            height: 150px;
            border-radius: 12px;
            object-fit: cover;
            margin-bottom: 15px;
            transition: var(--transition);
        }
        
        .recent-product-card:hover .recent-product-image {
            transform: scale(1.05);
        }
        
        .recent-product-title {
            font-weight: 700;
            font-size: 15px;
            color: var(--text-dark);
            margin-bottom: 8px;
            line-height: 1.3;
        }
        
        .recent-product-price {
            font-weight: 800;
            font-size: 18px;
            color: var(--accent);
            margin-bottom: 5px;
        }
        
        .recent-viewed-time {
            font-size: 12px;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* Product Detail Page */
        .product-detail-container {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            margin-bottom: 40px;
        }
        
        .product-detail-header {
            padding: 30px;
            border-bottom: 1px solid var(--border);
            background: var(--neutral);
        }
        
        .product-breadcrumb {
            margin-bottom: 20px;
        }
        
        .product-main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            padding: 30px;
        }
        
        @media (max-width: 992px) {
            .product-main {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }
        
        .product-images {
            position: sticky;
            top: 100px;
        }
        
        .product-main-image {
            width: 100%;
            height: 400px;
            border-radius: 20px;
            object-fit: cover;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            cursor: zoom-in;
        }
        
        .product-thumbnails {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
        }
        
        .product-thumbnail {
            width: 80px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition);
        }
        
        .product-thumbnail:hover,
        .product-thumbnail.active {
            border-color: var(--accent);
            transform: scale(1.05);
        }
        
        .product-info {
            display: flex;
            flex-direction: column;
        }
        
        .product-info-header {
            margin-bottom: 20px;
        }
        
        .product-title-large {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 10px;
            line-height: 1.2;
        }
        
        .product-sku {
            font-size: 14px;
            color: var(--text-light);
            margin-bottom: 15px;
        }
        
        .product-rating-large {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .product-rating-stars-large {
            display: flex;
            gap: 4px;
        }
        
        .product-rating-star-large {
            color: var(--warning);
            font-size: 1.2rem;
        }
        
        .product-rating-value-large {
            font-weight: 800;
            font-size: 1.4rem;
            color: var(--text-dark);
        }
        
        .product-rating-count-large {
            font-size: 14px;
            color: var(--text-light);
        }
        
        .product-price-large {
            margin-bottom: 25px;
        }
        
        .product-current-price-large {
            font-weight: 900;
            font-size: 2.5rem;
            color: var(--accent);
            margin-bottom: 5px;
        }
        
        .product-original-price-large {
            font-size: 1.5rem;
            color: var(--text-light);
            text-decoration: line-through;
            margin-bottom: 10px;
        }
        
        .product-discount-large {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--success-light);
            color: var(--success);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 800;
            font-size: 16px;
        }
        
        .product-description-large {
            margin-bottom: 25px;
        }
        
        .product-description-title {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--text-dark);
            margin-bottom: 12px;
        }
        
        .product-description-content {
            font-size: 15px;
            color: var(--text-medium);
            line-height: 1.7;
        }
        
        .product-attributes {
            margin-bottom: 25px;
        }
        
        .product-attribute {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 12px;
        }
        
        .product-attribute-label {
            font-weight: 600;
            color: var(--text-dark);
            min-width: 100px;
            font-size: 14px;
        }
        
        .product-attribute-value {
            color: var(--text-medium);
            font-size: 14px;
        }
        
        .product-variants {
            margin-bottom: 25px;
        }
        
        .product-variant-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--text-dark);
            margin-bottom: 15px;
        }
        
        .product-variant-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .product-variant-option {
            padding: 10px 20px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-weight: 600;
            color: var(--text-dark);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .product-variant-option:hover {
            border-color: var(--accent);
            color: var(--accent);
        }
        
        .product-variant-option.selected {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        
        .product-variant-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .product-quantity {
            margin-bottom: 25px;
        }
        
        .product-quantity-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--text-dark);
            margin-bottom: 15px;
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .quantity-btn {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: var(--neutral);
            border: 1px solid var(--border);
            color: var(--text-dark);
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .quantity-btn:hover:not(:disabled) {
            background: var(--neutral-dark);
            border-color: var(--border-dark);
        }
        
        .quantity-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .quantity-input {
            width: 80px;
            height: 44px;
            border: 2px solid var(--border);
            border-radius: 12px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-dark);
            transition: var(--transition);
        }
        
        .quantity-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(58, 142, 246, 0.1);
        }
        
        .product-actions-large {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .btn-buy-now {
            flex: 2;
            background: var(--success);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 14px;
            font-weight: 800;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
        }
        
        .btn-buy-now:hover {
            background: #0da271;
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(16, 185, 129, 0.4);
        }
        
        .btn-add-to-cart-large {
            flex: 3;
            background: var(--accent);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 14px;
            font-weight: 800;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 20px rgba(58, 142, 246, 0.3);
        }
        
        .btn-add-to-cart-large:hover {
            background: var(--accent-hover);
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(58, 142, 246, 0.4);
        }
        
        .btn-add-to-cart-large.added {
            background: var(--success);
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
        }
        
        .product-secondary-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .btn-wishlist-large {
            flex: 1;
            padding: 15px;
            background: var(--neutral);
            border: 1px solid var(--border);
            color: var(--text-dark);
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-wishlist-large:hover {
            background: var(--neutral-dark);
            transform: translateY(-2px);
        }
        
        .btn-wishlist-large.active {
            background: var(--danger);
            color: white;
            border-color: var(--danger);
        }
        
        .btn-compare-large {
            flex: 1;
            padding: 15px;
            background: var(--neutral);
            border: 1px solid var(--border);
            color: var(--text-dark);
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-compare-large:hover {
            background: var(--neutral-dark);
            transform: translateY(-2px);
        }
        
        .btn-compare-large.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        
        .btn-share-large {
            flex: 1;
            padding: 15px;
            background: var(--neutral);
            border: 1px solid var(--border);
            color: var(--text-dark);
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-share-large:hover {
            background: var(--neutral-dark);
            transform: translateY(-2px);
        }
        
        .product-delivery-info {
            margin-top: 30px;
            padding: 25px;
            background: var(--neutral);
            border-radius: 16px;
        }
        
        .delivery-info-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--text-dark);
            margin-bottom: 15px;
        }
        
        .delivery-info-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .delivery-info-icon {
            width: 20px;
            color: var(--accent);
            font-size: 14px;
        }
        
        .delivery-info-text {
            font-size: 14px;
            color: var(--text-medium);
        }
        
        .delivery-info-text strong {
            color: var(--text-dark);
            font-weight: 600;
        }
        
        .product-detail-tabs {
            margin-top: 40px;
        }
        
        .product-tabs {
            display: flex;
            gap: 2px;
            background: var(--neutral);
            border-radius: 16px;
            padding: 6px;
            margin-bottom: 30px;
        }
        
        .product-tab-btn {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            color: var(--text-light);
            font-weight: 700;
            font-size: 15px;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 12px;
            text-align: center;
        }
        
        .product-tab-btn:hover {
            color: var(--text-dark);
            background: white;
            box-shadow: var(--shadow-sm);
        }
        
        .product-tab-btn.active {
            background: white;
            color: var(--accent);
            box-shadow: var(--shadow);
        }
        
        .product-tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .product-tab-content.active {
            display: block;
        }
        
        .specifications-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .specifications-table tr {
            border-bottom: 1px solid var(--border);
        }
        
        .specifications-table tr:last-child {
            border-bottom: none;
        }
        
        .specifications-table td {
            padding: 15px;
            vertical-align: top;
        }
        
        .specifications-table td:first-child {
            font-weight: 600;
            color: var(--text-dark);
            width: 200px;
        }
        
        .specifications-table td:last-child {
            color: var(--text-medium);
        }
        
        .reviews-summary {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 40px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 768px) {
            .reviews-summary {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }
        
        .overall-rating {
            text-align: center;
            background: var(--neutral);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid var(--border);
        }
        
        .overall-rating-value {
            font-size: 3.5rem;
            font-weight: 900;
            color: var(--text-dark);
            margin-bottom: 10px;
        }
        
        .overall-rating-stars {
            display: flex;
            justify-content: center;
            gap: 4px;
            margin-bottom: 15px;
        }
        
        .overall-rating-star {
            color: var(--warning);
            font-size: 1.5rem;
        }
        
        .overall-rating-count {
            color: var(--text-light);
            font-size: 14px;
        }
        
        .rating-breakdown {
            background: white;
            padding: 30px;
            border-radius: 20px;
            border: 1px solid var(--border);
        }
        
        .rating-breakdown-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .rating-label {
            font-size: 14px;
            color: var(--text-dark);
            min-width: 80px;
        }
        
        .rating-bar {
            flex: 1;
            height: 8px;
            background: var(--neutral);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .rating-progress {
            height: 100%;
            background: var(--warning);
            border-radius: 4px;
        }
        
        .rating-count {
            font-size: 14px;
            color: var(--text-light);
            min-width: 40px;
            text-align: right;
        }
        
        .reviews-list {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .review-card {
            background: white;
            padding: 25px;
            border-radius: 18px;
            border: 1px solid var(--border);
            box-shadow: var(--shadow-sm);
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .reviewer-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .reviewer-avatar {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: var(--accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
        }
        
        .reviewer-details {
            flex: 1;
        }
        
        .reviewer-name {
            font-weight: 700;
            font-size: 15px;
            color: var(--text-dark);
            margin-bottom: 4px;
        }
        
        .review-date {
            font-size: 13px;
            color: var(--text-light);
        }
        
        .review-rating {
            display: flex;
            gap: 4px;
        }
        
        .review-rating-star {
            color: var(--warning);
            font-size: 14px;
        }
        
        .review-title {
            font-weight: 700;
            font-size: 16px;
            color: var(--text-dark);
            margin-bottom: 10px;
        }
        
        .review-content {
            font-size: 15px;
            color: var(--text-medium);
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .review-images {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            overflow-x: auto;
            padding: 10px 0;
        }
        
        .review-image {
            width: 80px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .review-image:hover {
            transform: scale(1.05);
        }
        
        .review-helpful {
            display: flex;
            align-items: center;
            gap: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }
        
        .review-helpful-text {
            font-size: 14px;
            color: var(--text-light);
        }
        
        .btn-helpful {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: var(--neutral);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-dark);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .btn-helpful:hover {
            background: var(--neutral-dark);
        }
        
        .btn-helpful.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        
        .btn-report {
            margin-left: auto;
            padding: 6px 12px;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 13px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .btn-report:hover {
            color: var(--danger);
        }
        
        /* Related Products */
        .related-products-section {
            margin-bottom: 40px;
        }
        
        .related-products-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 25px;
        }
        
        /* Shop Detail Page */
        .shop-detail-container {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            margin-bottom: 40px;
        }
        
        .shop-detail-header {
            position: relative;
            height: 300px;
            overflow: hidden;
        }
        
        .shop-detail-banner {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .shop-detail-header-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.7));
        }
        
        .shop-detail-header-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 40px;
            color: white;
        }
        
        .shop-detail-verified {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .shop-detail-name {
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .shop-detail-category {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .shop-detail-header-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .shop-detail-avatar {
            position: absolute;
            bottom: -40px;
            left: 40px;
            width: 120px;
            height: 120px;
            border-radius: 24px;
            border: 6px solid white;
            background: white;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }
        
        .shop-detail-logo {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .shop-detail-main {
            padding: 60px 40px 40px;
        }
        
        .shop-detail-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .shop-detail-card {
            background: var(--neutral);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid var(--border);
        }
        
        .shop-detail-card-title {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--text-dark);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .shop-detail-card-title i {
            color: var(--accent);
        }
        
        .shop-detail-about {
            font-size: 15px;
            color: var(--text-medium);
            line-height: 1.7;
        }
        
        .shop-detail-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .shop-stat {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 16px;
            border: 1px solid var(--border);
            transition: var(--transition);
        }
        
        .shop-stat:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
            border-color: var(--accent);
        }
        
        .shop-stat-value {
            font-size: 2rem;
            font-weight: 900;
            color: var(--accent);
            margin-bottom: 5px;
        }
        
        .shop-stat-label {
            font-size: 14px;
            color: var(--text-light);
            font-weight: 600;
        }
        
        .shop-contact-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .shop-contact-item {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 15px;
            color: var(--text-medium);
        }
        
        .shop-contact-icon {
            width: 20px;
            color: var(--accent);
            font-size: 16px;
        }
        
        .shop-hours {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .shop-hour-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
        }
        
        .shop-hour-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }
        
        .shop-day {
            font-size: 15px;
            color: var(--text-dark);
            font-weight: 600;
        }
        
        .shop-time {
            font-size: 14px;
            color: var(--text-medium);
        }
        
        .shop-time.open {
            color: var(--success);
            font-weight: 600;
        }
        
        .shop-time.closed {
            color: var(--danger);
            font-weight: 600;
        }
        
        .shop-detail-tabs {
            margin-top: 40px;
        }
        
        .shop-tabs {
            display: flex;
            gap: 2px;
            background: var(--neutral);
            border-radius: 16px;
            padding: 6px;
            margin-bottom: 30px;
        }
        
        .shop-tab-btn {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            color: var(--text-light);
            font-weight: 700;
            font-size: 15px;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 12px;
            text-align: center;
        }
        
        .shop-tab-btn:hover {
            color: var(--text-dark);
            background: white;
            box-shadow: var(--shadow-sm);
        }
        
        .shop-tab-btn.active {
            background: white;
            color: var(--accent);
            box-shadow: var(--shadow);
        }
        
        .shop-tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .shop-tab-content.active {
            display: block;
        }
        
        .shop-products-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .shop-products-filter {
            display: flex;
            gap: 12px;
            align-items: center;
        }
        
        .shop-reviews-summary {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 40px;
            margin-bottom: 40px;
        }
        
        /* Cart Page */
        .cart-container {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            margin-bottom: 40px;
        }
        
        .cart-header {
            padding: 30px;
            border-bottom: 1px solid var(--border);
            background: var(--neutral);
        }
        
        .cart-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 5px;
        }
        
        .cart-subtitle {
            font-size: 15px;
            color: var(--text-light);
        }
        
        .cart-main {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            padding: 30px;
        }
        
        @media (max-width: 992px) {
            .cart-main {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }
        
        .cart-items {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .cart-empty {
            text-align: center;
            padding: 60px 30px;
            background: var(--neutral);
            border-radius: 20px;
            border: 2px dashed var(--border);
        }
        
        .cart-empty-icon {
            font-size: 4rem;
            color: var(--neutral-dark);
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .cart-empty-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 10px;
        }
        
        .cart-empty-message {
            color: var(--text-light);
            max-width: 400px;
            margin: 0 auto 30px;
        }
        
        .cart-item {
            background: white;
            border-radius: 18px;
            padding: 25px;
            border: 1px solid var(--border);
            display: flex;
            gap: 20px;
            transition: var(--transition);
            position: relative;
        }
        
        .cart-item:hover {
            box-shadow: var(--shadow);
            border-color: var(--border-dark);
        }
        
        .cart-item-remove {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            border-radius: 8px;
            background: var(--danger-light);
            color: var(--danger);
            border: none;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .cart-item-remove:hover {
            background: var(--danger);
            color: white;
            transform: scale(1.1);
        }
        
        .cart-item-image {
            width: 120px;
            height: 120px;
            border-radius: 14px;
            object-fit: cover;
            flex-shrink: 0;
        }
        
        .cart-item-info {
            flex: 1;
            min-width: 0;
        }
        
        .cart-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }
        
        .cart-item-title {
            font-weight: 700;
            font-size: 16px;
            color: var(--text-dark);
            margin-bottom: 5px;
            line-height: 1.3;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .cart-item-title:hover {
            color: var(--accent);
        }
        
        .cart-item-shop {
            font-size: 13px;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .cart-item-price {
            font-weight: 800;
            font-size: 18px;
            color: var(--accent);
        }
        
        .cart-item-details {
            margin-bottom: 15px;
        }
        
        .cart-item-variant {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 5px;
        }
        
        .cart-item-stock {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            font-weight: 600;
        }
        
        .cart-item-stock.in-stock {
            color: var(--success);
        }
        
        .cart-item-stock.low-stock {
            color: var(--warning);
        }
        
        .cart-item-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .cart-quantity-btn {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            background: var(--neutral);
            border: 1px solid var(--border);
            color: var(--text-dark);
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .cart-quantity-btn:hover:not(:disabled) {
            background: var(--neutral-dark);
            border-color: var(--border-dark);
        }
        
        .cart-quantity-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .cart-quantity-input {
            width: 60px;
            height: 36px;
            border: 2px solid var(--border);
            border-radius: 10px;
            text-align: center;
            font-size: 16px;
            font-weight: 700;
            color: var(--text-dark);
            transition: var(--transition);
        }
        
        .cart-quantity-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(58, 142, 246, 0.1);
        }
        
        .cart-item-secondary-actions {
            display: flex;
            gap: 10px;
        }
        
        .cart-item-action-btn {
            padding: 8px 16px;
            border: 1px solid var(--border);
            border-radius: 10px;
            background: white;
            color: var(--text-dark);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .cart-item-action-btn:hover {
            background: var(--neutral);
            border-color: var(--border-dark);
        }
        
        .cart-item-action-btn.save {
            color: var(--accent);
            border-color: var(--accent-light);
            background: var(--accent-light);
        }
        
        .cart-item-action-btn.save:hover {
            background: var(--accent);
            color: white;
        }
        
        .cart-summary {
            background: var(--neutral);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--border);
            position: sticky;
            top: 100px;
            height: fit-content;
        }
        
        .cart-summary-title {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--text-dark);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
        }
        
        .cart-summary-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .cart-summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 15px;
            color: var(--text-medium);
        }
        
        .cart-summary-item.total {
            font-weight: 800;
            font-size: 1.3rem;
            color: var(--text-dark);
            padding-top: 15px;
            border-top: 2px solid var(--border);
            margin-top: 5px;
        }
        
        .cart-summary-item.value {
            font-weight: 600;
            color: var(--text-dark);
        }
        
        .cart-summary-discount {
            margin-bottom: 25px;
        }
        
        .cart-discount-title {
            font-weight: 600;
            font-size: 15px;
            color: var(--text-dark);
            margin-bottom: 10px;
        }
        
        .cart-discount-input {
            display: flex;
            gap: 10px;
        }
        
        .cart-discount-code {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid var(--border);
            border-radius: 10px;
            font-size: 14px;
            color: var(--text-dark);
            transition: var(--transition);
        }
        
        .cart-discount-code:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(58, 142, 246, 0.1);
        }
        
        .btn-apply-discount {
            padding: 12px 20px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            white-space: nowrap;
        }
        
        .btn-apply-discount:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
        }
        
        .cart-summary-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .btn-checkout {
            width: 100%;
            padding: 18px;
            background: var(--success);
            color: white;
            border: none;
            border-radius: 14px;
            font-weight: 800;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
        }
        
        .btn-checkout:hover {
            background: #0da271;
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(16, 185, 129, 0.4);
        }
        
        .btn-continue-shopping {
            width: 100%;
            padding: 15px;
            background: white;
            color: var(--text-dark);
            border: 1px solid var(--border);
            border-radius: 12px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-continue-shopping:hover {
            background: var(--neutral);
            border-color: var(--border-dark);
            transform: translateY(-2px);
        }
        
        .cart-save-message {
            margin-top: 15px;
            padding: 12px;
            background: var(--accent-light);
            border: 1px solid var(--accent);
            border-radius: 10px;
            font-size: 13px;
            color: var(--accent);
            text-align: center;
        }
        
        .cart-recommendations {
            margin-top: 40px;
        }
        
        .cart-recommendations-title {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 25px;
        }
        
        /* Checkout Page */
        .checkout-container {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            margin-bottom: 40px;
        }
        
        .checkout-header {
            padding: 30px;
            border-bottom: 1px solid var(--border);
            background: var(--neutral);
        }
        
        .checkout-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 5px;
        }
        
        .checkout-steps {
            margin-top: 20px;
        }
        
        .checkout-main {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            padding: 30px;
        }
        
        @media (max-width: 992px) {
            .checkout-main {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }
        
        .checkout-section {
            margin-bottom: 40px;
        }
        
        .checkout-section-title {
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--text-dark);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
        }
        
        .checkout-addresses {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .checkout-address-card {
            background: white;
            border: 2px solid var(--border);
            border-radius: 16px;
            padding: 25px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }
        
        .checkout-address-card:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }
        
        .checkout-address-card.selected {
            border-color: var(--accent);
            background: var(--accent-light);
        }
        
        .checkout-address-card.selected::before {
            content: 'âœ“';
            position: absolute;
            top: 15px;
            right: 15px;
            width: 24px;
            height: 24px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 14px;
        }
        
        .checkout-address-type {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .checkout-address-type-icon {
            width: 24px;
            color: var(--accent);
            font-size: 16px;
        }
        
        .checkout-address-type-text {
            font-weight: 700;
            font-size: 15px;
            color: var(--text-dark);
        }
        
        .checkout-address-default {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: var(--success-light);
            color: var(--success);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .checkout-address-details {
            font-size: 14px;
            color: var(--text-medium);
            line-height: 1.5;
        }
        
        .checkout-address-details p {
            margin-bottom: 8px;
        }
        
        .checkout-address-phone {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-light);
            font-size: 13px;
            margin-top: 10px;
        }
        
        .btn-add-new-address {
            width: 100%;
            padding: 25px;
            background: var(--neutral);
            border: 2px dashed var(--border);
            border-radius: 16px;
            color: var(--text-dark);
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-add-new-address:hover {
            border-color: var(--accent);
            background: var(--accent-light);
            color: var(--accent);
        }
        
        .checkout-delivery-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .checkout-delivery-option {
            background: white;
            border: 2px solid var(--border);
            border-radius: 16px;
            padding: 25px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }
        
        .checkout-delivery-option:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }
        
        .checkout-delivery-option.selected {
            border-color: var(--accent);
            background: var(--accent-light);
        }
        
        .checkout-delivery-option.selected::before {
            content: 'âœ“';
            position: absolute;
            top: 15px;
            right: 15px;
            width: 24px;
            height: 24px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 14px;
        }
        
        .delivery-option-icon {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: var(--accent-light);
            color: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        
        .delivery-option-name {
            font-weight: 700;
            font-size: 15px;
            color: var(--text-dark);
            margin-bottom: 8px;
        }
        
        .delivery-option-description {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .delivery-option-price {
            font-weight: 800;
            font-size: 16px;
            color: var(--accent);
        }
        
        .delivery-option-time {
            font-size: 12px;
            color: var(--text-light);
            margin-top: 5px;
        }
        
        .checkout-payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .checkout-payment-method {
            background: white;
            border: 2px solid var(--border);
            border-radius: 16px;
            padding: 25px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            text-align: center;
        }
        
        .checkout-payment-method:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }
        
        .checkout-payment-method.selected {
            border-color: var(--accent);
            background: var(--accent-light);
        }
        
        .checkout-payment-method.selected::before {
            content: 'âœ“';
            position: absolute;
            top: 15px;
            right: 15px;
            width: 24px;
            height: 24px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 14px;
        }
        
        .payment-method-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: var(--accent-light);
            color: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin: 0 auto 15px;
        }
        
        .payment-method-name {
            font-weight: 700;
            font-size: 14px;
            color: var(--text-dark);
            margin-bottom: 5px;
        }
        
        .payment-method-description {
            font-size: 12px;
            color: var(--text-light);
            line-height: 1.4;
        }
        
        .checkout-summary {
            background: var(--neutral);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--border);
            position: sticky;
            top: 100px;
            height: fit-content;
        }
        
        .checkout-summary-title {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--text-dark);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
        }
        
        .checkout-order-items {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
            padding-right: 10px;
        }
        
        .checkout-order-item {
            display: flex;
            gap: 15px;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }
        
        .checkout-order-item:last-child {
            border-bottom: none;
        }
        
        .checkout-order-item-image {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            object-fit: cover;
            flex-shrink: 0;
        }
        
        .checkout-order-item-info {
            flex: 1;
            min-width: 0;
        }
        
        .checkout-order-item-name {
            font-weight: 600;
            font-size: 14px;
            color: var(--text-dark);
            margin-bottom: 5px;
            line-height: 1.3;
        }
        
        .checkout-order-item-details {
            font-size: 12px;
            color: var(--text-light);
            margin-bottom: 5px;
        }
        
        .checkout-order-item-price {
            font-weight: 700;
            font-size: 14px;
            color: var(--accent);
        }
        
        .checkout-summary-details {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }
        
        .checkout-summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 15px;
            color: var(--text-medium);
        }
        
        .checkout-summary-item.total {
            font-weight: 800;
            font-size: 1.3rem;
            color: var(--text-dark);
            margin-top: 5px;
        }
        
        .checkout-summary-item.value {
            font-weight: 600;
            color: var(--text-dark);
        }
        
        .checkout-agreement {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 25px;
            padding: 15px;
            background: var(--accent-light);
            border-radius: 12px;
            border: 1px solid var(--accent);
        }
        
        .checkout-agreement-checkbox {
            margin-top: 2px;
        }
        
        .checkout-agreement-text {
            font-size: 13px;
            color: var(--accent);
            line-height: 1.5;
        }
        
        .checkout-agreement-text a {
            color: inherit;
            text-decoration: underline;
            font-weight: 600;
        }
        
        .btn-place-order {
            width: 100%;
            padding: 18px;
            background: var(--success);
            color: white;
            border: none;
            border-radius: 14px;
            font-weight: 800;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
        }
        
        .btn-place-order:hover {
            background: #0da271;
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(16, 185, 129, 0.4);
        }
        
        .btn-place-order:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        .checkout-secure {
            margin-top: 15px;
            text-align: center;
        }
        
        .checkout-secure-icon {
            color: var(--success);
            margin-right: 8px;
        }
        
        .checkout-secure-text {
            font-size: 13px;
            color: var(--text-light);
        }
        
        /* Orders Page */
        .orders-container {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            margin-bottom: 40px;
        }
        
        .orders-header {
            padding: 30px;
            border-bottom: 1px solid var(--border);
            background: var(--neutral);
        }
        
        .orders-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 5px;
        }
        
        .orders-subtitle {
            font-size: 15px;
            color: var(--text-light);
        }
        
        .orders-tabs {
            display: flex;
            gap: 2px;
            background: var(--neutral);
            border-radius: 16px;
            padding: 6px;
            margin-top: 20px;
        }
        
        .orders-tab-btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            background: transparent;
            color: var(--text-light);
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 12px;
            text-align: center;
        }
        
        .orders-tab-btn:hover {
            color: var(--text-dark);
            background: white;
            box-shadow: var(--shadow-sm);
        }
        
        .orders-tab-btn.active {
            background: white;
            color: var(--accent);
            box-shadow: var(--shadow);
        }
        
        .orders-content {
            padding: 30px;
        }
        
        .orders-empty {
            text-align: center;
            padding: 60px 30px;
        }
        
        .orders-empty-icon {
            font-size: 4rem;
            color: var(--neutral-dark);
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .orders-empty-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 10px;
        }
        
        .orders-empty-message {
            color: var(--text-light);
            max-width: 400px;
            margin: 0 auto 30px;
        }
        
        .orders-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .order-card {
            background: white;
            border-radius: 18px;
            border: 1px solid var(--border);
            overflow: hidden;
            transition: var(--transition);
        }
        
        .order-card:hover {
            box-shadow: var(--shadow-lg);
            border-color: var(--border-dark);
            transform: translateY(-5px);
        }
        
        .order-header {
            padding: 25px;
            border-bottom: 1px solid var(--border);
            background: var(--neutral);
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .order-info {
            flex: 1;
            min-width: 0;
        }
        
        .order-id {
            font-weight: 800;
            font-size: 16px;
            color: var(--text-dark);
            margin-bottom: 5px;
        }
        
        .order-date {
            font-size: 14px;
            color: var(--text-light);
            margin-bottom: 5px;
        }
        
        .order-shop {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--text-medium);
        }
        
        .order-shop-name {
            font-weight: 600;
            color: var(--accent);
        }
        
        .order-status {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .order-status-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }
        
        .status-pending {
            background: var(--warning-light);
            color: var(--warning);
        }
        
        .status-confirmed {
            background: var(--accent-light);
            color: var(--accent);
        }
        
        .status-preparing {
            background: #7C3AED;
            color: white;
        }
        
        .status-packed {
            background: #8B5CF6;
            color: white;
        }
        
        .status-ready-for-pickup {
            background: #10B981;
            color: white;
        }
        
        .status-out-for-delivery {
            background: #3A8EF6;
            color: white;
        }
        
        .status-delivered {
            background: var(--success);
            color: white;
        }
        
        .status-cancelled {
            background: var(--danger);
            color: white;
        }
        
        .status-returned {
            background: var(--warning);
            color: white;
        }
        
        .order-status-time {
            font-size: 13px;
            color: var(--text-light);
            white-space: nowrap;
        }
        
        .order-body {
            padding: 25px;
        }
        
        .order-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .order-item {
            display: flex;
            gap: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }
        
        .order-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }
        
        .order-item-image {
            width: 80px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            flex-shrink: 0;
        }
        
        .order-item-info {
            flex: 1;
            min-width: 0;
        }
        
        .order-item-name {
            font-weight: 600;
            font-size: 15px;
            color: var(--text-dark);
            margin-bottom: 5px;
            line-height: 1.3;
        }
        
        .order-item-details {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 8px;
        }
        
        .order-item-price {
            font-weight: 700;
            font-size: 15px;
            color: var(--accent);
        }
        
        .order-summary {
            background: var(--neutral);
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .order-summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 15px;
            color: var(--text-medium);
            margin-bottom: 10px;
        }
        
        .order-summary-item:last-child {
            margin-bottom: 0;
            padding-top: 10px;
            border-top: 2px solid var(--border);
            font-weight: 800;
            font-size: 1.2rem;
            color: var(--text-dark);
        }
        
        .order-summary-item.value {
            font-weight: 600;
            color: var(--text-dark);
        }
        
        .order-footer {
            padding: 25px;
            border-top: 1px solid var(--border);
            background: var(--neutral);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .order-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        /* FIXED: Removed "Modify Order" button */
        /* FIXED: Removed "Track Order" button */
        
        .btn-reorder {
            padding: 10px 20px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-reorder:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(58, 142, 246, 0.3);
        }
        
        .btn-view-invoice {
            padding: 10px 20px;
            background: white;
            color: var(--text-dark);
            border: 1px solid var(--border);
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-view-invoice:hover {
            background: var(--neutral);
            border-color: var(--border-dark);
            transform: translateY(-2px);
        }
        
        .btn-rate-order {
            padding: 10px 20px;
            background: var(--success);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-rate-order:hover {
            background: #0da271;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        
        .btn-cancel-order {
            padding: 10px 20px;
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-cancel-order:hover {
            background: #dc2626;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }
        
        .order-timeline {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid var(--border);
        }
        
        .order-timeline-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--text-dark);
            margin-bottom: 20px;
        }
        
        /* Wishlist Page */
        .wishlist-container {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            margin-bottom: 40px;
        }
        
        .wishlist-header {
            padding: 30px;
            border-bottom: 1px solid var(--border);
            background: var(--neutral);
        }
        
        .wishlist-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 5px;
        }
        
        .wishlist-subtitle {
            font-size: 15px;
            color: var(--text-light);
        }
        
        .wishlist-content {
            padding: 30px;
        }
        
        .wishlist-empty {
            text-align: center;
            padding: 60px 30px;
        }
        
        .wishlist-empty-icon {
            font-size: 4rem;
            color: var(--neutral-dark);
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .wishlist-empty-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 10px;
        }
        
        .wishlist-empty-message {
            color: var(--text-light);
            max-width: 400px;
            margin: 0 auto 30px;
        }
        
        .wishlist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .wishlist-item {
            background: white;
            border-radius: 18px;
            padding: 25px;
            border: 1px solid var(--border);
            display: flex;
            gap: 20px;
            transition: var(--transition);
            position: relative;
        }
        
        .wishlist-item:hover {
            box-shadow: var(--shadow);
            border-color: var(--border-dark);
            transform: translateY(-5px);
        }
        
        .wishlist-item-remove {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            border-radius: 8px;
            background: var(--danger-light);
            color: var(--danger);
            border: none;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .wishlist-item-remove:hover {
            background: var(--danger);
            color: white;
            transform: scale(1.1);
        }
        
        .wishlist-item-image {
            width: 100px;
            height: 100px;
            border-radius: 14px;
            object-fit: cover;
            flex-shrink: 0;
            cursor: pointer;
        }
        
        .wishlist-item-info {
            flex: 1;
            min-width: 0;
        }
        
        .wishlist-item-title {
            font-weight: 700;
            font-size: 16px;
            color: var(--text-dark);
            margin-bottom: 8px;
            line-height: 1.3;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .wishlist-item-title:hover {
            color: var(--accent);
        }
        
        .wishlist-item-category {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .wishlist-item-price {
            font-weight: 800;
            font-size: 18px;
            color: var(--accent);
            margin-bottom: 15px;
        }
        
        .wishlist-item-stock {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .wishlist-item-stock.in-stock {
            color: var(--success);
        }
        
        .wishlist-item-stock.out-of-stock {
            color: var(--danger);
        }
        
        .wishlist-item-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .btn-add-to-cart-wishlist {
            flex: 1;
            padding: 10px 15px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        
        .btn-add-to-cart-wishlist:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(58, 142, 246, 0.3);
        }
        
        .btn-add-to-cart-wishlist.out-of-stock {
            background: var(--danger);
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .btn-add-to-cart-wishlist.out-of-stock:hover {
            transform: none;
            box-shadow: none;
        }
        
        .wishlist-clear-all {
            margin-top: 30px;
            text-align: right;
        }
        
        .btn-clear-wishlist {
            padding: 12px 24px;
            background: var(--danger-light);
            color: var(--danger);
            border: 1px solid var(--danger);
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-clear-wishlist:hover {
            background: var(--danger);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }
        
        /* Profile Page */
        .profile-container {
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            margin-bottom: 40px;
        }
        
        .profile-header {
            padding: 40px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            text-align: center;
            position: relative;
        }
        
        .profile-avatar-large {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: white;
            color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: 800;
            margin: 0 auto 20px;
            border: 6px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .profile-name {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 8px;
        }
        
        .profile-email {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .profile-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .profile-stat {
            text-align: center;
        }
        
        .profile-stat-value {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 5px;
        }
        
        .profile-stat-label {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .profile-edit-btn {
            position: absolute;
            top: 30px;
            right: 30px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            backdrop-filter: blur(10px);
        }
        
        .profile-edit-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.2);
        }
        
        .profile-content {
            padding: 40px;
        }
        
        .profile-section {
            margin-bottom: 40px;
        }
        
        .profile-section:last-child {
            margin-bottom: 0;
        }
        
        .profile-section-title {
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--text-dark);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .profile-section-title i {
            color: var(--accent);
        }
        
        .profile-form {
            max-width: 600px;
        }
        
        /* FIXED: Phone number field styling */
        .profile-phone-field {
            position: relative;
        }
        
        .profile-phone-field .form-control {
            padding-left: 80px;
        }
        
        .phone-prefix {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--neutral);
            padding: 0 10px;
            font-weight: 600;
            color: var(--text-dark);
            border-right: 1px solid var(--border);
            height: 24px;
            display: flex;
            align-items: center;
        }
        
        .profile-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .profile-info-item {
            background: var(--neutral);
            padding: 20px;
            border-radius: 16px;
            border: 1px solid var(--border);
        }
        
        .profile-info-label {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 8px;
        }
        
        .profile-info-value {
            font-weight: 600;
            font-size: 15px;
            color: var(--text-dark);
        }
        
        /* FIXED: Address section styling */
        .addresses-section {
            margin-bottom: 40px;
        }
        
        .addresses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .address-card {
            background: white;
            border-radius: 18px;
            padding: 25px;
            border: 2px solid var(--border);
            transition: var(--transition);
            position: relative;
        }
        
        .address-card:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }
        
        .address-card.default {
            border-color: var(--accent);
            background: var(--accent-light);
        }
        
        .address-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .address-type {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .address-type-icon {
            width: 24px;
            color: var(--accent);
            font-size: 16px;
        }
        
        .address-type-text {
            font-weight: 700;
            font-size: 15px;
            color: var(--text-dark);
        }
        
        .address-default-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: var(--success-light);
            color: var(--success);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }
        
        /* FIXED: Address actions buttons */
        .address-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-edit-address {
            padding: 6px 12px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .btn-edit-address:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(58, 142, 246, 0.3);
        }
        
        .btn-delete-address {
            padding: 6px 12px;
            background: var(--danger-light);
            color: var(--danger);
            border: 1px solid var(--danger);
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .btn-delete-address:hover {
            background: var(--danger);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(239, 68, 68, 0.3);
        }
        
        .address-details {
            font-size: 14px;
            color: var(--text-medium);
            line-height: 1.5;
        }
        
        .address-details p {
            margin-bottom: 8px;
        }
        
        .address-phone {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-light);
            font-size: 13px;
            margin-top: 10px;
        }
        
        .btn-add-new-address-profile {
            width: 100%;
            padding: 25px;
            background: var(--neutral);
            border: 2px dashed var(--border);
            border-radius: 16px;
            color: var(--text-dark);
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn-add-new-address-profile:hover {
            border-color: var(--accent);
            background: var(--accent-light);
            color: var(--accent);
        }
        
        .profile-settings {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: var(--neutral);
            border-radius: 16px;
            border: 1px solid var(--border);
            transition: var(--transition);
        }
        
        .setting-item:hover {
            border-color: var(--border-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }
        
        .setting-info {
            flex: 1;
        }
        
        .setting-title {
            font-weight: 600;
            font-size: 15px;
            color: var(--text-dark);
            margin-bottom: 5px;
        }
        
        .setting-description {
            font-size: 13px;
            color: var(--text-light);
        }
        
        /* Footer */
        .app-footer {
            background: var(--primary);
            color: white;
            padding: 60px 0 30px;
            margin-top: 60px;
        }
        
        .footer-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-section-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: white;
        }
        
        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .footer-links li {
            margin-bottom: 12px;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition);
            font-size: 15px;
        }
        
        .footer-links a:hover {
            color: white;
            padding-left: 5px;
        }
        
        .footer-contact-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .footer-contact-item {
            display: flex;
            align-items: center;
            gap: 12px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 15px;
        }
        
        .footer-contact-icon {
            font-size: 1.2rem;
            color: var(--accent);
        }
        
        .footer-social {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .footer-social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: var(--transition);
            text-decoration: none;
        }
        
        .footer-social-link:hover {
            background: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(58, 142, 246, 0.3);
        }
        
        .footer-bottom {
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
        }
        
        .footer-bottom-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .footer-bottom-links a {
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-bottom-links a:hover {
            color: white;
        }
        
        .footer-copyright {
            font-size: 13px;
        }
        
        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 90px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            visibility: hidden;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(58, 142, 246, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .back-to-top.show {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            background: var(--accent-hover);
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(58, 142, 246, 0.4);
        }
        
        /* Special Effects */
        .gradient-text {
            background: linear-gradient(135deg, var(--accent), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, var(--accent), var(--primary));
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .hover-lift {
            transition: var(--transition);
        }
        
        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .pulse-effect {
            animation: pulse 2s infinite;
        }
        
        .shine-effect {
            position: relative;
            overflow: hidden;
        }
        
        .shine-effect::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to right,
                transparent 0%,
                rgba(255, 255, 255, 0.1) 50%,
                transparent 100%
            );
            transform: rotate(30deg);
            transition: transform 0.6s;
        }
        
        .shine-effect:hover::after {
            transform: rotate(30deg) translate(20%, 20%);
        }
        
        /* Custom Scrollbar for Components */
        .scrollable {
            scrollbar-width: thin;
            scrollbar-color: var(--accent) var(--neutral);
        }
        
        .scrollable::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        .scrollable::-webkit-scrollbar-track {
            background: var(--neutral);
            border-radius: 3px;
        }
        
        .scrollable::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 3px;
        }
        
        .scrollable::-webkit-scrollbar-thumb:hover {
            background: var(--accent-hover);
        }
    </style>
</head>
<body>
    <!-- App Header -->
    <header class="app-header">
        <div class="header-container">
            <!-- Brand Logo -->
            <a href="#" class="brand" onclick="showPage('homePage'); return false;">
                <div class="brand-logo">RM</div>
                <div class="brand-text">
                    <span>Raashanmart</span>
                    <span class="brand-subtitle">Online Shopping</span>
                </div>
            </a>
            
            <!-- Location Selector -->
            <div class="location-selector" onclick="openLocationModal()">
                <div class="location-icon">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="location-info">
                    <div class="location-label">Deliver to</div>
                    <div class="location-value" id="currentLocation">Mumbai, 400001</div>
                </div>
                <div class="location-arrow">
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
            
            <!-- Search Container -->
            <div class="search-container">
                <input type="text" class="search-bar" id="searchInput" 
                       placeholder="Search for products, categories, or shops..."
                       onfocus="showSearchResults()">
                <div class="search-icon">
                    <i class="fas fa-search"></i>
                </div>
                <div class="search-results" id="searchResults">
                    <!-- Search results will be dynamically populated -->
                </div>
            </div>
            
            <!-- Header Actions -->
            <div class="header-actions">
                <!-- Notifications -->
                <button class="header-action-btn" id="notificationBtn" onclick="toggleNotificationPanel()">
                    <i class="fas fa-bell"></i>
                    <span class="action-badge" id="notificationBadge">3</span>
                    <span class="action-label">Notifications</span>
                </button>
                
                <!-- Cart -->
                <button class="header-action-btn cart-btn" onclick="showPage('cartPage')">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="action-badge" id="cartBadge">2</span>
                    <span class="action-label">Cart</span>
                </button>
                
                <!-- User Profile Menu -->
                <div class="user-profile-menu">
                    <div class="user-avatar" id="userAvatar" onclick="toggleUserMenu()">U</div>
                    <div class="dropdown-menu" id="userMenu">
                        <div class="dropdown-header">
                            <div class="dropdown-user-info">
                                <div class="dropdown-user-avatar">U</div>
                                <div class="dropdown-user-details">
                                    <div class="dropdown-user-name" id="dropdownUserName">User Name</div>
                                    <div class="dropdown-user-email" id="dropdownUserEmail">user@example.com</div>
                                </div>
                            </div>
                        </div>
                        <div class="dropdown-list">
                            <a href="#" class="dropdown-item" onclick="showPage('profilePage'); closeUserMenu();">
                                <div class="dropdown-item-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="dropdown-item-text">My Profile</div>
                            </a>
                            <a href="#" class="dropdown-item" onclick="showPage('ordersPage'); closeUserMenu();">
                                <div class="dropdown-item-icon">
                                    <i class="fas fa-shopping-bag"></i>
                                </div>
                                <div class="dropdown-item-text">My Orders</div>
                                <div class="dropdown-item-badge" id="userMenuOrdersBadge">3</div>
                            </a>
                            <a href="#" class="dropdown-item" onclick="showPage('wishlistPage'); closeUserMenu();">
                                <div class="dropdown-item-icon">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <div class="dropdown-item-text">Wishlist</div>
                                <div class="dropdown-item-badge" id="userMenuWishlistBadge">5</div>
                            </a>
                            <a href="#" class="dropdown-item" onclick="showPage('addressesPage'); closeUserMenu();">
                                <div class="dropdown-item-icon">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <div class="dropdown-item-text">Saved Addresses</div>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item" onclick="showNotificationSettings(); closeUserMenu();">
                                <div class="dropdown-item-icon">
                                    <i class="fas fa-bell"></i>
                                </div>
                                <div class="dropdown-item-text">Notification Settings</div>
                            </a>
                            <a href="#" class="dropdown-item" onclick="showHelp(); closeUserMenu();">
                                <div class="dropdown-item-icon">
                                    <i class="fas fa-question-circle"></i>
                                </div>
                                <div class="dropdown-item-text">Help & Support</div>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item" onclick="logout(); closeUserMenu();">
                                <div class="dropdown-item-icon">
                                    <i class="fas fa-sign-out-alt"></i>
                                </div>
                                <div class="dropdown-item-text">Logout</div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Notification Panel -->
    <div class="notification-panel" id="notificationPanel">
        <div class="notification-header">
            <h3>Notifications</h3>
            <div class="notification-actions">
                <button class="btn-mark-all-read" onclick="markAllNotificationsAsRead()">Mark all as read</button>
                <button class="btn-close-notifications" onclick="closeNotificationPanel()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="notification-list" id="notificationList">
            <!-- Notifications will be dynamically loaded -->
        </div>
    </div>
    
    <!-- Overlay -->
    <div class="overlay" id="overlay" onclick="closeAllModals()"></div>
    
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>
    
    <!-- Main Content -->
    <main>
        <!-- Home Page -->
        <div id="homePage" class="page active">
            <div class="container-main">
                <!-- Hero Banner -->
                <section class="hero-section">
                    <div class="hero-banner">
                        <div class="hero-content">
                            <div class="hero-badge">
                                <i class="fas fa-bolt"></i>
                                <span>Fast Delivery in 30 Minutes</span>
                            </div>
                            <h1 class="hero-title">Groceries Delivered to Your Doorstep</h1>
                            <p class="hero-subtitle">Fresh produce, pantry staples, and household essentials at best prices. Free delivery on orders above â‚¹299.</p>
                            <div class="hero-buttons">
                                <button class="btn btn-primary" onclick="showPage('productsPage')">
                                    <i class="fas fa-shopping-cart"></i>
                                    Shop Now
                                </button>
                                <button class="btn btn-secondary" onclick="showPage('offersPage')">
                                    <i class="fas fa-tag"></i>
                                    View Offers
                                </button>
                            </div>
                        </div>
                        <div class="hero-pattern"></div>
                        <div class="hero-image"></div>
                    </div>
                </section>
                
                <!-- Categories Section -->
                <section class="categories-section">
                    <div class="section-header">
                        <h2 class="section-title">Shop by Category</h2>
                        <div class="section-actions">
                            <a href="#" class="view-all-btn" onclick="showPage('categoriesPage'); return false;">
                                View All Categories
                                <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                    <div class="category-grid" id="homeCategories">
                        <!-- Categories will be dynamically loaded -->
                    </div>
                </section>
                
                <!-- Featured Products -->
                <section class="featured-products-section">
                    <div class="section-header">
                        <h2 class="section-title">Featured Products</h2>
                        <div class="section-actions">
                            <a href="#" class="view-all-btn" onclick="showPage('productsPage'); return false;">
                                View All Products
                                <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                    <div class="product-grid" id="featuredProducts">
                        <!-- Featured products will be dynamically loaded -->
                    </div>
                </section>
                
                <!-- Special Offers -->
                <section class="offers-section">
                    <div class="section-header">
                        <h2 class="section-title">Special Offers</h2>
                        <div class="section-actions">
                            <a href="#" class="view-all-btn" onclick="showPage('offersPage'); return false;">
                                View All Offers
                                <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                    <div class="offers-grid" id="specialOffers">
                        <!-- Offers will be dynamically loaded -->
                    </div>
                </section>
                
                <!-- Nearby Shops -->
                <section class="shops-section">
                    <div class="section-header">
                        <h2 class="section-title">Shops Near You</h2>
                        <div class="section-actions">
                            <a href="#" class="view-all-btn" onclick="showPage('shopsPage'); return false;">
                                View All Shops
                                <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                    <div class="shop-grid" id="nearbyShops">
                        <!-- Nearby shops will be dynamically loaded -->
                    </div>
                </section>
                
                <!-- Quick Actions -->
                <section class="quick-actions-section">
                    <div class="section-header">
                        <h2 class="section-title">Quick Actions</h2>
                    </div>
                    <div class="quick-actions-grid">
                        <div class="quick-action-card" onclick="showPage('ordersPage')">
                            <div class="quick-action-icon">
                                <i class="fas fa-box"></i>
                            </div>
                            <div class="quick-action-title">Track Order</div>
                            <div class="quick-action-description">Check order status & updates</div>
                        </div>
                        <div class="quick-action-card" onclick="showPage('recentOrdersPage')">
                            <div class="quick-action-icon">
                                <i class="fas fa-history"></i>
                            </div>
                            <div class="quick-action-title">Recent Orders</div>
                            <div class="quick-action-description">View your recent purchases</div>
                        </div>
                        <div class="quick-action-card" onclick="showPage('offersPage')">
                            <div class="quick-action-icon">
                                <i class="fas fa-tags"></i>
                            </div>
                            <div class="quick-action-title">Offers & Deals</div>
                            <div class="quick-action-description">Exclusive discounts for you</div>
                        </div>
                        <div class="quick-action-card" onclick="showPage('supportPage')">
                            <div class="quick-action-icon">
                                <i class="fas fa-headset"></i>
                            </div>
                            <div class="quick-action-title">24/7 Support</div>
                            <div class="quick-action-description">Get help anytime</div>
                        </div>
                    </div>
                </section>
                
                <!-- Banners Section -->
                <section class="banners-section">
                    <div class="banners-grid">
                        <div class="banner-card primary" onclick="showPage('groceryPage')">
                            <div class="banner-content">
                                <h3 class="banner-title">Daily Grocery Essentials</h3>
                                <p class="banner-description">Fresh vegetables, fruits, dairy, and more delivered daily</p>
                                <button class="btn btn-sm btn-primary">Shop Now</button>
                            </div>
                            <div class="banner-image" style="background-image: url('https://images.unsplash.com/photo-1542838132-92c53300491e?w=400')"></div>
                        </div>
                        <div class="banner-card accent" onclick="showPage('snacksPage')">
                            <div class="banner-content">
                                <h3 class="banner-title">Snacks & Beverages</h3>
                                <p class="banner-description">Chips, cookies, cold drinks, and instant foods</p>
                                <button class="btn btn-sm btn-primary">Shop Now</button>
                            </div>
                            <div class="banner-image" style="background-image: url('https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=400')"></div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- Products Page -->
        <div id="productsPage" class="page">
            <div class="container-main">
                <div class="page-header">
                    <h1 class="page-title">All Products</h1>
                    <p class="page-subtitle">Browse our wide range of products across all categories</p>
                    <div class="page-actions">
                        <div class="search-container" style="max-width: 400px; margin: 0;">
                            <input type="text" class="search-bar" placeholder="Search products..." id="productsSearch">
                            <div class="search-icon">
                                <i class="fas fa-search"></i>
                            </div>
                        </div>
                        <select class="form-control" id="productsSort" style="max-width: 200px;">
                            <option value="popular">Sort by: Popular</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="newest">Newest First</option>
                            <option value="discount">Best Discount</option>
                        </select>
                        <button class="btn btn-outline" onclick="openFilterModal()">
                            <i class="fas fa-filter"></i>
                            Filter
                        </button>
                    </div>
                </div>
                
                <div class="products-filter-section">
                    <div class="tabs">
                        <button class="tab-btn active" onclick="filterProducts('all')">All Products</button>
                        <button class="tab-btn" onclick="filterProducts('featured')">Featured</button>
                        <button class="tab-btn" onclick="filterProducts('discount')">On Sale</button>
                        <button class="tab-btn" onclick="filterProducts('new')">New Arrivals</button>
                    </div>
                </div>
                
                <div class="product-grid" id="allProducts">
                    <!-- All products will be dynamically loaded -->
                </div>
                
                <div class="pagination" id="productsPagination">
                    <!-- Pagination will be dynamically loaded -->
                </div>
            </div>
        </div>
        
        <!-- Categories Page -->
        <div id="categoriesPage" class="page">
            <div class="container-main">
                <div class="page-header">
                    <h1 class="page-title">Categories</h1>
                    <p class="page-subtitle">Browse products by category</p>
                    <div class="page-actions">
                        <div class="search-container" style="max-width: 400px; margin: 0;">
                            <input type="text" class="search-bar" placeholder="Search categories..." id="categoriesSearch">
                            <div class="search-icon">
                                <i class="fas fa-search"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="category-grid" id="allCategories">
                    <!-- All categories will be dynamically loaded -->
                </div>
            </div>
        </div>
        
        <!-- Shops Page -->
        <div id="shopsPage" class="page">
            <div class="container-main">
                <div class="page-header">
                    <h1 class="page-title">Shops</h1>
                    <p class="page-subtitle">Browse shops near you</p>
                    <div class="page-actions">
                        <div class="search-container" style="max-width: 400px; margin: 0;">
                            <input type="text" class="search-bar" placeholder="Search shops..." id="shopsSearch">
                            <div class="search-icon">
                                <i class="fas fa-search"></i>
                            </div>
                        </div>
                        <select class="form-control" id="shopsSort" style="max-width: 200px;">
                            <option value="distance">Sort by: Distance</option>
                            <option value="rating">Rating: High to Low</option>
                            <option value="popular">Most Popular</option>
                            <option value="new">Newly Added</option>
                        </select>
                    </div>
                </div>
                
                <div class="shop-grid" id="allShops">
                    <!-- All shops will be dynamically loaded -->
                </div>
                
                <div class="pagination" id="shopsPagination">
                    <!-- Pagination will be dynamically loaded -->
                </div>
            </div>
        </div>
        
        <!-- Product Detail Page -->
        <div id="productDetailPage" class="page">
            <div class="container-main">
                <div class="product-detail-container" id="productDetailContainer">
                    <!-- Product detail will be dynamically loaded -->
                </div>
                
                <!-- Related Products -->
                <section class="related-products-section">
                    <h2 class="related-products-title">Related Products</h2>
                    <div class="product-grid" id="relatedProducts">
                        <!-- Related products will be dynamically loaded -->
                    </div>
                </section>
            </div>
        </div>
        
        <!-- Shop Detail Page -->
        <div id="shopDetailPage" class="page">
            <div class="container-main">
                <div class="shop-detail-container" id="shopDetailContainer">
                    <!-- Shop detail will be dynamically loaded -->
                </div>
            </div>
        </div>
        
        <!-- Cart Page -->
        <div id="cartPage" class="page">
            <div class="container-main">
                <div class="cart-container">
                    <div class="cart-header">
                        <h1 class="cart-title">Shopping Cart</h1>
                        <p class="cart-subtitle" id="cartItemCount">2 items in your cart</p>
                    </div>
                    
                    <div class="cart-main">
                        <div class="cart-items" id="cartItems">
                            <!-- Cart items will be dynamically loaded -->
                        </div>
                        
                        <div class="cart-summary">
                            <h3 class="cart-summary-title">Order Summary</h3>
                            <div class="cart-summary-items">
                                <div class="cart-summary-item">
                                    <span>Subtotal</span>
                                    <span class="value" id="cartSubtotal">â‚¹0</span>
                                </div>
                                <div class="cart-summary-item">
                                    <span>Delivery Fee</span>
                                    <span class="value" id="cartDelivery">â‚¹40</span>
                                </div>
                                <div class="cart-summary-item">
                                    <span>Tax (5%)</span>
                                    <span class="value" id="cartTax">â‚¹0</span>
                                </div>
                                <div class="cart-summary-item total">
                                    <span>Total Amount</span>
                                    <span class="value" id="cartTotal">â‚¹0</span>
                                </div>
                            </div>
                            
                            <div class="cart-summary-discount">
                                <div class="cart-discount-title">Apply Discount Code</div>
                                <div class="cart-discount-input">
                                    <input type="text" class="cart-discount-code" id="discountCode" placeholder="Enter code">
                                    <button class="btn-apply-discount" onclick="applyDiscount()">Apply</button>
                                </div>
                            </div>
                            
                            <div class="cart-summary-actions">
                                <button class="btn-checkout" onclick="proceedToCheckout()">
                                    <i class="fas fa-lock"></i>
                                    Proceed to Checkout
                                </button>
                                <button class="btn-continue-shopping" onclick="showPage('homePage')">
                                    <i class="fas fa-arrow-left"></i>
                                    Continue Shopping
                                </button>
                            </div>
                            
                            <div class="cart-save-message">
                                <i class="fas fa-info-circle"></i>
                                Your cart is saved for 30 days
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Recommendations -->
                <section class="cart-recommendations">
                    <h2 class="cart-recommendations-title">Frequently Bought Together</h2>
                    <div class="product-grid" id="cartRecommendations">
                        <!-- Recommendations will be dynamically loaded -->
                    </div>
                </section>
            </div>
        </div>
        
        <!-- Checkout Page -->
        <div id="checkoutPage" class="page">
            <div class="container-main">
                <div class="checkout-container">
                    <div class="checkout-header">
                        <h1 class="checkout-title">Checkout</h1>
                        <div class="checkout-steps">
                            <div class="steps">
                                <div class="step active">
                                    <div class="step-icon">1</div>
                                    <div class="step-label">Address</div>
                                </div>
                                <div class="step">
                                    <div class="step-icon">2</div>
                                    <div class="step-label">Delivery</div>
                                </div>
                                <div class="step">
                                    <div class="step-icon">3</div>
                                    <div class="step-label">Payment</div>
                                </div>
                                <div class="step">
                                    <div class="step-icon">4</div>
                                    <div class="step-label">Review</div>
                                </div>
                                <div class="step-line" id="checkoutStepLine"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="checkout-main">
                        <div class="checkout-steps-content">
                            <!-- Step 1: Address -->
                            <div class="checkout-section" id="checkoutStep1">
                                <h3 class="checkout-section-title">Delivery Address</h3>
                                <div class="checkout-addresses" id="checkoutAddresses">
                                    <!-- Address cards will be dynamically loaded -->
                                </div>
                                <button class="btn-add-new-address" onclick="openAddressModal()">
                                    <i class="fas fa-plus"></i>
                                    Add New Address
                                </button>
                            </div>
                            
                            <!-- Step 2: Delivery -->
                            <div class="checkout-section" id="checkoutStep2" style="display: none;">
                                <h3 class="checkout-section-title">Delivery Options</h3>
                                <div class="checkout-delivery-options" id="deliveryOptions">
                                    <!-- Delivery options will be dynamically loaded -->
                                </div>
                            </div>
                            
                            <!-- Step 3: Payment -->
                            <div class="checkout-section" id="checkoutStep3" style="display: none;">
                                <h3 class="checkout-section-title">Payment Method</h3>
                                <div class="checkout-payment-methods" id="paymentMethods">
                                    <!-- Payment methods will be dynamically loaded -->
                                </div>
                            </div>
                            
                            <!-- Step 4: Review -->
                            <div class="checkout-section" id="checkoutStep4" style="display: none;">
                                <h3 class="checkout-section-title">Review Your Order</h3>
                                <div class="checkout-order-items" id="checkoutOrderItems">
                                    <!-- Order items will be dynamically loaded -->
                                </div>
                                <div class="checkout-summary-details" id="checkoutSummary">
                                    <!-- Summary will be dynamically loaded -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="checkout-summary">
                            <h3 class="checkout-summary-title">Order Summary</h3>
                            <div class="checkout-order-items" id="checkoutSummaryItems">
                                <!-- Order items will be dynamically loaded -->
                            </div>
                            <div class="checkout-summary-details" id="checkoutSummaryDetails">
                                <!-- Summary details will be dynamically loaded -->
                            </div>
                            
                            <div class="checkout-agreement">
                                <input type="checkbox" id="checkoutAgreement" class="checkout-agreement-checkbox">
                                <label for="checkoutAgreement" class="checkout-agreement-text">
                                    I agree to the <a href="#" onclick="showTerms()">Terms & Conditions</a> and confirm that I have read the <a href="#" onclick="showPrivacy()">Privacy Policy</a>.
                                </label>
                            </div>
                            
                            <button class="btn-place-order" id="btnPlaceOrder" onclick="placeOrder()" disabled>
                                <i class="fas fa-lock"></i>
                                Place Order
                            </button>
                            
                            <div class="checkout-secure">
                                <i class="fas fa-shield-alt checkout-secure-icon"></i>
                                <span class="checkout-secure-text">Secure SSL Encryption</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Orders Page -->
        <div id="ordersPage" class="page">
            <div class="container-main">
                <div class="orders-container">
                    <div class="orders-header">
                        <h1 class="orders-title">My Orders</h1>
                        <p class="orders-subtitle">View and manage all your orders</p>
                        
                        <div class="orders-tabs">
                            <button class="orders-tab-btn active" onclick="filterOrders('all')">All Orders</button>
                            <button class="orders-tab-btn" onclick="filterOrders('pending')">Pending</button>
                            <button class="orders-tab-btn" onclick="filterOrders('delivered')">Delivered</button>
                            <button class="orders-tab-btn" onclick="filterOrders('cancelled')">Cancelled</button>
                        </div>
                    </div>
                    
                    <div class="orders-content">
                        <div class="orders-list" id="ordersList">
                            <!-- Orders will be dynamically loaded -->
                        </div>
                        
                        <div class="pagination" id="ordersPagination">
                            <!-- Pagination will be dynamically loaded -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Order Detail Page -->
        <div id="orderDetailPage" class="page">
            <div class="container-main">
                <div class="orders-container" id="orderDetailContainer">
                    <!-- Order detail will be dynamically loaded -->
                </div>
            </div>
        </div>
        
        <!-- Wishlist Page -->
        <div id="wishlistPage" class="page">
            <div class="container-main">
                <div class="wishlist-container">
                    <div class="wishlist-header">
                        <h1 class="wishlist-title">My Wishlist</h1>
                        <p class="wishlist-subtitle">Save items you love for later</p>
                    </div>
                    
                    <div class="wishlist-content">
                        <div class="wishlist-grid" id="wishlistItems">
                            <!-- Wishlist items will be dynamically loaded -->
                        </div>
                        
                        <div class="wishlist-clear-all">
                            <button class="btn-clear-wishlist" onclick="clearWishlist()">
                                <i class="fas fa-trash"></i>
                                Clear Wishlist
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Profile Page -->
        <div id="profilePage" class="page">
            <div class="container-main">
                <div class="profile-container">
                    <div class="profile-header">
                        <div class="profile-avatar-large" id="profileAvatar">U</div>
                        <h1 class="profile-name" id="profileName">User Name</h1>
                        <p class="profile-email" id="profileEmail">user@example.com</p>
                        
                        <div class="profile-stats">
                            <div class="profile-stat">
                                <div class="profile-stat-value" id="profileOrdersCount">12</div>
                                <div class="profile-stat-label">Orders</div>
                            </div>
                            <div class="profile-stat">
                                <div class="profile-stat-value" id="profileWishlistCount">5</div>
                                <div class="profile-stat-label">Wishlist</div>
                            </div>
                            <div class="profile-stat">
                                <div class="profile-stat-value" id="profileAddressesCount">2</div>
                                <div class="profile-stat-label">Addresses</div>
                            </div>
                        </div>
                        
                        <button class="profile-edit-btn" onclick="openEditProfileModal()">
                            <i class="fas fa-edit"></i>
                            Edit Profile
                        </button>
                    </div>
                    
                    <div class="profile-content">
                        <!-- Personal Information -->
                        <div class="profile-section">
                            <h3 class="profile-section-title">
                                <i class="fas fa-user-circle"></i>
                                Personal Information
                            </h3>
                            <div class="profile-info-grid">
                                <div class="profile-info-item">
                                    <div class="profile-info-label">Full Name</div>
                                    <div class="profile-info-value" id="profileInfoName">User Name</div>
                                </div>
                                <div class="profile-info-item">
                                    <div class="profile-info-label">Email Address</div>
                                    <div class="profile-info-value" id="profileInfoEmail">user@example.com</div>
                                </div>
                                <div class="profile-info-item">
                                    <div class="profile-info-label">Phone Number</div>
                                    <div class="profile-info-value" id="profileInfoPhone">+91 9876543210</div>
                                </div>
                                <div class="profile-info-item">
                                    <div class="profile-info-label">Account Created</div>
                                    <div class="profile-info-value" id="profileInfoCreated">15 Jan 2023</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Saved Addresses -->
                        <div class="profile-section">
                            <h3 class="profile-section-title">
                                <i class="fas fa-map-marker-alt"></i>
                                Saved Addresses
                            </h3>
                            <div class="addresses-grid" id="profileAddresses">
                                <!-- Address cards will be dynamically loaded -->
                            </div>
                            <button class="btn-add-new-address-profile" onclick="openAddressModal()">
                                <i class="fas fa-plus"></i>
                                Add New Address
                            </button>
                        </div>
                        
                        <!-- Account Settings -->
                        <div class="profile-section">
                            <h3 class="profile-section-title">
                                <i class="fas fa-cog"></i>
                                Account Settings
                            </h3>
                            <div class="profile-settings">
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <div class="setting-title">Notification Preferences</div>
                                        <div class="setting-description">Manage your email and push notifications</div>
                                    </div>
                                    <button class="btn btn-outline btn-sm" onclick="openNotificationSettings()">
                                        Manage
                                    </button>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <div class="setting-title">Privacy & Security</div>
                                        <div class="setting-description">Change password and security settings</div>
                                    </div>
                                    <button class="btn btn-outline btn-sm" onclick="openPrivacySettings()">
                                        Manage
                                    </button>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <div class="setting-title">Delete Account</div>
                                        <div class="setting-description">Permanently delete your account and data</div>
                                    </div>
                                    <button class="btn btn-danger btn-sm" onclick="openDeleteAccountModal()">
                                        Delete
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Addresses Page -->
        <div id="addressesPage" class="page">
            <div class="container-main">
                <div class="profile-container">
                    <div class="profile-header">
                        <div class="profile-avatar-large">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <h1 class="profile-name">Saved Addresses</h1>
                        <p class="profile-email">Manage your delivery addresses</p>
                    </div>
                    
                    <div class="profile-content">
                        <div class="profile-section">
                            <div class="addresses-grid" id="allAddresses">
                                <!-- Address cards will be dynamically loaded -->
                            </div>
                            <button class="btn-add-new-address-profile" onclick="openAddressModal()">
                                <i class="fas fa-plus"></i>
                                Add New Address
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Offers Page -->
        <div id="offersPage" class="page">
            <div class="container-main">
                <div class="page-header">
                    <h1 class="page-title">Special Offers & Deals</h1>
                    <p class="page-subtitle">Exclusive discounts and offers just for you</p>
                </div>
                
                <div class="offers-grid" id="allOffers">
                    <!-- All offers will be dynamically loaded -->
                </div>
            </div>
        </div>
        
        <!-- Support Page -->
        <div id="supportPage" class="page">
            <div class="container-main">
                <div class="profile-container">
                    <div class="profile-header">
                        <div class="profile-avatar-large">
                            <i class="fas fa-headset"></i>
                        </div>
                        <h1 class="profile-name">Help & Support</h1>
                        <p class="profile-email">We're here to help you 24/7</p>
                    </div>
                    
                    <div class="profile-content">
                        <div class="profile-section">
                            <h3 class="profile-section-title">
                                <i class="fas fa-question-circle"></i>
                                Frequently Asked Questions
                            </h3>
                            <div class="accordion" id="faqAccordion">
                                <!-- FAQ will be dynamically loaded -->
                            </div>
                        </div>
                        
                        <div class="profile-section">
                            <h3 class="profile-section-title">
                                <i class="fas fa-phone-alt"></i>
                                Contact Support
                            </h3>
                            <div class="profile-info-grid">
                                <div class="profile-info-item">
                                    <div class="profile-info-label">Customer Care</div>
                                    <div class="profile-info-value">+91 1800-123-4567</div>
                                </div>
                                <div class="profile-info-item">
                                    <div class="profile-info-label">Email Support</div>
                                    <div class="profile-info-value">support@raashanmart.com</div>
                                </div>
                                <div class="profile-info-item">
                                    <div class="profile-info-label">Live Chat</div>
                                    <div class="profile-info-value">Available 24/7</div>
                                </div>
                                <div class="profile-info-item">
                                    <div class="profile-info-label">Response Time</div>
                                    <div class="profile-info-value">Within 2 hours</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Recent Orders Page -->
        <div id="recentOrdersPage" class="page">
            <div class="container-main">
                <div class="orders-container">
                    <div class="orders-header">
                        <h1 class="orders-title">Recent Orders</h1>
                        <p class="orders-subtitle">Your last 10 orders</p>
                    </div>
                    
                    <div class="orders-content">
                        <div class="orders-list" id="recentOrdersList">
                            <!-- Recent orders will be dynamically loaded -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Category Products Page -->
        <div id="categoryProductsPage" class="page">
            <div class="container-main">
                <div class="page-header">
                    <h1 class="page-title" id="categoryTitle">Category Products</h1>
                    <p class="page-subtitle" id="categoryDescription">Browse products in this category</p>
                    <div class="page-actions">
                        <select class="form-control" id="categoryProductsSort" style="max-width: 200px;">
                            <option value="popular">Sort by: Popular</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="newest">Newest First</option>
                        </select>
                    </div>
                </div>
                
                <div class="product-grid" id="categoryProducts">
                    <!-- Category products will be dynamically loaded -->
                </div>
                
                <div class="pagination" id="categoryPagination">
                    <!-- Pagination will be dynamically loaded -->
                </div>
            </div>
        </div>
    </main>
    
    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-indicator"></div>
        <a href="#" class="nav-item active" onclick="showPage('homePage'); return false;">
            <i class="fas fa-home nav-icon"></i>
            <span class="nav-label">Home</span>
        </a>
        <a href="#" class="nav-item" onclick="showPage('categoriesPage'); return false;">
            <i class="fas fa-th-large nav-icon"></i>
            <span class="nav-label">Categories</span>
        </a>
        <a href="#" class="nav-item" onclick="showPage('cartPage'); return false;">
            <i class="fas fa-shopping-cart nav-icon"></i>
            <span class="nav-label">Cart</span>
            <span class="nav-badge" id="bottomCartBadge">2</span>
        </a>
        <a href="#" class="nav-item" onclick="showPage('ordersPage'); return false;">
            <i class="fas fa-shopping-bag nav-icon"></i>
            <span class="nav-label">Orders</span>
            <span class="nav-badge" id="bottomOrdersBadge">3</span>
        </a>
        <a href="#" class="nav-item" onclick="showPage('profilePage'); return false;">
            <i class="fas fa-user nav-icon"></i>
            <span class="nav-label">Profile</span>
        </a>
    </nav>
    
    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
        <i class="fas fa-chevron-up"></i>
    </button>
    
    <!-- Modals and Bottom Sheets -->
    
    <!-- Location Modal -->
    <div class="modal" id="locationModal">
        <div class="modal-backdrop" onclick="closeLocationModal()"></div>
        <div class="modal-dialog">
            <div class="modal-header">
                <h3 class="modal-title">Select Delivery Location</h3>
                <button class="modal-close" onclick="closeLocationModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Enter Pincode or City</label>
                    <input type="text" class="form-control" id="locationSearch" placeholder="Enter pincode or city name">
                </div>
                <div class="location-suggestions" id="locationSuggestions">
                    <!-- Location suggestions will be dynamically loaded -->
                </div>
                <div class="recent-locations">
                    <h4>Recent Locations</h4>
                    <div class="recent-locations-list" id="recentLocations">
                        <!-- Recent locations will be dynamically loaded -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeLocationModal()">Cancel</button>
                <button class="btn btn-primary" onclick="saveLocation()">Save Location</button>
            </div>
        </div>
    </div>
    
    <!-- Filter Modal -->
    <div class="bottom-sheet" id="filterSheet">
        <div class="sheet-handle"></div>
        <div class="sheet-header">
            <h3 class="sheet-title">Filter Products</h3>
            <button class="btn btn-text" onclick="resetFilters()" style="font-size: 14px; color: var(--accent);">
                Reset All
            </button>
        </div>
        <div class="sheet-content">
            <div class="filter-section">
                <h4 class="filter-title">Price Range</h4>
                <div class="range-slider">
                    <div class="range-slider-track" id="priceRangeTrack"></div>
                    <div class="range-slider-thumb" id="priceMinThumb"></div>
                    <div class="range-slider-thumb" id="priceMaxThumb"></div>
                </div>
                <div class="range-slider-values">
                    <span id="priceMinValue">â‚¹0</span>
                    <span id="priceMaxValue">â‚¹5000</span>
                </div>
            </div>
            
            <div class="filter-section">
                <h4 class="filter-title">Categories</h4>
                <div class="filter-options" id="filterCategories">
                    <!-- Category filters will be dynamically loaded -->
                </div>
            </div>
            
            <div class="filter-section">
                <h4 class="filter-title">Brands</h4>
                <div class="filter-options" id="filterBrands">
                    <!-- Brand filters will be dynamically loaded -->
                </div>
            </div>
            
            <div class="filter-section">
                <h4 class="filter-title">Discount</h4>
                <div class="filter-options">
                    <label class="filter-option">
                        <input type="checkbox" name="discount" value="10">
                        <span>10% or more</span>
                    </label>
                    <label class="filter-option">
                        <input type="checkbox" name="discount" value="20">
                        <span>20% or more</span>
                    </label>
                    <label class="filter-option">
                        <input type="checkbox" name="discount" value="30">
                        <span>30% or more</span>
                    </label>
                    <label class="filter-option">
                        <input type="checkbox" name="discount" value="40">
                        <span>40% or more</span>
                    </label>
                </div>
            </div>
            
            <div class="filter-section">
                <h4 class="filter-title">Availability</h4>
                <div class="filter-options">
                    <label class="filter-option">
                        <input type="checkbox" name="availability" value="in-stock">
                        <span>In Stock</span>
                    </label>
                    <label class="filter-option">
                        <input type="checkbox" name="availability" value="out-of-stock">
                        <span>Out of Stock</span>
                    </label>
                </div>
            </div>
            
            <div class="filter-section">
                <h4 class="filter-title">Rating</h4>
                <div class="filter-options">
                    <label class="filter-option">
                        <input type="checkbox" name="rating" value="4">
                        <span>
                            <div class="rating">
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star"></i>
                                & above
                            </div>
                        </span>
                    </label>
                    <label class="filter-option">
                        <input type="checkbox" name="rating" value="3">
                        <span>
                            <div class="rating">
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                & above
                            </div>
                        </span>
                    </label>
                </div>
            </div>
        </div>
        <div class="sheet-actions">
            <button class="btn btn-outline" onclick="closeFilterSheet()">Cancel</button>
            <button class="btn btn-primary" onclick="applyFilters()">Apply Filters</button>
        </div>
    </div>
    
    <!-- Address Modal -->
    <div class="bottom-sheet" id="addressSheet">
        <div class="sheet-handle"></div>
        <div class="sheet-header">
            <h3 class="sheet-title" id="addressSheetTitle">Add New Address</h3>
        </div>
        <div class="sheet-content">
            <div class="form-group">
                <label class="form-label">Address Type</label>
                <select class="form-control" id="addressType">
                    <option value="home">Home</option>
                    <option value="work">Work</option>
                    <option value="other">Other</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Full Name</label>
                <input type="text" class="form-control" id="addressName" placeholder="Enter full name">
            </div>
            
            <div class="form-group">
                <label class="form-label">Phone Number</label>
                <div class="profile-phone-field">
                    <div class="phone-prefix">+91</div>
                    <input type="tel" class="form-control" id="addressPhone" placeholder="Enter phone number">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Pincode</label>
                <input type="text" class="form-control" id="addressPincode" placeholder="Enter pincode">
            </div>
            
            <div class="form-group">
                <label class="form-label">Address Line 1</label>
                <input type="text" class="form-control" id="addressLine1" placeholder="House no., Building, Street">
            </div>
            
            <div class="form-group">
                <label class="form-label">Address Line 2</label>
                <input type="text" class="form-control" id="addressLine2" placeholder="Area, Locality">
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">City</label>
                    <input type="text" class="form-control" id="addressCity" placeholder="City">
                </div>
                <div class="form-group">
                    <label class="form-label">State</label>
                    <input type="text" class="form-control" id="addressState" placeholder="State">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-check">
                    <input type="checkbox" id="setDefaultAddress">
                    <span class="form-check-label">Set as default address</span>
                </label>
            </div>
            
            <div class="form-group">
                <label class="form-check">
                    <input type="checkbox" id="saveAddressDetails">
                    <span class="form-check-label">Save these details for faster checkout</span>
                </label>
            </div>
        </div>
        <div class="sheet-actions">
            <button class="btn btn-outline" onclick="closeAddressSheet()">Cancel</button>
            <button class="btn btn-primary" id="saveAddressBtn" onclick="saveAddress()">Save Address</button>
        </div>
    </div>
    
    <!-- Edit Profile Modal -->
    <div class="modal" id="editProfileModal">
        <div class="modal-backdrop" onclick="closeEditProfileModal()"></div>
        <div class="modal-dialog">
            <div class="modal-header">
                <h3 class="modal-title">Edit Profile</h3>
                <button class="modal-close" onclick="closeEditProfileModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-control" id="editProfileName" placeholder="Enter your full name">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="editProfileEmail" placeholder="Enter your email" disabled>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Phone Number</label>
                    <div class="profile-phone-field">
                        <div class="phone-prefix">+91</div>
                        <input type="tel" class="form-control" id="editProfilePhone" placeholder="Enter phone number">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Profile Picture</label>
                    <div class="file-upload" id="profilePictureUpload">
                        <input type="file" class="file-upload-input" accept="image/*" id="profilePictureInput">
                        <div class="file-upload-content">
                            <div class="file-upload-icon">
                                <i class="fas fa-cloud-upload-alt"></i>
                            </div>
                            <div class="file-upload-text">Click to upload profile picture</div>
                            <div class="file-upload-subtext">JPEG, PNG up to 5MB</div>
                        </div>
                    </div>
                    <div class="file-preview" id="profilePicturePreview"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeEditProfileModal()">Cancel</button>
                <button class="btn btn-primary" onclick="saveProfile()">Save Changes</button>
            </div>
        </div>
    </div>
    
    <!-- Notification Settings Modal -->
    <div class="modal" id="notificationSettingsModal">
        <div class="modal-backdrop" onclick="closeNotificationSettings()"></div>
        <div class="modal-dialog">
            <div class="modal-header">
                <h3 class="modal-title">Notification Settings</h3>
                <button class="modal-close" onclick="closeNotificationSettings()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">Push Notifications</div>
                        <div class="setting-description">Receive push notifications on your device</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="pushNotifications" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">Email Notifications</div>
                        <div class="setting-description">Receive order updates via email</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="emailNotifications" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">SMS Notifications</div>
                        <div class="setting-description">Receive order updates via SMS</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="smsNotifications">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">Order Updates</div>
                        <div class="setting-description">Notifications about your orders</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="orderNotifications" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">Promotional Offers</div>
                        <div class="setting-description">Notifications about deals and discounts</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="promotionalNotifications" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">Price Drop Alerts</div>
                        <div class="setting-description">Notifications when prices drop on saved items</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="priceDropNotifications" checked>
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeNotificationSettings()">Cancel</button>
                <button class="btn btn-primary" onclick="saveNotificationSettings()">Save Settings</button>
            </div>
        </div>
    </div>
    
    <!-- Privacy Settings Modal -->
    <div class="modal" id="privacySettingsModal">
        <div class="modal-backdrop" onclick="closePrivacySettings()"></div>
        <div class="modal-dialog">
            <div class="modal-header">
                <h3 class="modal-title">Privacy & Security</h3>
                <button class="modal-close" onclick="closePrivacySettings()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Current Password</label>
                    <input type="password" class="form-control" id="currentPassword" placeholder="Enter current password">
                </div>
                
                <div class="form-group">
                    <label class="form-label">New Password</label>
                    <input type="password" class="form-control" id="newPassword" placeholder="Enter new password">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Confirm New Password</label>
                    <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm new password">
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">Two-Factor Authentication</div>
                        <div class="setting-description">Add an extra layer of security to your account</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="twoFactorAuth">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-title">Show Online Status</div>
                        <div class="setting-description">Let others see when you're online</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="onlineStatus" checked>
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closePrivacySettings()">Cancel</button>
                <button class="btn btn-primary" onclick="savePrivacySettings()">Save Changes</button>
            </div>
        </div>
    </div>
    
    <!-- Delete Account Modal -->
    <div class="modal" id="deleteAccountModal">
        <div class="modal-backdrop" onclick="closeDeleteAccountModal()"></div>
        <div class="modal-dialog">
            <div class="modal-header">
                <h3 class="modal-title">Delete Account</h3>
                <button class="modal-close" onclick="closeDeleteAccountModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="alert alert-danger">
                    <div class="alert-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="alert-content">
                        <div class="alert-title">Warning</div>
                        <div class="alert-message">
                            This action cannot be undone. All your data including orders, addresses, and wishlist will be permanently deleted.
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Enter your password to confirm</label>
                    <input type="password" class="form-control" id="deleteAccountPassword" placeholder="Enter your password">
                </div>
                
                <div class="form-group">
                    <label class="form-check">
                        <input type="checkbox" id="deleteAccountConfirm">
                        <span class="form-check-label">
                            I understand that this action is irreversible and all my data will be permanently deleted.
                        </span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeDeleteAccountModal()">Cancel</button>
                <button class="btn btn-danger" id="btnDeleteAccount" onclick="deleteAccount()" disabled>
                    Delete My Account
                </button>
            </div>
        </div>
    </div>
    
    <!-- Quick View Modal -->
    <div class="modal" id="quickViewModal">
        <div class="modal-backdrop" onclick="closeQuickView()"></div>
        <div class="modal-dialog" style="max-width: 800px;">
            <div class="modal-header">
                <h3 class="modal-title">Quick View</h3>
                <button class="modal-close" onclick="closeQuickView()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="quickViewContent">
                <!-- Quick view content will be dynamically loaded -->
            </div>
        </div>
    </div>
    
    <!-- Order Success Modal -->
    <div class="modal" id="orderSuccessModal">
        <div class="modal-backdrop" onclick="closeOrderSuccess()"></div>
        <div class="modal-dialog">
            <div class="modal-header">
                <h3 class="modal-title">Order Placed Successfully!</h3>
                <button class="modal-close" onclick="closeOrderSuccess()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="text-center">
                    <div class="order-success-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3 class="order-success-title">Thank You for Your Order!</h3>
                    <p class="order-success-message">
                        Your order <strong id="successOrderId">#ORD-123456</strong> has been placed successfully.
                    </p>
                    <div class="order-success-details">
                        <div class="order-detail-item">
                            <span>Order Total:</span>
                            <strong id="successOrderTotal">â‚¹0</strong>
                        </div>
                        <div class="order-detail-item">
                            <span>Estimated Delivery:</span>
                            <strong id="successDeliveryDate">Today, 6:00 PM</strong>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeOrderSuccess()">Continue Shopping</button>
                <button class="btn btn-primary" onclick="viewOrderDetails()">View Order Details</button>
            </div>
        </div>
    </div>
    
    <!-- App Footer -->
    <footer class="app-footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-section-title">Raashanmart</h3>
                    <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 20px; line-height: 1.6;">
                        Your one-stop shop for all daily needs. Fresh groceries, household essentials, and more delivered to your doorstep.
                    </p>
                    <div class="footer-social">
                        <a href="#" class="footer-social-link">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="footer-social-link">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="footer-social-link">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="footer-social-link">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3 class="footer-section-title">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#" onclick="showPage('homePage')">Home</a></li>
                        <li><a href="#" onclick="showPage('productsPage')">Products</a></li>
                        <li><a href="#" onclick="showPage('categoriesPage')">Categories</a></li>
                        <li><a href="#" onclick="showPage('offersPage')">Offers</a></li>
                        <li><a href="#" onclick="showPage('shopsPage')">Shops</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3 class="footer-section-title">My Account</h3>
                    <ul class="footer-links">
                        <li><a href="#" onclick="showPage('profilePage')">My Profile</a></li>
                        <li><a href="#" onclick="showPage('ordersPage')">My Orders</a></li>
                        <li><a href="#" onclick="showPage('wishlistPage')">Wishlist</a></li>
                        <li><a href="#" onclick="showPage('addressesPage')">Saved Addresses</a></li>
                        <li><a href="#" onclick="showPage('cartPage')">Shopping Cart</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3 class="footer-section-title">Contact Us</h3>
                    <div class="footer-contact-info">
                        <div class="footer-contact-item">
                            <i class="fas fa-map-marker-alt footer-contact-icon"></i>
                            <span>123 Business Street, Mumbai, India</span>
                        </div>
                        <div class="footer-contact-item">
                            <i class="fas fa-phone footer-contact-icon"></i>
                            <span>+91 1800-123-4567</span>
                        </div>
                        <div class="footer-contact-item">
                            <i class="fas fa-envelope footer-contact-icon"></i>
                            <span>support@raashanmart.com</span>
                        </div>
                        <div class="footer-contact-item">
                            <i class="fas fa-clock footer-contact-icon"></i>
                            <span>24/7 Customer Support</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="footer-bottom-links">
                    <a href="#" onclick="showTerms()">Terms & Conditions</a>
                    <a href="#" onclick="showPrivacy()">Privacy Policy</a>
                    <a href="#" onclick="showPage('supportPage')">Help & Support</a>
                    <a href="#" onclick="showPage('supportPage')">FAQ</a>
                    <a href="#" onclick="showPage('supportPage')">Contact Us</a>
                </div>
                <div class="footer-copyright">
                    &copy; 2024 Raashanmart. All rights reserved.
                </div>
            </div>
        </div>
    </footer>
        <script>
        // ============================================
        // FIREBASE CONFIGURATION & INITIALIZATION
        // ============================================
        
        const firebaseConfig = {
            apiKey: "AIzaSyA_Example_Key_ChangeThis",
            authDomain: "raashanmart.firebaseapp.com",
            projectId: "raashanmart",
            storageBucket: "raashanmart.appspot.com",
            messagingSenderId: "123456789012",
            appId: "1:123456789012:web:abcdef1234567890",
            measurementId: "G-XXXXXXXXXX"
        };
        
        // Initialize Firebase
        try {
            firebase.initializeApp(firebaseConfig);
        } catch (error) {
            console.log("Firebase already initialized");
        }
        
        const auth = firebase.auth();
        const db = firebase.firestore();
        const messaging = firebase.messaging();
        
        // ============================================
        // APPLICATION STATE & GLOBAL VARIABLES
        // ============================================
        
        let currentUser = null;
        let appState = {
            // User data
            userProfile: {
                name: "User Name",
                email: "user@example.com",
                phone: "+91 9876543210",
                avatar: "U",
                joinDate: "15 Jan 2023"
            },
            
            // Cart
            cart: {
                items: [],
                total: 0,
                subtotal: 0,
                delivery: 40,
                tax: 0,
                discount: 0
            },
            
            // Wishlist
            wishlist: [],
            
            // Orders
            orders: [],
            
            // Addresses
            addresses: [
                {
                    id: "addr-1",
                    type: "home",
                    name: "User Name",
                    phone: "+91 9876543210",
                    line1: "123 Main Street",
                    line2: "Near Central Park",
                    city: "Mumbai",
                    state: "Maharashtra",
                    pincode: "400001",
                    isDefault: true
                },
                {
                    id: "addr-2",
                    type: "work",
                    name: "User Name",
                    phone: "+91 9876543210",
                    line1: "456 Business Center",
                    line2: "Office No. 501, 5th Floor",
                    city: "Mumbai",
                    state: "Maharashtra",
                    pincode: "400002",
                    isDefault: false
                }
            ],
            
            // Notifications
            notifications: [],
            
            // Current location
            currentLocation: {
                city: "Mumbai",
                pincode: "400001",
                address: "Mumbai, 400001"
            },
            
            // Products data
            products: [],
            categories: [],
            shops: [],
            offers: [],
            
            // UI state
            currentPage: "homePage",
            searchQuery: "",
            selectedFilters: {},
            checkoutStep: 1
        };
        
        // Sample data for demonstration
        const sampleProducts = [
            {
                id: "prod-1",
                name: "Fresh Apples",
                category: "Fruits",
                subcategory: "Fresh Fruits",
                description: "Fresh and juicy apples, perfect for snacking or cooking.",
                price: 120,
                originalPrice: 150,
                discount: 20,
                unit: "1 kg",
                image: "https://images.unsplash.com/photo-1568702846914-96b305d2aaeb?w=400",
                images: [
                    "https://images.unsplash.com/photo-1568702846914-96b305d2aaeb?w=400",
                    "https://images.unsplash.com/photo-1570913199992-91d07c140e7a?w=400"
                ],
                shop: {
                    id: "shop-1",
                    name: "Fresh Fruits Mart",
                    rating: 4.5
                },
                rating: 4.3,
                reviewCount: 128,
                inStock: true,
                stock: 50,
                isFeatured: true,
                tags: ["fresh", "healthy", "fruit"],
                weight: "1 kg",
                brand: "Farm Fresh",
                sku: "PROD-001",
                createdAt: "2024-01-01"
            },
            {
                id: "prod-2",
                name: "Basmati Rice",
                category: "Grains",
                subcategory: "Rice",
                description: "Premium quality basmati rice, long grain and aromatic.",
                price: 80,
                originalPrice: 100,
                discount: 20,
                unit: "1 kg",
                image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",
                images: [
                    "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400"
                ],
                shop: {
                    id: "shop-2",
                    name: "Grain Store",
                    rating: 4.2
                },
                rating: 4.2,
                reviewCount: 89,
                inStock: true,
                stock: 100,
                isFeatured: true,
                tags: ["staple", "rice", "grain"],
                weight: "1 kg",
                brand: "India Gate",
                sku: "PROD-002",
                createdAt: "2024-01-02"
            },
            {
                id: "prod-3",
                name: "Milk",
                category: "Dairy",
                subcategory: "Milk & Cream",
                description: "Fresh pasteurized milk, rich in nutrients.",
                price: 60,
                originalPrice: 60,
                discount: 0,
                unit: "1 liter",
                image: "https://images.unsplash.com/photo-1563636619-e9143da7973b?w=400",
                images: [
                    "https://images.unsplash.com/photo-1563636619-e9143da7973b?w=400"
                ],
                shop: {
                    id: "shop-3",
                    name: "Daily Dairy",
                    rating: 4.7
                },
                rating: 4.7,
                reviewCount: 256,
                inStock: true,
                stock: 200,
                isFeatured: true,
                tags: ["dairy", "fresh", "essential"],
                weight: "1 liter",
                brand: "Amul",
                sku: "PROD-003",
                createdAt: "2024-01-03"
            },
            {
                id: "prod-4",
                name: "Eggs",
                category: "Dairy",
                subcategory: "Eggs",
                description: "Farm fresh eggs, rich in protein.",
                price: 90,
                originalPrice: 100,
                discount: 10,
                unit: "6 pieces",
                image: "https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400",
                images: [
                    "https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400"
                ],
                shop: {
                    id: "shop-3",
                    name: "Daily Dairy",
                    rating: 4.7
                },
                rating: 4.3,
                reviewCount: 142,
                inStock: true,
                stock: 150,
                isFeatured: false,
                tags: ["dairy", "protein", "fresh"],
                weight: "6 pieces",
                brand: "Farm Fresh",
                sku: "PROD-004",
                createdAt: "2024-01-04"
            },
            {
                id: "prod-5",
                name: "Tomatoes",
                category: "Vegetables",
                subcategory: "Fresh Vegetables",
                description: "Fresh red tomatoes, perfect for salads and cooking.",
                price: 40,
                originalPrice: 50,
                discount: 20,
                unit: "1 kg",
                image: "https://images.unsplash.com/photo-1592924357228-91a4daadcfea?w=400",
                images: [
                    "https://images.unsplash.com/photo-1592924357228-91a4daadcfea?w=400"
                ],
                shop: {
                    id: "shop-4",
                    name: "Vegetable Market",
                    rating: 4.0
                },
                rating: 4.0,
                reviewCount: 78,
                inStock: true,
                stock: 80,
                isFeatured: true,
                tags: ["vegetable", "fresh", "healthy"],
                weight: "1 kg",
                brand: "Local Farm",
                sku: "PROD-005",
                createdAt: "2024-01-05"
            },
            {
                id: "prod-6",
                name: "Bread",
                category: "Bakery",
                subcategory: "Bread",
                description: "Freshly baked white bread, soft and delicious.",
                price: 35,
                originalPrice: 40,
                discount: 12.5,
                unit: "400g",
                image: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400",
                images: [
                    "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400"
                ],
                shop: {
                    id: "shop-5",
                    name: "Bakery Corner",
                    rating: 4.4
                },
                rating: 4.4,
                reviewCount: 93,
                inStock: true,
                stock: 120,
                isFeatured: false,
                tags: ["bakery", "bread", "fresh"],
                weight: "400g",
                brand: "Britannia",
                sku: "PROD-006",
                createdAt: "2024-01-06"
            },
            {
                id: "prod-7",
                name: "Potatoes",
                category: "Vegetables",
                subcategory: "Fresh Vegetables",
                description: "Fresh potatoes, perfect for all recipes.",
                price: 30,
                originalPrice: 35,
                discount: 14.3,
                unit: "1 kg",
                image: "https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400",
                images: [
                    "https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400"
                ],
                shop: {
                    id: "shop-4",
                    name: "Vegetable Market",
                    rating: 4.0
                },
                rating: 4.1,
                reviewCount: 67,
                inStock: true,
                stock: 200,
                isFeatured: false,
                tags: ["vegetable", "staple", "fresh"],
                weight: "1 kg",
                brand: "Local Farm",
                sku: "PROD-007",
                createdAt: "2024-01-07"
            },
            {
                id: "prod-8",
                name: "Butter",
                category: "Dairy",
                subcategory: "Butter & Cheese",
                description: "Creamy butter, perfect for cooking and baking.",
                price: 50,
                originalPrice: 55,
                discount: 9.1,
                unit: "100g",
                image: "https://images.unsplash.com/photo-1565383671281-9c42a8c111fa?w=400",
                images: [
                    "https://images.unsplash.com/photo-1565383671281-9c42a8c111fa?w=400"
                ],
                shop: {
                    id: "shop-3",
                    name: "Daily Dairy",
                    rating: 4.7
                },
                rating: 4.5,
                reviewCount: 112,
                inStock: true,
                stock: 75,
                isFeatured: false,
                tags: ["dairy", "butter", "cooking"],
                weight: "100g",
                brand: "Amul",
                sku: "PROD-008",
                createdAt: "2024-01-08"
            }
        ];
        
        const sampleCategories = [
            {
                id: "cat-1",
                name: "Fruits",
                icon: "fas fa-apple-alt",
                image: "https://images.unsplash.com/photo-1568702846914-96b305d2aaeb?w=400",
                description: "Fresh fruits and vegetables",
                productCount: 45,
                subcategories: ["Fresh Fruits", "Exotic Fruits", "Seasonal Fruits"]
            },
            {
                id: "cat-2",
                name: "Vegetables",
                icon: "fas fa-carrot",
                image: "https://images.unsplash.com/photo-1592924357228-91a4daadcfea?w=400",
                description: "Fresh vegetables and greens",
                productCount: 67,
                subcategories: ["Leafy Vegetables", "Root Vegetables", "Seasonal Vegetables"]
            },
            {
                id: "cat-3",
                name: "Dairy",
                icon: "fas fa-cheese",
                image: "https://images.unsplash.com/photo-1563636619-e9143da7973b?w=400",
                description: "Milk, cheese, butter and eggs",
                productCount: 32,
                subcategories: ["Milk & Cream", "Butter & Cheese", "Eggs", "Yogurt"]
            },
            {
                id: "cat-4",
                name: "Grains",
                icon: "fas fa-seedling",
                image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",
                description: "Rice, wheat, pulses and flour",
                productCount: 28,
                subcategories: ["Rice", "Wheat", "Pulses", "Flour"]
            },
            {
                id: "cat-5",
                name: "Beverages",
                icon: "fas fa-wine-bottle",
                image: "https://images.unsplash.com/photo-1551024709-8f23befc6f87?w=400",
                description: "Drinks and beverages",
                productCount: 56,
                subcategories: ["Soft Drinks", "Juices", "Tea & Coffee", "Energy Drinks"]
            },
            {
                id: "cat-6",
                name: "Snacks",
                icon: "fas fa-cookie",
                image: "https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?w=400",
                description: "Chips, cookies and instant food",
                productCount: 89,
                subcategories: ["Chips & Crisps", "Cookies", "Chocolates", "Instant Food"]
            },
            {
                id: "cat-7",
                name: "Personal Care",
                icon: "fas fa-soap",
                image: "https://images.unsplash.com/photo-1556228578-9c360e1d8d34?w=400",
                description: "Health and personal care products",
                productCount: 42,
                subcategories: ["Skincare", "Haircare", "Oral Care", "Bath & Body"]
            },
            {
                id: "cat-8",
                name: "Household",
                icon: "fas fa-home",
                image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400",
                description: "Cleaning and household essentials",
                productCount: 37,
                subcategories: ["Cleaning", "Laundry", "Kitchen", "Storage"]
            }
        ];
        
        const sampleShops = [
            {
                id: "shop-1",
                name: "Fresh Fruits Mart",
                category: "Fruits & Vegetables",
                description: "Your one-stop shop for fresh fruits and vegetables. We source directly from farmers to ensure the best quality.",
                rating: 4.5,
                reviewCount: 128,
                distance: "0.5 km",
                deliveryTime: "20-30 mins",
                minOrder: 100,
                deliveryFee: 20,
                isOpen: true,
                isVerified: true,
                banner: "https://images.unsplash.com/photo-1542838132-92c53300491e?w=800",
                logo: "https://images.unsplash.com/photo-1568702846914-96b305d2aaeb?w-400",
                address: "123 Fruit Street, Mumbai",
                phone: "+91 98765 43210",
                email: "info@freshfruitsmart.com",
                hours: {
                    monday: "7:00 AM - 10:00 PM",
                    tuesday: "7:00 AM - 10:00 PM",
                    wednesday: "7:00 AM - 10:00 PM",
                    thursday: "7:00 AM - 10:00 PM",
                    friday: "7:00 AM - 10:00 PM",
                    saturday: "8:00 AM - 11:00 PM",
                    sunday: "8:00 AM - 11:00 PM"
                },
                stats: {
                    totalOrders: 1250,
                    happyCustomers: 1150,
                    yearsActive: 3
                }
            },
            {
                id: "shop-2",
                name: "Grain Store",
                category: "Groceries",
                description: "Premium quality grains, pulses, and flour. We offer the best prices for staple foods.",
                rating: 4.2,
                reviewCount: 89,
                distance: "0.8 km",
                deliveryTime: "25-35 mins",
                minOrder: 150,
                deliveryFee: 25,
                isOpen: true,
                isVerified: true,
                banner: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800",
                logo: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w-400",
                address: "456 Grain Avenue, Mumbai",
                phone: "+91 98765 43211",
                email: "contact@grainstore.com",
                hours: {
                    monday: "8:00 AM - 9:00 PM",
                    tuesday: "8:00 AM - 9:00 PM",
                    wednesday: "8:00 AM - 9:00 PM",
                    thursday: "8:00 AM - 9:00 PM",
                    friday: "8:00 AM - 9:00 PM",
                    saturday: "9:00 AM - 9:00 PM",
                    sunday: "9:00 AM - 8:00 PM"
                },
                stats: {
                    totalOrders: 890,
                    happyCustomers: 850,
                    yearsActive: 2
                }
            },
            {
                id: "shop-3",
                name: "Daily Dairy",
                category: "Dairy",
                description: "Fresh dairy products delivered daily. Milk, cheese, butter, and eggs from trusted farms.",
                rating: 4.7,
                reviewCount: 256,
                distance: "1.2 km",
                deliveryTime: "30-40 mins",
                minOrder: 80,
                deliveryFee: 15,
                isOpen: true,
                isVerified: true,
                banner: "https://images.unsplash.com/photo-1563636619-e9143da7973b?w=800",
                logo: "https://images.unsplash.com/photo-1563636619-e9143da7973b?w-400",
                address: "789 Dairy Road, Mumbai",
                phone: "+91 98765 43212",
                email: "support@dailydairy.com",
                hours: {
                    monday: "6:00 AM - 10:00 PM",
                    tuesday: "6:00 AM - 10:00 PM",
                    wednesday: "6:00 AM - 10:00 PM",
                    thursday: "6:00 AM - 10:00 PM",
                    friday: "6:00 AM - 10:00 PM",
                    saturday: "6:00 AM - 11:00 PM",
                    sunday: "6:00 AM - 11:00 PM"
                },
                stats: {
                    totalOrders: 2100,
                    happyCustomers: 2050,
                    yearsActive: 5
                }
            },
            {
                id: "shop-4",
                name: "Vegetable Market",
                category: "Vegetables",
                description: "Fresh vegetables sourced directly from local farms. Best quality at affordable prices.",
                rating: 4.0,
                reviewCount: 78,
                distance: "1.5 km",
                deliveryTime: "35-45 mins",
                minOrder: 120,
                deliveryFee: 30,
                isOpen: true,
                isVerified: false,
                banner: "https://images.unsplash.com/photo-1542838132-92c53300491e?w=800",
                logo: "https://images.unsplash.com/photo-1592924357228-91a4daadcfea?w-400",
                address: "101 Veggie Lane, Mumbai",
                phone: "+91 98765 43213",
                email: "hello@vegetablemarket.com",
                hours: {
                    monday: "7:00 AM - 9:00 PM",
                    tuesday: "7:00 AM - 9:00 PM",
                    wednesday: "7:00 AM - 9:00 PM",
                    thursday: "7:00 AM - 9:00 PM",
                    friday: "7:00 AM - 9:00 PM",
                    saturday: "8:00 AM - 10:00 PM",
                    sunday: "8:00 AM - 10:00 PM"
                },
                stats: {
                    totalOrders: 450,
                    happyCustomers: 420,
                    yearsActive: 1
                }
            },
            {
                id: "shop-5",
                name: "Bakery Corner",
                category: "Bakery",
                description: "Freshly baked bread, cakes, and pastries. Baked fresh every day.",
                rating: 4.4,
                reviewCount: 93,
                distance: "2.0 km",
                deliveryTime: "40-50 mins",
                minOrder: 100,
                deliveryFee: 35,
                isOpen: true,
                isVerified: true,
                banner: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=800",
                logo: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w-400",
                address: "202 Bread Street, Mumbai",
                phone: "+91 98765 43214",
                email: "orders@bakerycorner.com",
                hours: {
                    monday: "7:00 AM - 8:00 PM",
                    tuesday: "7:00 AM - 8:00 PM",
                    wednesday: "7:00 AM - 8:00 PM",
                    thursday: "7:00 AM - 8:00 PM",
                    friday: "7:00 AM - 8:00 PM",
                    saturday: "8:00 AM - 9:00 PM",
                    sunday: "8:00 AM - 9:00 PM"
                },
                stats: {
                    totalOrders: 680,
                    happyCustomers: 650,
                    yearsActive: 2
                }
            },
            {
                id: "shop-6",
                name: "Super Mart",
                category: "Everything",
                description: "Your neighborhood supermarket for all daily needs. One-stop shop for groceries, household, and personal care.",
                rating: 4.6,
                reviewCount: 342,
                distance: "2.5 km",
                deliveryTime: "45-55 mins",
                minOrder: 200,
                deliveryFee: 40,
                isOpen: true,
                isVerified: true,
                banner: "https://images.unsplash.com/photo-1604719312566-8912e6597d6?w=800",
                logo: "https://images.unsplash.com/photo-1604719312566-8912e6597d6?w-400",
                address: "303 Super Road, Mumbai",
                phone: "+91 98765 43215",
                email: "care@supermart.com",
                hours: {
                    monday: "8:00 AM - 10:00 PM",
                    tuesday: "8:00 AM - 10:00 PM",
                    wednesday: "8:00 AM - 10:00 PM",
                    thursday: "8:00 AM - 10:00 PM",
                    friday: "8:00 AM - 10:00 PM",
                    saturday: "9:00 AM - 11:00 PM",
                    sunday: "9:00 AM - 11:00 PM"
                },
                stats: {
                    totalOrders: 1850,
                    happyCustomers: 1800,
                    yearsActive: 4
                }
            }
        ];
        
        const sampleOffers = [
            {
                id: "offer-1",
                title: "First Order Discount",
                description: "Get 30% off on your first order with Raashanmart",
                code: "WELCOME30",
                discount: 30,
                type: "percentage",
                minOrder: 199,
                validUntil: "2024-12-31",
                backgroundColor: "primary"
            },
            {
                id: "offer-2",
                title: "Free Delivery",
                description: "Free delivery on orders above â‚¹299",
                code: "FREEDEL",
                discount: 40,
                type: "fixed",
                minOrder: 299,
                validUntil: "2024-12-31",
                backgroundColor: "accent"
            },
            {
                id: "offer-3",
                title: "Weekend Special",
                description: "20% off on all fruits and vegetables",
                code: "WEEKEND20",
                discount: 20,
                type: "percentage",
                minOrder: 149,
                validUntil: "2024-12-31",
                backgroundColor: "success"
            },
            {
                id: "offer-4",
                title: "Milk Subscription",
                description: "Get 15% off on monthly milk subscription",
                code: "MILK15",
                discount: 15,
                type: "percentage",
                minOrder: 499,
                validUntil: "2024-12-31",
                backgroundColor: "warning"
            }
        ];
        
        const sampleOrders = [
            {
                id: "ORD-001",
                date: "2024-01-15",
                status: "delivered",
                items: [
                    { 
                        id: "prod-1", 
                        name: "Fresh Apples", 
                        quantity: 2, 
                        price: 120,
                        image: "https://images.unsplash.com/photo-1568702846914-96b305d2aaeb?w=400",
                        variant: "1 kg"
                    },
                    { 
                        id: "prod-3", 
                        name: "Milk", 
                        quantity: 1, 
                        price: 60,
                        image: "https://images.unsplash.com/photo-1563636619-e9143da7973b?w=400",
                        variant: "1 liter"
                    },
                    { 
                        id: "prod-6", 
                        name: "Bread", 
                        quantity: 1, 
                        price: 35,
                        image: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400",
                        variant: "400g"
                    }
                ],
                total: 215,
                subtotal: 215,
                delivery: 0,
                tax: 10.75,
                discount: 0,
                shop: {
                    id: "shop-1",
                    name: "Fresh Fruits Mart"
                },
                address: {
                    type: "home",
                    name: "User Name",
                    phone: "+91 9876543210",
                    line1: "123 Main Street",
                    line2: "Near Central Park",
                    city: "Mumbai",
                    state: "Maharashtra",
                    pincode: "400001"
                },
                payment: {
                    method: "credit_card",
                    transactionId: "TXN-001",
                    status: "completed"
                },
                delivery: {
                    method: "standard",
                    estimated: "2024-01-15 18:00",
                    actual: "2024-01-15 17:45",
                    rider: {
                        name: "Rahul Sharma",
                        phone: "+91 98765 43216"
                    }
                },
                timeline: [
                    { time: "2024-01-15 10:30", status: "ordered", message: "Order placed" },
                    { time: "2024-01-15 11:00", status: "confirmed", message: "Order confirmed by shop" },
                    { time: "2024-01-15 14:30", status: "preparing", message: "Shop preparing your order" },
                    { time: "2024-01-15 16:00", status: "ready", message: "Order ready for pickup" },
                    { time: "2024-01-15 17:00", status: "out-for-delivery", message: "Out for delivery" },
                    { time: "2024-01-15 17:45", status: "delivered", message: "Order delivered" }
                ]
            },
            {
                id: "ORD-002",
                date: "2024-01-14",
                status: "out-for-delivery",
                items: [
                    { 
                        id: "prod-2", 
                        name: "Basmati Rice", 
                        quantity: 1, 
                        price: 80,
                        image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400",
                        variant: "1 kg"
                    },
                    { 
                        id: "prod-5", 
                        name: "Tomatoes", 
                        quantity: 3, 
                        price: 40,
                        image: "https://images.unsplash.com/photo-1592924357228-91a4daadcfea?w=400",
                        variant: "1 kg"
                    }
                ],
                total: 120,
                subtotal: 120,
                delivery: 0,
                tax: 6,
                discount: 0,
                shop: {
                    id: "shop-2",
                    name: "Grain Store"
                },
                address: {
                    type: "work",
                    name: "User Name",
                    phone: "+91 9876543210",
                    line1: "456 Business Center",
                    line2: "Office No. 501, 5th Floor",
                    city: "Mumbai",
                    state: "Maharashtra",
                    pincode: "400002"
                },
                payment: {
                    method: "upi",
                    transactionId: "TXN-002",
                    status: "completed"
                },
                delivery: {
                    method: "express",
                    estimated: "2024-01-14 19:00",
                    actual: null,
                    rider: {
                        name: "Amit Patel",
                        phone: "+91 98765 43217"
                    }
                },
                timeline: [
                    { time: "2024-01-14 15:30", status: "ordered", message: "Order placed" },
                    { time: "2024-01-14 16:00", status: "confirmed", message: "Order confirmed by shop" },
                    { time: "2024-01-14 17:30", status: "preparing", message: "Shop preparing your order" },
                    { time: "2024-01-14 18:00", status: "ready", message: "Order ready for pickup" },
                    { time: "2024-01-14 18:30", status: "out-for-delivery", message: "Out for delivery" }
                ]
            },
            {
                id: "ORD-003",
                date: "2024-01-13",
                status: "preparing",
                items: [
                    { 
                        id: "prod-4", 
                        name: "Eggs", 
                        quantity: 1, 
                        price: 90,
                        image: "https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400",
                        variant: "6 pieces"
                    },
                    { 
                        id: "prod-6", 
                        name: "Bread", 
                        quantity: 2, 
                        price: 35,
                        image: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400",
                        variant: "400g"
                    }
                ],
                total: 160,
                subtotal: 160,
                delivery: 0,
                tax: 8,
                discount: 0,
                shop: {
                    id: "shop-3",
                    name: "Daily Dairy"
                },
                address: {
                    type: "home",
                    name: "User Name",
                    phone: "+91 9876543210",
                    line1: "123 Main Street",
                    line2: "Near Central Park",
                    city: "Mumbai",
                    state: "Maharashtra",
                    pincode: "400001"
                },
                payment: {
                    method: "cash",
                    transactionId: "TXN-003",
                    status: "pending"
                },
                delivery: {
                    method: "standard",
                    estimated: "2024-01-13 20:00",
                    actual: null,
                    rider: null
                },
                timeline: [
                    { time: "2024-01-13 18:30", status: "ordered", message: "Order placed" },
                    { time: "2024-01-13 19:00", status: "confirmed", message: "Order confirmed by shop" },
                    { time: "2024-01-13 19:30", status: "preparing", message: "Shop preparing your order" }
                ]
            }
        ];
        
        const sampleNotifications = [
            {
                id: "notif-1",
                title: "Order Confirmed",
                message: "Your order ORD-001 has been confirmed by Fresh Fruits Mart",
                time: "2024-01-15T10:35:00",
                type: "order",
                orderId: "ORD-001",
                read: true,
                action: "view_order"
            },
            {
                id: "notif-2",
                title: "Out for Delivery",
                message: "Your order ORD-002 is out for delivery. Expected delivery by 7:00 PM",
                time: "2024-01-14T18:30:00",
                type: "delivery",
                orderId: "ORD-002",
                read: false,
                action: "track_order"
            },
            {
                id: "notif-3",
                title: "Special Offer",
                message: "Get 20% off on all fruits this weekend. Use code WEEKEND20",
                time: "2024-01-14T09:15:00",
                type: "promo",
                read: false,
                action: "view_offer"
            },
            {
                id: "notif-4",
                title: "Order Delivered",
                message: "Your order ORD-001 has been delivered successfully",
                time: "2024-01-15T17:45:00",
                type: "delivery",
                orderId: "ORD-001",
                read: true,
                action: "rate_order"
            },
            {
                id: "notif-5",
                title: "Price Drop Alert",
                message: "Price dropped on Fresh Apples. Now at â‚¹120 (20% off)",
                time: "2024-01-13T14:20:00",
                type: "price_drop",
                productId: "prod-1",
                read: false,
                action: "view_product"
            }
        ];
        
        // ============================================
        // DOM ELEMENTS
        // ============================================
        
        // Header elements
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const notificationBtn = document.getElementById('notificationBtn');
        const notificationPanel = document.getElementById('notificationPanel');
        const notificationBadge = document.getElementById('notificationBadge');
        const notificationList = document.getElementById('notificationList');
        const userAvatar = document.getElementById('userAvatar');
        const userMenu = document.getElementById('userMenu');
        
        // Cart elements
        const cartBadge = document.getElementById('cartBadge');
        const bottomCartBadge = document.getElementById('bottomCartBadge');
        
        // Order elements
        const bottomOrdersBadge = document.getElementById('bottomOrdersBadge');
        const userMenuOrdersBadge = document.getElementById('userMenuOrdersBadge');
        const userMenuWishlistBadge = document.getElementById('userMenuWishlistBadge');
        
        // Overlay and modals
        const overlay = document.getElementById('overlay');
        const toastContainer = document.getElementById('toastContainer');
        
        // Location elements
        const currentLocationElement = document.getElementById('currentLocation');
        const locationModal = document.getElementById('locationModal');
        
        // ============================================
        // INITIALIZATION FUNCTIONS
        // ============================================
        
        function initApp() {
            console.log("Initializing Raashanmart App...");
            
            // Initialize sample data
            appState.products = sampleProducts;
            appState.categories = sampleCategories;
            appState.shops = sampleShops;
            appState.offers = sampleOffers;
            appState.orders = sampleOrders;
            appState.notifications = sampleNotifications;
            appState.wishlist = ["prod-1", "prod-3", "prod-5"];
            
            // Initialize cart with sample items
            appState.cart.items = [
                {
                    id: "prod-1",
                    name: "Fresh Apples",
                    quantity: 2,
                    price: 120,
                    image: "https://images.unsplash.com/photo-1568702846914-96b305d2aaeb?w=400",
                    variant: "1 kg",
                    shop: {
                        id: "shop-1",
                        name: "Fresh Fruits Mart"
                    },
                    inStock: true
                },
                {
                    id: "prod-3",
                    name: "Milk",
                    quantity: 1,
                    price: 60,
                    image: "https://images.unsplash.com/photo-1563636619-e9143da7973b?w=400",
                    variant: "1 liter",
                    shop: {
                        id: "shop-3",
                        name: "Daily Dairy"
                    },
                    inStock: true
                }
            ];
            
            // Calculate cart totals
            calculateCartTotals();
            
            // Update UI counters
            updateCartBadge();
            updateOrdersBadge();
            updateWishlistBadge();
            updateNotificationBadge();
            
            // Set up event listeners
            setupEventListeners();
            
            // Initialize notifications
            initNotifications();
            
            // Initialize home page
            loadHomePage();
            
            // Show welcome message
            setTimeout(() => {
                showToast('Welcome to Raashanmart!', 'Your one-stop shop for all daily needs', 'success');
            }, 1000);
            
            // Check for service worker for push notifications
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/sw.js').then(() => {
                    console.log('Service Worker registered');
                }).catch(error => {
                    console.log('Service Worker registration failed:', error);
                });
            }
            
            console.log("App initialized successfully");
        }
        
        function setupEventListeners() {
            // Search functionality
            searchInput.addEventListener('input', handleSearch);
            searchInput.addEventListener('focus', showSearchResults);
            
            // Close search results when clicking outside
            document.addEventListener('click', (e) => {
                if (!searchResults.contains(e.target) && e.target !== searchInput) {
                    searchResults.classList.remove('active');
                }
            });
            
            // User menu toggle
            document.addEventListener('click', (e) => {
                if (!userMenu.contains(e.target) && e.target !== userAvatar) {
                    userMenu.classList.remove('show');
                }
            });
            
            // Overlay click
            overlay.addEventListener('click', closeAllModals);
            
            // Scroll events
            window.addEventListener('scroll', handleScroll);
            
            // Initialize Swiper for banners
            initSwiper();
            
            // Form submissions
            setupFormListeners();
            
            // Initialize push notifications permission
            initPushNotifications();
        }
        
        function initSwiper() {
            // This would initialize Swiper carousel if we had one
            // For now, it's a placeholder
            console.log("Swiper initialized (if needed)");
        }
        
        function setupFormListeners() {
            // Search forms
            const searchForms = ['productsSearch', 'categoriesSearch', 'shopsSearch'];
            searchForms.forEach(formId => {
                const element = document.getElementById(formId);
                if (element) {
                    element.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            e.preventDefault();
                            performSearch(formId, e.target.value);
                        }
                    });
                }
            });
            
            // Sort selectors
            const sortSelectors = ['productsSort', 'shopsSort', 'categoryProductsSort'];
            sortSelectors.forEach(selectorId => {
                const element = document.getElementById(selectorId);
                if (element) {
                    element.addEventListener('change', (e) => {
                        handleSortChange(selectorId, e.target.value);
                    });
                }
            });
        }
        
        // ============================================
        // NOTIFICATION SYSTEM
        // ============================================
        
        function initNotifications() {
            // Request notification permission
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission().then(permission => {
                    if (permission === 'granted') {
                        console.log('Notification permission granted');
                        initPushNotifications();
                    }
                });
            }
            
            // Load notifications
            loadNotifications();
        }
        
        function initPushNotifications() {
            try {
                // Get FCM token for push notifications
                messaging.getToken().then(token => {
                    if (token) {
                        console.log('FCM Token:', token);
                        // In a real app, send this token to your server
                        saveFCMToken(token);
                    }
                }).catch(err => {
                    console.log('Unable to get FCM token:', err);
                });
                
                // Handle incoming messages
                messaging.onMessage(payload => {
                    console.log('Message received:', payload);
                    addNotification({
                        title: payload.notification.title,
                        message: payload.notification.body,
                        time: new Date().toISOString(),
                        type: payload.data?.type || 'general',
                        read: false
                    });
                    
                    // Show browser notification
                    if (Notification.permission === 'granted') {
                        new Notification(payload.notification.title, {
                            body: payload.notification.body,
                            icon: 'https://cdn-icons-png.flaticon.com/512/3082/3082383.png'
                        });
                    }
                });
            } catch (error) {
                console.log('Firebase Messaging not available:', error);
            }
        }
        
        function saveFCMToken(token) {
            // In a real app, send token to your backend
            console.log('Saving FCM token:', token);
            // Example: fetch('/api/save-token', { method: 'POST', body: { token } });
        }
        
        function loadNotifications() {
            const notificationListElement = document.getElementById('notificationList');
            if (!notificationListElement) return;
            
            const unreadCount = appState.notifications.filter(n => !n.read).length;
            
            if (appState.notifications.length === 0) {
                notificationListElement.innerHTML = `
                    <div class="notification-empty">
                        <div class="notification-empty-icon">
                            <i class="fas fa-bell-slash"></i>
                        </div>
                        <h3 class="notification-empty-title">No Notifications</h3>
                        <p class="notification-empty-message">You don't have any notifications yet</p>
                    </div>
                `;
            } else {
                notificationListElement.innerHTML = appState.notifications.map(notif => `
                    <div class="notification-item ${notif.read ? '' : 'unread'}" onclick="handleNotificationClick('${notif.id}')">
                        <div class="notification-item-header">
                            <div class="notification-title">${notif.title}</div>
                            <div class="notification-time">${formatTime(notif.time)}</div>
                        </div>
                        <div class="notification-message">${notif.message}</div>
                        ${notif.action ? `
                            <div class="notification-actions-inline">
                                ${notif.action === 'view_order' ? `
                                    <button class="notification-action-btn primary" onclick="viewOrderNotification('${notif.orderId}'); event.stopPropagation();">
                                        View Order
                                    </button>
                                ` : ''}
                                ${notif.action === 'track_order' ? `
                                    <button class="notification-action-btn primary" onclick="trackOrderNotification('${notif.orderId}'); event.stopPropagation();">
                                        Track Order
                                    </button>
                                ` : ''}
                                ${notif.action === 'rate_order' ? `
                                    <button class="notification-action-btn primary" onclick="rateOrderNotification('${notif.orderId}'); event.stopPropagation();">
                                        Rate Order
                                    </button>
                                ` : ''}
                                ${notif.action === 'view_product' ? `
                                    <button class="notification-action-btn primary" onclick="viewProductNotification('${notif.productId}'); event.stopPropagation();">
                                        View Product
                                    </button>
                                ` : ''}
                                ${notif.action === 'view_offer' ? `
                                    <button class="notification-action-btn primary" onclick="viewOfferNotification(); event.stopPropagation();">
                                        View Offer
                                    </button>
                                ` : ''}
                            </div>
                        ` : ''}
                    </div>
                `).join('');
            }
            
            // Update badge count
            updateNotificationBadge();
        }
        
        function addNotification(notification) {
            const newNotification = {
                id: 'notif-' + Date.now(),
                ...notification,
                time: notification.time || new Date().toISOString(),
                read: notification.read || false
            };
            
            appState.notifications.unshift(newNotification);
            loadNotifications();
            
            // Show toast for important notifications
            if (!notification.read) {
                showToast(notification.title, notification.message, 'info');
            }
        }
        
        function markNotificationAsRead(notificationId) {
            const notification = appState.notifications.find(n => n.id === notificationId);
            if (notification) {
                notification.read = true;
                loadNotifications();
            }
        }
        
        function markAllNotificationsAsRead() {
            appState.notifications.forEach(notif => notif.read = true);
            loadNotifications();
            showToast('All notifications marked as read', '', 'success');
        }
        
        function handleNotificationClick(notificationId) {
            markNotificationAsRead(notificationId);
            // Additional handling based on notification type
            const notification = appState.notifications.find(n => n.id === notificationId);
            if (notification) {
                switch (notification.type) {
                    case 'order':
                        if (notification.orderId) {
                            showOrderDetail(notification.orderId);
                        }
                        break;
                    case 'delivery':
                        if (notification.orderId) {
                            showOrderDetail(notification.orderId);
                        }
                        break;
                    case 'promo':
                        showPage('offersPage');
                        break;
                    case 'price_drop':
                        if (notification.productId) {
                            showProductDetail(notification.productId);
                        }
                        break;
                }
            }
            closeNotificationPanel();
        }
        
        function updateNotificationBadge() {
            const unreadCount = appState.notifications.filter(n => !n.read).length;
            notificationBadge.textContent = unreadCount > 0 ? unreadCount : '';
        }
        
        // ============================================
        // UI UPDATE FUNCTIONS
        // ============================================
        
        function updateCartBadge() {
            const totalItems = appState.cart.items.reduce((sum, item) => sum + item.quantity, 0);
            cartBadge.textContent = totalItems > 0 ? totalItems : '';
            bottomCartBadge.textContent = totalItems > 0 ? totalItems : '';
        }
        
        function updateOrdersBadge() {
            const pendingOrders = appState.orders.filter(order => 
                ['pending', 'confirmed', 'preparing', 'ready', 'out-for-delivery'].includes(order.status)
            ).length;
            
            bottomOrdersBadge.textContent = pendingOrders > 0 ? pendingOrders : '';
            userMenuOrdersBadge.textContent = appState.orders.length > 0 ? appState.orders.length : '';
        }
        
        function updateWishlistBadge() {
            userMenuWishlistBadge.textContent = appState.wishlist.length > 0 ? appState.wishlist.length : '';
        }
        
        function updateUserProfile() {
            // Update user avatar
            const avatarElements = document.querySelectorAll('#userAvatar, #profileAvatar, .dropdown-user-avatar');
            avatarElements.forEach(el => {
                el.textContent = appState.userProfile.avatar;
            });
            
            // Update user name
            const nameElements = document.querySelectorAll('#profileName, #profileInfoName, #dropdownUserName');
            nameElements.forEach(el => {
                el.textContent = appState.userProfile.name;
            });
            
            // Update user email
            const emailElements = document.querySelectorAll('#profileEmail, #profileInfoEmail, #dropdownUserEmail');
            emailElements.forEach(el => {
                el.textContent = appState.userProfile.email;
            });
            
            // Update user phone
            const phoneElement = document.getElementById('profileInfoPhone');
            if (phoneElement) {
                phoneElement.textContent = appState.userProfile.phone;
            }
            
            // Update profile stats
            document.getElementById('profileOrdersCount').textContent = appState.orders.length;
            document.getElementById('profileWishlistCount').textContent = appState.wishlist.length;
            document.getElementById('profileAddressesCount').textContent = appState.addresses.length;
        }
        
        // ============================================
        // PAGE NAVIGATION FUNCTIONS
        // ============================================
        
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                appState.currentPage = pageId;
                
                // Update active nav item
                updateNavIndicator(pageId);
                
                // Load page data
                loadPageData(pageId);
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Close any open modals
                closeAllModals();
            } else {
                console.error(`Page ${pageId} not found`);
                showToast('Page not found', 'The requested page could not be loaded', 'error');
            }
        }
        
        function updateNavIndicator(pageId) {
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Map page IDs to nav items
            const navMap = {
                'homePage': 0,
                'categoriesPage': 1,
                'cartPage': 2,
                'ordersPage': 3,
                'profilePage': 4
            };
            
            if (navMap[pageId] !== undefined) {
                const navItem = document.querySelectorAll('.nav-item')[navMap[pageId]];
                if (navItem) {
                    navItem.classList.add('active');
                }
            }
        }
        
        function loadPageData(pageId) {
            switch(pageId) {
                case 'homePage':
                    loadHomePage();
                    break;
                case 'productsPage':
                    loadProductsPage();
                    break;
                case 'categoriesPage':
                    loadCategoriesPage();
                    break;
                case 'shopsPage':
                    loadShopsPage();
                    break;
                case 'productDetailPage':
                    // Product detail is loaded when navigating to it
                    break;
                case 'shopDetailPage':
                    // Shop detail is loaded when navigating to it
                    break;
                case 'cartPage':
                    loadCartPage();
                    break;
                case 'checkoutPage':
                    loadCheckoutPage();
                    break;
                case 'ordersPage':
                    loadOrdersPage();
                    break;
                case 'orderDetailPage':
                    // Order detail is loaded when navigating to it
                    break;
                case 'wishlistPage':
                    loadWishlistPage();
                    break;
                case 'profilePage':
                    loadProfilePage();
                    break;
                case 'addressesPage':
                    loadAddressesPage();
                    break;
                case 'offersPage':
                    loadOffersPage();
                    break;
                case 'supportPage':
                    loadSupportPage();
                    break;
                case 'recentOrdersPage':
                    loadRecentOrdersPage();
                    break;
                case 'categoryProductsPage':
                    // Category products page is loaded when navigating to it
                    break;
            }
        }
        
        // ============================================
        // PAGE LOADING FUNCTIONS
        // ============================================
        
        function loadHomePage() {
            console.log("Loading home page...");
            
            // Load categories
            loadHomeCategories();
            
            // Load featured products
            loadFeaturedProducts();
            
            // Load special offers
            loadSpecialOffers();
            
            // Load nearby shops
            loadNearbyShops();
        }
        
        function loadHomeCategories() {
            const container = document.getElementById('homeCategories');
            if (!container) return;
            
            // Take first 8 categories
            const categories = appState.categories.slice(0, 8);
            
            container.innerHTML = categories.map(category => `
                <div class="category-card" onclick="showCategory('${category.id}')">
                    <div class="category-icon">
                        <i class="${category.icon}"></i>
                    </div>
                    <div class="category-name">${category.name}</div>
                    <div class="category-count">${category.productCount} items</div>
                </div>
            `).join('');
        }
        
        function loadFeaturedProducts() {
            const container = document.getElementById('featuredProducts');
            if (!container) return;
            
            // Get featured products
            const featuredProducts = appState.products.filter(product => product.isFeatured).slice(0, 8);
            
            container.innerHTML = featuredProducts.map(product => createProductCard(product)).join('');
        }
        
        function loadSpecialOffers() {
            const container = document.getElementById('specialOffers');
            if (!container) return;
            
            container.innerHTML = appState.offers.map(offer => `
                <div class="offer-card ${offer.backgroundColor}">
                    <div class="offer-badge">${offer.discount}% OFF</div>
                    <div class="offer-content">
                        <h3 class="offer-title">${offer.title}</h3>
                        <p class="offer-description">${offer.description}</p>
                        <div class="offer-code" onclick="copyOfferCode('${offer.code}')">
                            <span class="offer-code-icon">
                                <i class="fas fa-tag"></i>
                            </span>
                            <span>${offer.code}</span>
                            <span class="offer-code-icon">
                                <i class="fas fa-copy"></i>
                            </span>
                        </div>
                        <div class="offer-actions">
                            <button class="btn-offer" onclick="applyOffer('${offer.id}')">
                                <i class="fas fa-shopping-cart"></i>
                                Shop Now
                            </button>
                            <button class="btn-offer" onclick="viewOfferDetails('${offer.id}')">
                                <i class="fas fa-info-circle"></i>
                                Details
                            </button>
                        </div>
                    </div>
                    <div class="offer-pattern"></div>
                </div>
            `).join('');
        }
        
        function loadNearbyShops() {
            const container = document.getElementById('nearbyShops');
            if (!container) return;
            
            // Take first 4 shops
            const nearbyShops = appState.shops.slice(0, 4);
            
            container.innerHTML = nearbyShops.map(shop => createShopCard(shop)).join('');
        }
        
        function loadProductsPage() {
            const container = document.getElementById('allProducts');
            if (!container) return;
            
            // Get all products
            const products = appState.products;
            
            container.innerHTML = products.map(product => createProductCard(product)).join('');
            
            // Initialize pagination
            initPagination('productsPagination', products.length, 12, 1);
        }
        
        function loadCategoriesPage() {
            const container = document.getElementById('allCategories');
            if (!container) return;
            
            container.innerHTML = appState.categories.map(category => `
                <div class="category-card" onclick="showCategory('${category.id}')">
                    <div class="category-icon">
                        <i class="${category.icon}"></i>
                    </div>
                    <div class="category-name">${category.name}</div>
                    <div class="category-count">${category.productCount} items</div>
                </div>
            `).join('');
        }
        
        function loadShopsPage() {
            const container = document.getElementById('allShops');
            if (!container) return;
            
            container.innerHTML = appState.shops.map(shop => createShopCard(shop)).join('');
            
            // Initialize pagination
            initPagination('shopsPagination', appState.shops.length, 9, 1);
        }
        
        function loadCartPage() {
            const container = document.getElementById('cartItems');
            if (!container) return;
            
            if (appState.cart.items.length === 0) {
                container.innerHTML = `
                    <div class="cart-empty">
                        <div class="cart-empty-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <h3 class="cart-empty-title">Your Cart is Empty</h3>
                        <p class="cart-empty-message">Add items to your cart and they will appear here</p>
                        <button class="btn btn-primary" onclick="showPage('homePage')">
                            <i class="fas fa-shopping-cart"></i>
                            Start Shopping
                        </button>
                    </div>
                `;
                
                // Update cart summary
                updateCartSummary();
                return;
            }
            
            // Group items by shop
            const itemsByShop = {};
            appState.cart.items.forEach(item => {
                const shopId = item.shop.id;
                if (!itemsByShop[shopId]) {
                    itemsByShop[shopId] = {
                        shop: item.shop,
                        items: []
                    };
                }
                itemsByShop[shopId].items.push(item);
            });
            
            // Render cart items grouped by shop
            container.innerHTML = Object.values(itemsByShop).map(shopGroup => `
                <div class="cart-shop-group">
                    <div class="cart-shop-header">
                        <i class="fas fa-store"></i>
                        <span class="cart-shop-name">${shopGroup.shop.name}</span>
                    </div>
                    ${shopGroup.items.map(item => createCartItem(item)).join('')}
                </div>
            `).join('');
            
            // Update item count
            const totalItems = appState.cart.items.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartItemCount').textContent = `${totalItems} ${totalItems === 1 ? 'item' : 'items'} in your cart`;
            
            // Update cart summary
            updateCartSummary();
            
            // Load recommendations
            loadCartRecommendations();
        }
        
        function loadCheckoutPage() {
            // Reset checkout step to 1
            appState.checkoutStep = 1;
            updateCheckoutSteps();
            
            // Load addresses
            loadCheckoutAddresses();
            
            // Load delivery options
            loadDeliveryOptions();
            
            // Load payment methods
            loadPaymentMethods();
            
            // Load order summary
            loadCheckoutSummary();
        }
        
        function loadOrdersPage() {
            const container = document.getElementById('ordersList');
            if (!container) return;
            
            if (appState.orders.length === 0) {
                container.innerHTML = `
                    <div class="orders-empty">
                        <div class="orders-empty-icon">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <h3 class="orders-empty-title">No Orders Yet</h3>
                        <p class="orders-empty-message">Start shopping and your orders will appear here</p>
                        <button class="btn btn-primary" onclick="showPage('homePage')">
                            <i class="fas fa-shopping-cart"></i>
                            Start Shopping
                        </button>
                    </div>
                `;
                return;
            }
            
            // Show all orders by default
            container.innerHTML = appState.orders.map(order => createOrderCard(order)).join('');
            
            // Initialize pagination
            initPagination('ordersPagination', appState.orders.length, 5, 1);
        }
        
        function loadWishlistPage() {
            const container = document.getElementById('wishlistItems');
            if (!container) return;
            
            if (appState.wishlist.length === 0) {
                container.innerHTML = `
                    <div class="wishlist-empty">
                        <div class="wishlist-empty-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h3 class="wishlist-empty-title">Your Wishlist is Empty</h3>
                        <p class="wishlist-empty-message">Save items you love for later</p>
                        <button class="btn btn-primary" onclick="showPage('homePage')">
                            <i class="fas fa-shopping-cart"></i>
                            Start Shopping
                        </button>
                    </div>
                `;
                return;
            }
            
            // Get wishlist products
            const wishlistProducts = appState.products.filter(product => 
                appState.wishlist.includes(product.id)
            );
            
            container.innerHTML = wishlistProducts.map(product => createWishlistItem(product)).join('');
        }
        
        function loadProfilePage() {
            // Update user profile info
            updateUserProfile();
            
            // Load addresses
            loadProfileAddresses();
        }
        
        function loadAddressesPage() {
            const container = document.getElementById('allAddresses');
            if (!container) return;
            
            loadAddresses(container);
        }
        
        function loadOffersPage() {
            const container = document.getElementById('allOffers');
            if (!container) return;
            
            container.innerHTML = appState.offers.map(offer => `
                <div class="offer-card ${offer.backgroundColor}">
                    <div class="offer-badge">${offer.discount}% OFF</div>
                    <div class="offer-content">
                        <h3 class="offer-title">${offer.title}</h3>
                        <p class="offer-description">${offer.description}</p>
                        <div class="offer-details">
                            <div class="offer-detail">
                                <i class="fas fa-rupee-sign"></i>
                                <span>Min order: â‚¹${offer.minOrder}</span>
                            </div>
                            <div class="offer-detail">
                                <i class="fas fa-calendar-alt"></i>
                                <span>Valid until: ${formatDate(offer.validUntil)}</span>
                            </div>
                        </div>
                        <div class="offer-code" onclick="copyOfferCode('${offer.code}')">
                            <span class="offer-code-icon">
                                <i class="fas fa-tag"></i>
                            </span>
                            <span>${offer.code}</span>
                            <span class="offer-code-icon">
                                <i class="fas fa-copy"></i>
                            </span>
                        </div>
                        <div class="offer-actions">
                            <button class="btn-offer" onclick="applyOffer('${offer.id}')">
                                <i class="fas fa-shopping-cart"></i>
                                Shop Now
                            </button>
                            <button class="btn-offer" onclick="copyOfferCode('${offer.code}')">
                                <i class="fas fa-copy"></i>
                                Copy Code
                            </button>
                        </div>
                    </div>
                    <div class="offer-pattern"></div>
                </div>
            `).join('');
        }
        
        function loadSupportPage() {
            const container = document.getElementById('faqAccordion');
            if (!container) return;
            
            const faqs = [
                {
                    question: "How do I place an order?",
                    answer: "Simply browse products, add them to your cart, and proceed to checkout. You can choose delivery address, time, and payment method."
                },
                {
                    question: "What are the delivery charges?",
                    answer: "Delivery charges vary based on distance and order value. Orders above â‚¹299 qualify for free delivery. You'll see the exact charges at checkout."
                },
                {
                    question: "How can I track my order?",
                    answer: "Once your order is out for delivery, you can track it in real-time from the 'My Orders' section. You'll receive notifications with updates."
                },
                {
                    question: "What payment methods are accepted?",
                    answer: "We accept credit/debit cards, UPI, net banking, and cash on delivery. All online payments are secured with SSL encryption."
                },
                {
                    question: "Can I modify or cancel my order?",
                    answer: "You can modify or cancel your order within 5 minutes of placing it. After that, please contact our customer support for assistance."
                },
                {
                    question: "What is your return policy?",
                    answer: "We accept returns within 24 hours of delivery for damaged or incorrect items. Please contact our support team to initiate a return."
                }
            ];
            
            container.innerHTML = faqs.map((faq, index) => `
                <div class="accordion-item">
                    <button class="accordion-header" onclick="toggleAccordion(${index})">
                        <span>${faq.question}</span>
                        <i class="fas fa-chevron-down accordion-icon"></i>
                    </button>
                    <div class="accordion-content" id="faq-${index}">
                        <p>${faq.answer}</p>
                    </div>
                </div>
            `).join('');
        }
        
        function loadRecentOrdersPage() {
            const container = document.getElementById('recentOrdersList');
            if (!container) return;
            
            // Get last 10 orders
            const recentOrders = appState.orders.slice(0, 10);
            
            if (recentOrders.length === 0) {
                container.innerHTML = `
                    <div class="orders-empty">
                        <div class="orders-empty-icon">
                            <i class="fas fa-history"></i>
                        </div>
                        <h3 class="orders-empty-title">No Recent Orders</h3>
                        <p class="orders-empty-message">Your recent orders will appear here</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = recentOrders.map(order => createOrderCard(order)).join('');
        }
        
        // ============================================
        // UI COMPONENT CREATION FUNCTIONS
        // ============================================
        
        function createProductCard(product) {
            const isInWishlist = appState.wishlist.includes(product.id);
            const discountPercentage = product.originalPrice > product.price 
                ? Math.round((1 - product.price / product.originalPrice) * 100) 
                : 0;
            
            return `
                <div class="product-card">
                    ${discountPercentage > 0 ? `
                        <div class="product-badge">${discountPercentage}% OFF</div>
                    ` : ''}
                    
                    <div class="product-actions">
                        <button class="product-action-btn wishlist ${isInWishlist ? 'active' : ''}" 
                                onclick="toggleWishlist('${product.id}', event)">
                            <i class="fas fa-heart"></i>
                        </button>
                        <button class="product-action-btn compare" onclick="addToCompare('${product.id}', event)">
                            <i class="fas fa-exchange-alt"></i>
                        </button>
                    </div>
                    
                    <div class="product-image-container" onclick="showProductDetail('${product.id}')">
                        <img src="${product.image}" alt="${product.name}" class="product-image">
                        <div class="product-image-overlay">
                            <div class="product-shop">
                                <i class="fas fa-store product-shop-icon"></i>
                                <span class="product-shop-name">${product.shop.name}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-info">
                        <h3 class="product-title" onclick="showProductDetail('${product.id}')">${product.name}</h3>
                        <div class="product-category">
                            <i class="fas fa-tag"></i>
                            <a href="#" onclick="showCategoryProducts('${product.category}'); return false;">${product.category}</a>
                        </div>
                        
                        <p class="product-description">${product.description}</p>
                        
                        <div class="product-rating">
                            <div class="product-rating-stars">
                                ${generateStarRating(product.rating)}
                            </div>
                            <div class="product-rating-value">${product.rating}</div>
                            <div class="product-rating-count">(${product.reviewCount})</div>
                        </div>
                        
                        <div class="product-meta">
                            <div class="product-stock ${product.inStock ? 'in-stock' : 'out-of-stock'}">
                                <i class="fas ${product.inStock ? 'fa-check-circle' : 'fa-times-circle'} product-stock-icon"></i>
                                <span>${product.inStock ? 'In Stock' : 'Out of Stock'}</span>
                            </div>
                            <div class="product-weight">${product.weight}</div>
                        </div>
                    </div>
                    
                    <div class="product-price-section">
                        <div class="product-price">
                            <span class="product-current-price">â‚¹${product.price}</span>
                            ${product.originalPrice > product.price ? `
                                <span class="product-original-price">â‚¹${product.originalPrice}</span>
                                <span class="product-discount">Save â‚¹${product.originalPrice - product.price}</span>
                            ` : ''}
                        </div>
                        <div class="product-unit-price">${product.unit}</div>
                    </div>
                    
                    <div class="product-actions-bottom">
                        <button class="btn-add-to-cart ${!product.inStock ? 'out-of-stock' : ''}" 
                                onclick="addToCart('${product.id}')" 
                                ${!product.inStock ? 'disabled' : ''}>
                            <i class="fas fa-shopping-cart"></i>
                            ${!product.inStock ? 'Out of Stock' : 'Add to Cart'}
                        </button>
                        <button class="btn-quick-view" onclick="showQuickView('${product.id}')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
            `;
        }
        
        function createShopCard(shop) {
            return `
                <div class="shop-card" onclick="showShopDetail('${shop.id}')">
                    <div class="shop-header">
                        <img src="${shop.banner}" alt="${shop.name}" class="shop-banner">
                        ${shop.isVerified ? `
                            <div class="shop-verified">
                                <i class="fas fa-check"></i>
                            </div>
                        ` : ''}
                        <div class="shop-status ${shop.isOpen ? 'open' : 'closed'}">
                            ${shop.isOpen ? 'OPEN' : 'CLOSED'}
                        </div>
                        <div class="shop-avatar">
                            <img src="${shop.logo}" alt="${shop.name}" class="shop-logo">
                        </div>
                    </div>
                    
                    <div class="shop-body">
                        <h3 class="shop-name">${shop.name}</h3>
                        <div class="shop-category">
                            <i class="fas fa-tag"></i>
                            <span>${shop.category}</span>
                        </div>
                        
                        <div class="shop-rating">
                            <div class="shop-rating-stars">
                                ${generateStarRating(shop.rating)}
                            </div>
                            <div class="shop-rating-value">${shop.rating}</div>
                            <div class="shop-rating-count">(${shop.reviewCount})</div>
                        </div>
                        
                        <div class="shop-info">
                            <div class="shop-info-item">
                                <i class="fas fa-clock shop-info-icon"></i>
                                <span>${shop.deliveryTime} delivery</span>
                            </div>
                            <div class="shop-info-item">
                                <i class="fas fa-rupee-sign shop-info-icon"></i>
                                <span>Min order: â‚¹${shop.minOrder}</span>
                            </div>
                            <div class="shop-info-item">
                                <i class="fas fa-motorcycle shop-info-icon"></i>
                                <span>Delivery: â‚¹${shop.deliveryFee}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="shop-footer">
                        <div class="shop-distance">
                            <i class="fas fa-map-marker-alt shop-distance-icon"></i>
                            <span>${shop.distance}</span>
                        </div>
                        <button class="btn-visit-shop" onclick="showShopDetail('${shop.id}'); event.stopPropagation();">
                            <i class="fas fa-store"></i>
                            Visit Shop
                        </button>
                    </div>
                </div>
            `;
        }
        
        function createCartItem(item) {
            return `
                <div class="cart-item" data-product-id="${item.id}">
                    <button class="cart-item-remove" onclick="removeFromCart('${item.id}')">
                        <i class="fas fa-times"></i>
                    </button>
                    
                    <img src="${item.image}" alt="${item.name}" class="cart-item-image" onclick="showProductDetail('${item.id}')">
                    
                    <div class="cart-item-info">
                        <div class="cart-item-header">
                            <div>
                                <h3 class="cart-item-title" onclick="showProductDetail('${item.id}')">${item.name}</h3>
                                <div class="cart-item-shop">
                                    <i class="fas fa-store"></i>
                                    <span>${item.shop.name}</span>
                                </div>
                            </div>
                            <div class="cart-item-price">â‚¹${item.price * item.quantity}</div>
                        </div>
                        
                        <div class="cart-item-details">
                            <div class="cart-item-variant">${item.variant}</div>
                            <div class="cart-item-stock ${item.inStock ? 'in-stock' : 'out-of-stock'}">
                                <i class="fas ${item.inStock ? 'fa-check-circle' : 'fa-times-circle'}"></i>
                                <span>${item.inStock ? 'In Stock' : 'Out of Stock'}</span>
                            </div>
                        </div>
                        
                        <div class="cart-item-actions">
                            <div class="cart-item-quantity">
                                <button class="cart-quantity-btn" onclick="updateCartQuantity('${item.id}', ${item.quantity - 1})" ${item.quantity <= 1 ? 'disabled' : ''}>
                                    <i class="fas fa-minus"></i>
                                </button>
                                <input type="number" class="cart-quantity-input" value="${item.quantity}" min="1" max="10" 
                                       onchange="updateCartQuantity('${item.id}', parseInt(this.value))">
                                <button class="cart-quantity-btn" onclick="updateCartQuantity('${item.id}', ${item.quantity + 1})" ${item.quantity >= 10 ? 'disabled' : ''}>
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            
                            <div class="cart-item-secondary-actions">
                                <button class="cart-item-action-btn save" onclick="moveToWishlist('${item.id}')">
                                    <i class="fas fa-heart"></i>
                                    Save for later
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function createOrderCard(order) {
            const statusText = order.status.replace(/-/g, ' ').toUpperCase();
            const statusClass = `status-${order.status}`;
            
            // Calculate total items
            const totalItems = order.items.reduce((sum, item) => sum + item.quantity, 0);
            
            // Format order date
            const orderDate = formatDate(order.date);
            
            return `
                <div class="order-card">
                    <div class="order-header">
                        <div class="order-info">
                            <div class="order-id">Order #${order.id}</div>
                            <div class="order-date">${orderDate}</div>
                            <div class="order-shop">
                                <i class="fas fa-store"></i>
                                <span class="order-shop-name">${order.shop.name}</span>
                            </div>
                        </div>
                        
                        <div class="order-status">
                            <div class="order-status-badge ${statusClass}">${statusText}</div>
                            ${order.delivery.estimated ? `
                                <div class="order-status-time">Est: ${formatTime(order.delivery.estimated)}</div>
                            ` : ''}
                        </div>
                    </div>
                    
                    <div class="order-body">
                        <div class="order-items">
                            ${order.items.slice(0, 2).map(item => `
                                <div class="order-item">
                                    <img src="${item.image}" alt="${item.name}" class="order-item-image" onclick="showProductDetail('${item.id}')">
                                    <div class="order-item-info">
                                        <div class="order-item-name" onclick="showProductDetail('${item.id}')">${item.name}</div>
                                        <div class="order-item-details">${item.variant} Ã— ${item.quantity}</div>
                                        <div class="order-item-price">â‚¹${item.price * item.quantity}</div>
                                    </div>
                                </div>
                            `).join('')}
                            
                            ${order.items.length > 2 ? `
                                <div class="order-item-more">
                                    +${order.items.length - 2} more items
                                </div>
                            ` : ''}
                        </div>
                        
                        <div class="order-summary">
                            <div class="order-summary-item">
                                <span>Item Total</span>
                                <span class="value">â‚¹${order.subtotal}</span>
                            </div>
                            <div class="order-summary-item">
                                <span>Delivery</span>
                                <span class="value">${order.delivery === 0 ? 'FREE' : 'â‚¹' + order.delivery}</span>
                            </div>
                            <div class="order-summary-item">
                                <span>Taxes</span>
                                <span class="value">â‚¹${order.tax}</span>
                            </div>
                            <div class="order-summary-item">
                                <span>Total Amount</span>
                                <span class="value">â‚¹${order.total}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="order-footer">
                        <div class="order-actions">
                            <!-- FIXED: Removed "Modify Order" button -->
                            <!-- FIXED: Removed "Track Order" button -->
                            
                            ${order.status === 'delivered' ? `
                                <button class="btn-reorder" onclick="reorder('${order.id}')">
                                    <i class="fas fa-redo"></i>
                                    Reorder
                                </button>
                                <button class="btn-rate-order" onclick="rateOrder('${order.id}')">
                                    <i class="fas fa-star"></i>
                                    Rate Order
                                </button>
                            ` : ''}
                            
                            ${['pending', 'confirmed', 'preparing'].includes(order.status) ? `
                                <button class="btn-cancel-order" onclick="cancelOrder('${order.id}')">
                                    <i class="fas fa-times"></i>
                                    Cancel Order
                                </button>
                            ` : ''}
                            
                            <button class="btn-view-invoice" onclick="viewInvoice('${order.id}')">
                                <i class="fas fa-receipt"></i>
                                View Invoice
                            </button>
                        </div>
                    </div>
                    
                    ${order.timeline ? `
                        <div class="order-timeline">
                            <h4 class="order-timeline-title">Order Timeline</h4>
                            <div class="timeline">
                                ${order.timeline.map((step, index) => `
                                    <div class="timeline-item ${index === order.timeline.length - 1 ? 'active' : 'completed'}">
                                        <div class="timeline-time">${formatTime(step.time)}</div>
                                        <div class="timeline-title">${step.message}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
        }
        
        function createWishlistItem(product) {
            const isInCart = appState.cart.items.some(item => item.id === product.id);
            
            return `
                <div class="wishlist-item">
                    <button class="wishlist-item-remove" onclick="removeFromWishlist('${product.id}')">
                        <i class="fas fa-times"></i>
                    </button>
                    
                    <img src="${product.image}" alt="${product.name}" class="wishlist-item-image" onclick="showProductDetail('${product.id}')">
                    
                    <div class="wishlist-item-info">
                        <h3 class="wishlist-item-title" onclick="showProductDetail('${product.id}')">${product.name}</h3>
                        <div class="wishlist-item-category">
                            <i class="fas fa-tag"></i>
                            <span>${product.category}</span>
                        </div>
                        
                        <div class="wishlist-item-price">â‚¹${product.price}</div>
                        
                        <div class="wishlist-item-stock ${product.inStock ? 'in-stock' : 'out-of-stock'}">
                            <i class="fas ${product.inStock ? 'fa-check-circle' : 'fa-times-circle'}"></i>
                            <span>${product.inStock ? 'In Stock' : 'Out of Stock'}</span>
                        </div>
                        
                        <div class="wishlist-item-actions">
                            <button class="btn-add-to-cart-wishlist ${!product.inStock ? 'out-of-stock' : ''}" 
                                    onclick="addToCart('${product.id}')" 
                                    ${!product.inStock ? 'disabled' : ''}>
                                <i class="fas fa-shopping-cart"></i>
                                ${isInCart ? 'Added to Cart' : (product.inStock ? 'Add to Cart' : 'Out of Stock')}
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // ============================================
        // HELPER FUNCTIONS
        // ============================================
        
        function generateStarRating(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            
            let stars = '';
            
            // Full stars
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star filled"></i>';
            }
            
            // Half star
            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt filled"></i>';
            }
            
            // Empty stars
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }
            
            return stars;
        }
        
        function formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays === 0) {
                return 'Today';
            } else if (diffDays === 1) {
                return 'Yesterday';
            } else if (diffDays < 7) {
                return `${diffDays} days ago`;
            } else {
                return date.toLocaleDateString('en-IN', {
                    day: 'numeric',
                    month: 'short',
                    year: 'numeric'
                });
            }
        }
        
        function formatTime(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffMs = now - date;
            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMs / 3600000);
            const diffDays = Math.floor(diffMs / 86400000);
            
            if (diffMins < 1) {
                return 'Just now';
            } else if (diffMins < 60) {
                return `${diffMins} min ago`;
            } else if (diffHours < 24) {
                return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;
            } else if (diffDays < 7) {
                return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;
            } else {
                return date.toLocaleDateString('en-IN', {
                    day: 'numeric',
                    month: 'short'
                });
            }
        }
        
        function calculateCartTotals() {
            let subtotal = 0;
            
            appState.cart.items.forEach(item => {
                subtotal += item.price * item.quantity;
            });
            
            const tax = subtotal * 0.05; // 5% tax
            const delivery = appState.cart.delivery;
            const discount = appState.cart.discount;
            
            const total = subtotal + tax + delivery - discount;
            
            appState.cart.subtotal = subtotal;
            appState.cart.tax = tax;
            appState.cart.total = total;
        }
        
        function updateCartSummary() {
            calculateCartTotals();
            
            // Update summary elements
            const subtotalElement = document.getElementById('cartSubtotal');
            const deliveryElement = document.getElementById('cartDelivery');
            const taxElement = document.getElementById('cartTax');
            const totalElement = document.getElementById('cartTotal');
            
            if (subtotalElement) subtotalElement.textContent = `â‚¹${appState.cart.subtotal}`;
            if (deliveryElement) deliveryElement.textContent = appState.cart.delivery === 0 ? 'FREE' : `â‚¹${appState.cart.delivery}`;
            if (taxElement) taxElement.textContent = `â‚¹${appState.cart.tax.toFixed(2)}`;
            if (totalElement) totalElement.textContent = `â‚¹${appState.cart.total.toFixed(2)}`;
        }
        
        function initPagination(containerId, totalItems, itemsPerPage, currentPage) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            
            if (totalPages <= 1) {
                container.innerHTML = '';
                return;
            }
            
            let paginationHTML = `
                <ul class="pagination">
                    <li class="page-item ${currentPage === 1 ? 'disabled' : ''}">
                        <a class="page-link" href="#" onclick="changePage('${containerId}', ${currentPage - 1}); return false;">
                            <i class="fas fa-chevron-left"></i>
                        </a>
                    </li>
            `;
            
            // Show page numbers
            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
                    paginationHTML += `
                        <li class="page-item ${i === currentPage ? 'active' : ''}">
                            <a class="page-link" href="#" onclick="changePage('${containerId}', ${i}); return false;">${i}</a>
                        </li>
                    `;
                } else if (i === currentPage - 2 || i === currentPage + 2) {
                    paginationHTML += `<li class="page-item disabled"><span class="page-link">...</span></li>`;
                }
            }
            
            paginationHTML += `
                    <li class="page-item ${currentPage === totalPages ? 'disabled' : ''}">
                        <a class="page-link" href="#" onclick="changePage('${containerId}', ${currentPage + 1}); return false;">
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    </li>
                </ul>
            `;
            
            container.innerHTML = paginationHTML;
        }
        
        function changePage(containerId, pageNumber) {
            // This function would handle pagination
            // For now, it's a placeholder
            console.log(`Changing to page ${pageNumber} for ${containerId}`);
        }
        
        // ============================================
        // EVENT HANDLERS
        // ============================================
        
        function handleSearch(e) {
            const query = e.target.value.toLowerCase().trim();
            appState.searchQuery = query;
            
            if (query.length < 2) {
                searchResults.classList.remove('active');
                return;
            }
            
            // Search in products, categories, and shops
            const productResults = appState.products.filter(product =>
                product.name.toLowerCase().includes(query) ||
                product.category.toLowerCase().includes(query) ||
                product.description.toLowerCase().includes(query)
            ).slice(0, 5);
            
            const categoryResults = appState.categories.filter(category =>
                category.name.toLowerCase().includes(query) ||
                category.description.toLowerCase().includes(query)
            ).slice(0, 3);
            
            const shopResults = appState.shops.filter(shop =>
                shop.name.toLowerCase().includes(query) ||
                shop.category.toLowerCase().includes(query)
            ).slice(0, 3);
            
            displaySearchResults(productResults, categoryResults, shopResults);
        }
        
        function displaySearchResults(products, categories, shops) {
            let resultsHTML = '';
            
            if (products.length > 0) {
                resultsHTML += `
                    <div class="search-section">
                        <div class="search-section-title">Products</div>
                        ${products.map(product => `
                            <div class="search-result-item" onclick="showProductDetail('${product.id}'); closeSearchResults();">
                                <img src="${product.image}" alt="${product.name}" class="search-result-image">
                                <div class="search-result-info">
                                    <div class="search-result-name">${product.name}</div>
                                    <div class="search-result-category">${product.category}</div>
                                    <div class="search-result-shop">
                                        <i class="fas fa-store"></i>
                                        <span>${product.shop.name}</span>
                                    </div>
                                </div>
                                <div class="search-result-price">â‚¹${product.price}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            if (categories.length > 0) {
                resultsHTML += `
                    <div class="search-section">
                        <div class="search-section-title">Categories</div>
                        ${categories.map(category => `
                            <div class="search-result-item" onclick="showCategory('${category.id}'); closeSearchResults();">
                                <div class="search-result-image" style="background: var(--accent-light); display: flex; align-items: center; justify-content: center;">
                                    <i class="${category.icon}" style="font-size: 1.2rem; color: var(--accent);"></i>
                                </div>
                                <div class="search-result-info">
                                    <div class="search-result-name">${category.name}</div>
                                    <div class="search-result-category">${category.description}</div>
                                </div>
                                <div class="search-result-price">${category.productCount} items</div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            if (shops.length > 0) {
                resultsHTML += `
                    <div class="search-section">
                        <div class="search-section-title">Shops</div>
                        ${shops.map(shop => `
                            <div class="search-result-item" onclick="showShopDetail('${shop.id}'); closeSearchResults();">
                                <img src="${shop.logo}" alt="${shop.name}" class="search-result-image">
                                <div class="search-result-info">
                                    <div class="search-result-name">${shop.name}</div>
                                    <div class="search-result-category">${shop.category}</div>
                                    <div class="search-result-shop">
                                        <i class="fas fa-star" style="color: var(--warning);"></i>
                                        <span>${shop.rating} â€¢ ${shop.distance}</span>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            if (resultsHTML === '') {
                resultsHTML = `
                    <div class="search-section">
                        <div class="search-result-item" style="justify-content: center; color: var(--text-light);">
                            <i class="fas fa-search" style="margin-right: 10px;"></i>
                            No results found for "${appState.searchQuery}"
                        </div>
                    </div>
                `;
            }
            
            searchResults.innerHTML = resultsHTML;
            searchResults.classList.add('active');
        }
        
        function showSearchResults() {
            if (appState.searchQuery.length >= 2) {
                searchResults.classList.add('active');
            }
        }
        
        function closeSearchResults() {
            searchResults.classList.remove('active');
            searchInput.blur();
        }
        
        function handleScroll() {
            // Show/hide back to top button
            const backToTop = document.getElementById('backToTop');
            if (backToTop) {
                if (window.pageYOffset > 300) {
                    backToTop.classList.add('show');
                } else {
                    backToTop.classList.remove('show');
                }
            }
            
            // Add shadow to header on scroll
            const header = document.querySelector('.app-header');
            if (header) {
                if (window.pageYOffset > 10) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            }
        }
        
        function handleSortChange(selectorId, value) {
            console.log(`Sort changed: ${selectorId} = ${value}`);
            // This would handle sorting logic
            // For now, it's a placeholder
        }
        
        // ============================================
        // TOAST NOTIFICATIONS
        // ============================================
        
        function showToast(title, message, type = 'info') {
            const toast = document.createElement('div');
            const icon = type === 'success' ? 'fa-check-circle' : 
                        type === 'error' ? 'fa-exclamation-circle' : 
                        type === 'warning' ? 'fa-exclamation-triangle' : 'fa-info-circle';
            
            toast.className = `toast toast-${type}`;
            toast.innerHTML = `
                <div class="toast-icon">
                    <i class="fas ${icon}"></i>
                </div>
                <div class="toast-content">
                    <div class="toast-title">${title}</div>
                    <div class="toast-message">${message}</div>
                </div>
                <button class="toast-close" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            toastContainer.appendChild(toast);
            
            // Show toast with animation
            setTimeout(() => {
                toast.classList.add('show');
            }, 10);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    if (toast.parentElement) {
                        toast.remove();
                    }
                }, 300);
            }, 5000);
        }
        
        // ============================================
        // MODAL FUNCTIONS
        // ============================================
        
        function toggleNotificationPanel() {
            notificationPanel.classList.toggle('show');
            overlay.classList.toggle('show');
        }
        
        function closeNotificationPanel() {
            notificationPanel.classList.remove('show');
            overlay.classList.remove('show');
        }
        
        function toggleUserMenu() {
            userMenu.classList.toggle('show');
        }
        
        function closeUserMenu() {
            userMenu.classList.remove('show');
        }
        
        function openLocationModal() {
            locationModal.classList.add('show');
            overlay.classList.add('show');
        }
        
        function closeLocationModal() {
            locationModal.classList.remove('show');
            overlay.classList.remove('show');
        }
        
        function openFilterModal() {
            const filterSheet = document.getElementById('filterSheet');
            if (filterSheet) {
                filterSheet.classList.add('open');
                overlay.classList.add('show');
            }
        }
        
        function closeFilterSheet() {
            const filterSheet = document.getElementById('filterSheet');
            if (filterSheet) {
                filterSheet.classList.remove('open');
                overlay.classList.remove('show');
            }
        }
        
        function openAddressModal() {
            const addressSheet = document.getElementById('addressSheet');
            if (addressSheet) {
                addressSheet.classList.add('open');
                overlay.classList.add('show');
            }
        }
        
        function closeAddressSheet() {
            const addressSheet = document.getElementById('addressSheet');
            if (addressSheet) {
                addressSheet.classList.remove('open');
                overlay.classList.remove('show');
            }
        }
        
        function closeAllModals() {
            // Close all modals and sheets
            document.querySelectorAll('.modal.show, .bottom-sheet.open, .notification-panel.show').forEach(modal => {
                modal.classList.remove('show', 'open');
            });
            
            // Hide overlay
            overlay.classList.remove('show');
            
            // Close search results
            closeSearchResults();
            
            // Close user menu
            closeUserMenu();
        }
        
        // ============================================
        // INITIALIZE APP WHEN DOM IS LOADED
        // ============================================
        
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
        });
    </script>
    <script>
        // ============================================
        // PRODUCT RELATED FUNCTIONS
        // ============================================
        
        function showProductDetail(productId) {
            console.log(`Showing product detail for: ${productId}`);
            
            const product = appState.products.find(p => p.id === productId);
            if (!product) {
                showToast('Product not found', 'The requested product could not be loaded', 'error');
                return;
            }
            
            // Create product detail HTML
            const productDetailHTML = `
                <div class="product-detail-header">
                    <div class="product-breadcrumb">
                        <div class="breadcrumb">
                            <div class="breadcrumb-item">
                                <a href="#" onclick="showPage('homePage')">Home</a>
                            </div>
                            <div class="breadcrumb-divider">/</div>
                            <div class="breadcrumb-item">
                                <a href="#" onclick="showCategoryProducts('${product.category}')">${product.category}</a>
                            </div>
                            <div class="breadcrumb-divider">/</div>
                            <div class="breadcrumb-item active">${product.name}</div>
                        </div>
                    </div>
                </div>
                
                <div class="product-main">
                    <div class="product-images">
                        <img src="${product.image}" alt="${product.name}" class="product-main-image" id="mainProductImage">
                        <div class="product-thumbnails">
                            ${product.images.map((img, index) => `
                                <img src="${img}" alt="${product.name} - ${index + 1}" 
                                     class="product-thumbnail ${index === 0 ? 'active' : ''}" 
                                     onclick="changeProductImage('${img}', this)">
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="product-info">
                        <div class="product-info-header">
                            <h1 class="product-title-large">${product.name}</h1>
                            <div class="product-sku">SKU: ${product.sku}</div>
                            
                            <div class="product-rating-large">
                                <div class="product-rating-stars-large">
                                    ${generateStarRating(product.rating)}
                                </div>
                                <div class="product-rating-value-large">${product.rating}</div>
                                <div class="product-rating-count-large">(${product.reviewCount} ratings)</div>
                            </div>
                        </div>
                        
                        <div class="product-price-large">
                            <div class="product-current-price-large">â‚¹${product.price}</div>
                            ${product.originalPrice > product.price ? `
                                <div class="product-original-price-large">â‚¹${product.originalPrice}</div>
                                <div class="product-discount-large">
                                    <i class="fas fa-tag"></i>
                                    Save â‚¹${product.originalPrice - product.price} (${Math.round((1 - product.price/product.originalPrice) * 100)}% OFF)
                                </div>
                            ` : ''}
                        </div>
                        
                        <div class="product-description-large">
                            <h3 class="product-description-title">Description</h3>
                            <div class="product-description-content">${product.description}</div>
                        </div>
                        
                        <div class="product-attributes">
                            <div class="product-attribute">
                                <div class="product-attribute-label">Brand</div>
                                <div class="product-attribute-value">${product.brand}</div>
                            </div>
                            <div class="product-attribute">
                                <div class="product-attribute-label">Weight</div>
                                <div class="product-attribute-value">${product.weight}</div>
                            </div>
                            <div class="product-attribute">
                                <div class="product-attribute-label">Shop</div>
                                <div class="product-attribute-value">
                                    <a href="#" onclick="showShopDetail('${product.shop.id}')" style="color: var(--accent);">
                                        ${product.shop.name}
                                    </a>
                                </div>
                            </div>
                            <div class="product-attribute">
                                <div class="product-attribute-label">Stock</div>
                                <div class="product-attribute-value ${product.inStock ? 'text-success' : 'text-danger'}">
                                    <i class="fas ${product.inStock ? 'fa-check-circle' : 'fa-times-circle'}"></i>
                                    ${product.inStock ? `In Stock (${product.stock} available)` : 'Out of Stock'}
                                </div>
                            </div>
                        </div>
                        
                        <div class="product-variants" id="productVariants">
                            <!-- Variants would be loaded here if available -->
                        </div>
                        
                        <div class="product-quantity">
                            <h4 class="product-quantity-title">Quantity</h4>
                            <div class="quantity-selector">
                                <button class="quantity-btn" id="decreaseQty" onclick="decreaseQuantity()">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <input type="number" class="quantity-input" id="productQuantity" value="1" min="1" max="10" readonly>
                                <button class="quantity-btn" id="increaseQty" onclick="increaseQuantity()">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="product-actions-large">
                            <button class="btn-buy-now" onclick="buyNow('${productId}')" ${!product.inStock ? 'disabled' : ''}>
                                <i class="fas fa-bolt"></i>
                                Buy Now
                            </button>
                            <button class="btn-add-to-cart-large" id="addToCartBtn" onclick="addToCartFromDetail('${productId}')" ${!product.inStock ? 'disabled' : ''}>
                                <i class="fas fa-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                        
                        <div class="product-secondary-actions">
                            <button class="btn-wishlist-large ${appState.wishlist.includes(productId) ? 'active' : ''}" 
                                    onclick="toggleWishlist('${productId}')">
                                <i class="fas fa-heart"></i>
                                ${appState.wishlist.includes(productId) ? 'Added to Wishlist' : 'Add to Wishlist'}
                            </button>
                            <button class="btn-compare-large" onclick="addToCompare('${productId}')">
                                <i class="fas fa-exchange-alt"></i>
                                Compare
                            </button>
                            <button class="btn-share-large" onclick="shareProduct('${productId}')">
                                <i class="fas fa-share-alt"></i>
                                Share
                            </button>
                        </div>
                        
                        <div class="product-delivery-info">
                            <h4 class="delivery-info-title">Delivery Information</h4>
                            <div class="delivery-info-item">
                                <i class="fas fa-shipping-fast delivery-info-icon"></i>
                                <div class="delivery-info-text">
                                    <strong>Free Delivery</strong> on orders above â‚¹299
                                </div>
                            </div>
                            <div class="delivery-info-item">
                                <i class="fas fa-clock delivery-info-icon"></i>
                                <div class="delivery-info-text">
                                    Delivery in <strong>30-40 minutes</strong> for this location
                                </div>
                            </div>
                            <div class="delivery-info-item">
                                <i class="fas fa-undo delivery-info-icon"></i>
                                <div class="delivery-info-text">
                                    <strong>Easy Returns</strong> within 24 hours for damaged or incorrect items
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="product-detail-tabs">
                    <div class="product-tabs">
                        <button class="product-tab-btn active" onclick="switchProductTab('specifications')">Specifications</button>
                        <button class="product-tab-btn" onclick="switchProductTab('reviews')">Reviews</button>
                        <button class="product-tab-btn" onclick="switchProductTab('faq')">FAQ</button>
                    </div>
                    
                    <div class="product-tab-content active" id="specificationsTab">
                        <table class="specifications-table">
                            <tr>
                                <td>Brand</td>
                                <td>${product.brand}</td>
                            </tr>
                            <tr>
                                <td>Weight</td>
                                <td>${product.weight}</td>
                            </tr>
                            <tr>
                                <td>Category</td>
                                <td>${product.category}</td>
                            </tr>
                            <tr>
                                <td>Subcategory</td>
                                <td>${product.subcategory}</td>
                            </tr>
                            <tr>
                                <td>Shelf Life</td>
                                <td>7-10 days when stored properly</td>
                            </tr>
                            <tr>
                                <td>Storage Instructions</td>
                                <td>Store in a cool, dry place away from direct sunlight</td>
                            </tr>
                        </table>
                    </div>
                    
                    <div class="product-tab-content" id="reviewsTab">
                        <div class="reviews-summary">
                            <div class="overall-rating">
                                <div class="overall-rating-value">${product.rating}</div>
                                <div class="overall-rating-stars">
                                    ${generateStarRating(product.rating)}
                                </div>
                                <div class="overall-rating-count">${product.reviewCount} reviews</div>
                            </div>
                            
                            <div class="rating-breakdown">
                                <div class="rating-breakdown-item">
                                    <div class="rating-label">5 Star</div>
                                    <div class="rating-bar">
                                        <div class="rating-progress" style="width: 70%;"></div>
                                    </div>
                                    <div class="rating-count">70%</div>
                                </div>
                                <div class="rating-breakdown-item">
                                    <div class="rating-label">4 Star</div>
                                    <div class="rating-bar">
                                        <div class="rating-progress" style="width: 20%;"></div>
                                    </div>
                                    <div class="rating-count">20%</div>
                                </div>
                                <div class="rating-breakdown-item">
                                    <div class="rating-label">3 Star</div>
                                    <div class="rating-bar">
                                        <div class="rating-progress" style="width: 5%;"></div>
                                    </div>
                                    <div class="rating-count">5%</div>
                                </div>
                                <div class="rating-breakdown-item">
                                    <div class="rating-label">2 Star</div>
                                    <div class="rating-bar">
                                        <div class="rating-progress" style="width: 3%;"></div>
                                    </div>
                                    <div class="rating-count">3%</div>
                                </div>
                                <div class="rating-breakdown-item">
                                    <div class="rating-label">1 Star</div>
                                    <div class="rating-bar">
                                        <div class="rating-progress" style="width: 2%;"></div>
                                    </div>
                                    <div class="rating-count">2%</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="reviews-list">
                            <!-- Sample reviews -->
                            <div class="review-card">
                                <div class="review-header">
                                    <div class="reviewer-info">
                                        <div class="reviewer-avatar">R</div>
                                        <div class="reviewer-details">
                                            <div class="reviewer-name">Rahul Sharma</div>
                                            <div class="review-date">2 days ago</div>
                                        </div>
                                    </div>
                                    <div class="review-rating">
                                        ${generateStarRating(5)}
                                    </div>
                                </div>
                                <h4 class="review-title">Excellent Quality</h4>
                                <div class="review-content">
                                    The apples were fresh and juicy. Exactly as described. Will order again!
                                </div>
                            </div>
                            
                            <div class="review-card">
                                <div class="review-header">
                                    <div class="reviewer-info">
                                        <div class="reviewer-avatar">P</div>
                                        <div class="reviewer-details">
                                            <div class="reviewer-name">Priya Patel</div>
                                            <div class="review-date">1 week ago</div>
                                        </div>
                                    </div>
                                    <div class="review-rating">
                                        ${generateStarRating(4)}
                                    </div>
                                </div>
                                <h4 class="review-title">Good Product</h4>
                                <div class="review-content">
                                    Fresh and good quality. Delivery was on time. Satisfied with the purchase.
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-tab-content" id="faqTab">
                        <div class="accordion">
                            <div class="accordion-item">
                                <button class="accordion-header" onclick="toggleAccordion('faq1')">
                                    <span>Is this product fresh?</span>
                                    <i class="fas fa-chevron-down accordion-icon"></i>
                                </button>
                                <div class="accordion-content" id="faq1">
                                    <p>Yes, all our products are sourced fresh daily from trusted suppliers and delivered to you within hours.</p>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <button class="accordion-header" onclick="toggleAccordion('faq2')">
                                    <span>What is the shelf life?</span>
                                    <i class="fas fa-chevron-down accordion-icon"></i>
                                </button>
                                <div class="accordion-content" id="faq2">
                                    <p>This product has a shelf life of 7-10 days when stored properly in a cool, dry place.</p>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <button class="accordion-header" onclick="toggleAccordion('faq3')">
                                    <span>Can I return this product?</span>
                                    <i class="fas fa-chevron-down accordion-icon"></i>
                                </button>
                                <div class="accordion-content" id="faq3">
                                    <p>Yes, we accept returns within 24 hours of delivery if the product is damaged or incorrect.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Update the product detail container
            const container = document.getElementById('productDetailContainer');
            if (container) {
                container.innerHTML = productDetailHTML;
                
                // Show the product detail page
                showPage('productDetailPage');
                
                // Update quantity buttons state
                updateQuantityButtons();
                
                // Load related products
                loadRelatedProducts(productId);
            }
        }
        
        function changeProductImage(imageUrl, element) {
            // Update main image
            const mainImage = document.getElementById('mainProductImage');
            if (mainImage) {
                mainImage.src = imageUrl;
            }
            
            // Update active thumbnail
            document.querySelectorAll('.product-thumbnail').forEach(thumb => {
                thumb.classList.remove('active');
            });
            element.classList.add('active');
        }
        
        function increaseQuantity() {
            const quantityInput = document.getElementById('productQuantity');
            if (quantityInput) {
                let currentQty = parseInt(quantityInput.value);
                if (currentQty < 10) {
                    quantityInput.value = currentQty + 1;
                    updateQuantityButtons();
                }
            }
        }
        
        function decreaseQuantity() {
            const quantityInput = document.getElementById('productQuantity');
            if (quantityInput) {
                let currentQty = parseInt(quantityInput.value);
                if (currentQty > 1) {
                    quantityInput.value = currentQty - 1;
                    updateQuantityButtons();
                }
            }
        }
        
        function updateQuantityButtons() {
            const quantityInput = document.getElementById('productQuantity');
            const decreaseBtn = document.getElementById('decreaseQty');
            const increaseBtn = document.getElementById('increaseQty');
            
            if (quantityInput && decreaseBtn && increaseBtn) {
                const currentQty = parseInt(quantityInput.value);
                decreaseBtn.disabled = currentQty <= 1;
                increaseBtn.disabled = currentQty >= 10;
            }
        }
        
        function switchProductTab(tabName) {
            // Update active tab button
            document.querySelectorAll('.product-tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show selected tab content
            document.querySelectorAll('.product-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            const tabId = tabName + 'Tab';
            const tabContent = document.getElementById(tabId);
            if (tabContent) {
                tabContent.classList.add('active');
            }
        }
        
        function loadRelatedProducts(productId) {
            const currentProduct = appState.products.find(p => p.id === productId);
            if (!currentProduct) return;
            
            // Find related products (same category, excluding current product)
            const relatedProducts = appState.products.filter(product => 
                product.id !== productId && 
                (product.category === currentProduct.category || product.shop.id === currentProduct.shop.id)
            ).slice(0, 4);
            
            const container = document.getElementById('relatedProducts');
            if (container && relatedProducts.length > 0) {
                container.innerHTML = relatedProducts.map(product => createProductCard(product)).join('');
            }
        }
        
        // ============================================
        // CART FUNCTIONS
        // ============================================
        
        function addToCart(productId, quantity = 1) {
            console.log(`Adding product ${productId} to cart`);
            
            const product = appState.products.find(p => p.id === productId);
            if (!product) {
                showToast('Product not found', 'Could not add to cart', 'error');
                return;
            }
            
            if (!product.inStock) {
                showToast('Out of Stock', 'This product is currently out of stock', 'error');
                return;
            }
            
            // Check if product is already in cart
            const existingItemIndex = appState.cart.items.findIndex(item => item.id === productId);
            
            if (existingItemIndex !== -1) {
                // Update quantity
                appState.cart.items[existingItemIndex].quantity += quantity;
                
                showToast('Cart Updated', `${product.name} quantity updated`, 'success');
            } else {
                // Add new item
                const cartItem = {
                    id: product.id,
                    name: product.name,
                    quantity: quantity,
                    price: product.price,
                    image: product.image,
                    variant: product.weight,
                    shop: {
                        id: product.shop.id,
                        name: product.shop.name
                    },
                    inStock: product.inStock
                };
                
                appState.cart.items.push(cartItem);
                
                showToast('Added to Cart', `${product.name} added to your cart`, 'success');
            }
            
            // Update cart totals
            calculateCartTotals();
            
            // Update cart badge
            updateCartBadge();
            
            // If on cart page, reload it
            if (appState.currentPage === 'cartPage') {
                loadCartPage();
            }
            
            // Update "Add to Cart" button text if on product detail page
            const addToCartBtn = document.getElementById('addToCartBtn');
            if (addToCartBtn) {
                addToCartBtn.innerHTML = '<i class="fas fa-check"></i> Added to Cart';
                addToCartBtn.classList.add('added');
                setTimeout(() => {
                    addToCartBtn.innerHTML = '<i class="fas fa-shopping-cart"></i> Add to Cart';
                    addToCartBtn.classList.remove('added');
                }, 2000);
            }
        }
        
        function addToCartFromDetail(productId) {
            const quantityInput = document.getElementById('productQuantity');
            const quantity = quantityInput ? parseInt(quantityInput.value) : 1;
            addToCart(productId, quantity);
        }
        
        function updateCartQuantity(productId, newQuantity) {
            console.log(`Updating cart quantity for ${productId} to ${newQuantity}`);
            
            if (newQuantity < 1) {
                removeFromCart(productId);
                return;
            }
            
            if (newQuantity > 10) {
                showToast('Maximum Quantity', 'You can only add up to 10 units of this product', 'warning');
                return;
            }
            
            const itemIndex = appState.cart.items.findIndex(item => item.id === productId);
            if (itemIndex !== -1) {
                appState.cart.items[itemIndex].quantity = newQuantity;
                
                // Update cart totals
                calculateCartTotals();
                
                // Update cart display
                if (appState.currentPage === 'cartPage') {
                    loadCartPage();
                }
                
                showToast('Quantity Updated', 'Cart quantity updated successfully', 'success');
            }
        }
        
        function removeFromCart(productId) {
            console.log(`Removing product ${productId} from cart`);
            
            const itemIndex = appState.cart.items.findIndex(item => item.id === productId);
            if (itemIndex !== -1) {
                const itemName = appState.cart.items[itemIndex].name;
                appState.cart.items.splice(itemIndex, 1);
                
                // Update cart totals
                calculateCartTotals();
                
                // Update cart badge
                updateCartBadge();
                
                // Update cart display
                if (appState.currentPage === 'cartPage') {
                    loadCartPage();
                }
                
                showToast('Removed from Cart', `${itemName} removed from your cart`, 'success');
            }
        }
        
        function moveToWishlist(productId) {
            // First remove from cart
            removeFromCart(productId);
            
            // Then add to wishlist
            toggleWishlist(productId);
            
            showToast('Moved to Wishlist', 'Item moved to your wishlist', 'success');
        }
        
        function loadCartRecommendations() {
            const container = document.getElementById('cartRecommendations');
            if (!container) return;
            
            // Get recommendations (products not in cart)
            const cartProductIds = appState.cart.items.map(item => item.id);
            const recommendations = appState.products
                .filter(product => !cartProductIds.includes(product.id))
                .slice(0, 4);
            
            if (recommendations.length > 0) {
                container.innerHTML = recommendations.map(product => createProductCard(product)).join('');
            }
        }
        
        // ============================================
        // WISHLIST FUNCTIONS
        // ============================================
        
        function toggleWishlist(productId, event = null) {
            if (event) {
                event.stopPropagation();
            }
            
            console.log(`Toggling wishlist for product: ${productId}`);
            
            const product = appState.products.find(p => p.id === productId);
            if (!product) return;
            
            const index = appState.wishlist.indexOf(productId);
            const isInWishlist = index !== -1;
            
            if (isInWishlist) {
                // Remove from wishlist
                appState.wishlist.splice(index, 1);
                showToast('Removed from Wishlist', `${product.name} removed from your wishlist`, 'success');
            } else {
                // Add to wishlist
                appState.wishlist.push(productId);
                showToast('Added to Wishlist', `${product.name} added to your wishlist`, 'success');
            }
            
            // Update wishlist badge
            updateWishlistBadge();
            
            // Update UI if on wishlist page
            if (appState.currentPage === 'wishlistPage') {
                loadWishlistPage();
            }
            
            // Update wishlist button state
            const wishlistButtons = document.querySelectorAll(`[onclick*="toggleWishlist('${productId}'"]`);
            wishlistButtons.forEach(btn => {
                if (isInWishlist) {
                    btn.classList.remove('active');
                    if (btn.querySelector('.fa-heart')) {
                        btn.innerHTML = '<i class="fas fa-heart"></i>';
                    }
                } else {
                    btn.classList.add('active');
                    if (btn.querySelector('.fa-heart')) {
                        btn.innerHTML = '<i class="fas fa-heart"></i>';
                    }
                }
            });
        }
        
        function removeFromWishlist(productId) {
            toggleWishlist(productId);
        }
        
        function clearWishlist() {
            if (appState.wishlist.length === 0) {
                showToast('Wishlist is already empty', '', 'info');
                return;
            }
            
            if (confirm('Are you sure you want to clear your entire wishlist?')) {
                appState.wishlist = [];
                updateWishlistBadge();
                loadWishlistPage();
                showToast('Wishlist Cleared', 'All items removed from your wishlist', 'success');
            }
        }
        
        // ============================================
        // SHOP FUNCTIONS
        // ============================================
        
        function showShopDetail(shopId) {
            console.log(`Showing shop detail for: ${shopId}`);
            
            const shop = appState.shops.find(s => s.id === shopId);
            if (!shop) {
                showToast('Shop not found', 'The requested shop could not be loaded', 'error');
                return;
            }
            
            // Create shop detail HTML
            const shopDetailHTML = `
                <div class="shop-detail-header">
                    <img src="${shop.banner}" alt="${shop.name}" class="shop-detail-banner">
                    <div class="shop-detail-header-overlay"></div>
                    <div class="shop-detail-header-content">
                        ${shop.isVerified ? `
                            <div class="shop-detail-verified">
                                <i class="fas fa-check"></i>
                                <span>Verified Shop</span>
                            </div>
                        ` : ''}
                        
                        <h1 class="shop-detail-name">${shop.name}</h1>
                        <div class="shop-detail-category">${shop.category}</div>
                        
                        <div class="shop-detail-header-actions">
                            <button class="btn btn-primary" onclick="showShopProducts('${shopId}')">
                                <i class="fas fa-store"></i>
                                View Products
                            </button>
                            <button class="btn btn-outline" onclick="followShop('${shopId}')">
                                <i class="fas fa-bell"></i>
                                Follow Shop
                            </button>
                        </div>
                    </div>
                    
                    <div class="shop-detail-avatar">
                        <img src="${shop.logo}" alt="${shop.name}" class="shop-detail-logo">
                    </div>
                </div>
                
                <div class="shop-detail-main">
                    <div class="shop-detail-info">
                        <div class="shop-detail-card">
                            <h3 class="shop-detail-card-title">
                                <i class="fas fa-info-circle"></i>
                                About This Shop
                            </h3>
                            <div class="shop-detail-about">${shop.description}</div>
                            
                            <div class="shop-detail-stats">
                                <div class="shop-stat">
                                    <div class="shop-stat-value">${shop.rating}</div>
                                    <div class="shop-stat-label">Rating</div>
                                </div>
                                <div class="shop-stat">
                                    <div class="shop-stat-value">${shop.reviewCount}</div>
                                    <div class="shop-stat-label">Reviews</div>
                                </div>
                                <div class="shop-stat">
                                    <div class="shop-stat-value">${shop.stats.totalOrders}</div>
                                    <div class="shop-stat-label">Orders</div>
                                </div>
                                <div class="shop-stat">
                                    <div class="shop-stat-value">${shop.stats.yearsActive}</div>
                                    <div class="shop-stat-label">Years Active</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="shop-detail-card">
                            <h3 class="shop-detail-card-title">
                                <i class="fas fa-map-marker-alt"></i>
                                Contact & Location
                            </h3>
                            <div class="shop-contact-info">
                                <div class="shop-contact-item">
                                    <i class="fas fa-map-marker-alt shop-contact-icon"></i>
                                    <span>${shop.address}</span>
                                </div>
                                <div class="shop-contact-item">
                                    <i class="fas fa-phone shop-contact-icon"></i>
                                    <span>${shop.phone}</span>
                                </div>
                                <div class="shop-contact-item">
                                    <i class="fas fa-envelope shop-contact-icon"></i>
                                    <span>${shop.email}</span>
                                </div>
                                <div class="shop-contact-item">
                                    <i class="fas fa-motorcycle shop-contact-icon"></i>
                                    <span>${shop.distance} away â€¢ ${shop.deliveryTime} delivery</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="shop-detail-card">
                            <h3 class="shop-detail-card-title">
                                <i class="fas fa-clock"></i>
                                Shop Hours
                            </h3>
                            <div class="shop-hours">
                                <div class="shop-hour-item">
                                    <div class="shop-day">Monday - Friday</div>
                                    <div class="shop-time open">${shop.hours.monday}</div>
                                </div>
                                <div class="shop-hour-item">
                                    <div class="shop-day">Saturday</div>
                                    <div class="shop-time open">${shop.hours.saturday}</div>
                                </div>
                                <div class="shop-hour-item">
                                    <div class="shop-day">Sunday</div>
                                    <div class="shop-time open">${shop.hours.sunday}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="shop-detail-tabs">
                        <div class="shop-tabs">
                            <button class="shop-tab-btn active" onclick="switchShopTab('products')">Products</button>
                            <button class="shop-tab-btn" onclick="switchShopTab('reviews')">Reviews</button>
                            <button class="shop-tab-btn" onclick="switchShopTab('info')">Information</button>
                        </div>
                        
                        <div class="shop-tab-content active" id="shopProductsTab">
                            <div class="shop-products-header">
                                <h3>Products from ${shop.name}</h3>
                                <div class="shop-products-filter">
                                    <select class="form-control" style="max-width: 200px;">
                                        <option>Sort by: Popular</option>
                                        <option>Price: Low to High</option>
                                        <option>Price: High to Low</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="product-grid" id="shopProductsGrid">
                                <!-- Shop products will be loaded here -->
                            </div>
                        </div>
                        
                        <div class="shop-tab-content" id="shopReviewsTab">
                            <div class="reviews-summary">
                                <div class="overall-rating">
                                    <div class="overall-rating-value">${shop.rating}</div>
                                    <div class="overall-rating-stars">
                                        ${generateStarRating(shop.rating)}
                                    </div>
                                    <div class="overall-rating-count">${shop.reviewCount} reviews</div>
                                </div>
                                
                                <div class="rating-breakdown">
                                    <!-- Rating breakdown would go here -->
                                </div>
                            </div>
                            
                            <div class="reviews-list">
                                <!-- Shop reviews would go here -->
                            </div>
                        </div>
                        
                        <div class="shop-tab-content" id="shopInfoTab">
                            <div class="shop-info-details">
                                <h4>Shop Policies</h4>
                                <ul>
                                    <li>Minimum order: â‚¹${shop.minOrder}</li>
                                    <li>Delivery fee: â‚¹${shop.deliveryFee}</li>
                                    <li>Delivery time: ${shop.deliveryTime}</li>
                                    <li>Free delivery on orders above â‚¹299</li>
                                </ul>
                                
                                <h4>Quality Assurance</h4>
                                <p>All products are quality checked before dispatch. We ensure freshness and quality in every order.</p>
                                
                                <h4>Return Policy</h4>
                                <p>We accept returns within 24 hours for damaged or incorrect items. Contact our support for assistance.</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Update the shop detail container
            const container = document.getElementById('shopDetailContainer');
            if (container) {
                container.innerHTML = shopDetailHTML;
                
                // Show the shop detail page
                showPage('shopDetailPage');
                
                // Load shop products
                loadShopProducts(shopId);
            }
        }
        
        function loadShopProducts(shopId) {
            const container = document.getElementById('shopProductsGrid');
            if (!container) return;
            
            // Get products from this shop
            const shopProducts = appState.products.filter(product => product.shop.id === shopId);
            
            if (shopProducts.length === 0) {
                container.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <div class="empty-state-icon">
                            <i class="fas fa-box-open"></i>
                        </div>
                        <h3 class="empty-state-title">No Products Available</h3>
                        <p class="empty-state-message">This shop doesn't have any products listed yet</p>
                    </div>
                `;
            } else {
                container.innerHTML = shopProducts.map(product => createProductCard(product)).join('');
            }
        }
        
        function switchShopTab(tabName) {
            // Update active tab button
            document.querySelectorAll('.shop-tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show selected tab content
            document.querySelectorAll('.shop-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            const tabId = 'shop' + tabName.charAt(0).toUpperCase() + tabName.slice(1) + 'Tab';
            const tabContent = document.getElementById(tabId);
            if (tabContent) {
                tabContent.classList.add('active');
            }
        }
        
        function followShop(shopId) {
            showToast('Shop Followed', 'You will receive updates from this shop', 'success');
        }
        
        function showShopProducts(shopId) {
            // This would filter products by shop
            // For now, just show a message
            showToast('Feature Coming Soon', 'Shop products filtering will be available soon', 'info');
        }
        
        // ============================================
        // CATEGORY FUNCTIONS
        // ============================================
        
        function showCategory(categoryId) {
            console.log(`Showing category: ${categoryId}`);
            
            const category = appState.categories.find(c => c.id === categoryId);
            if (!category) {
                showToast('Category not found', 'The requested category could not be loaded', 'error');
                return;
            }
            
            // Set category title and description
            document.getElementById('categoryTitle').textContent = category.name;
            document.getElementById('categoryDescription').textContent = category.description;
            
            // Get products in this category
            const categoryProducts = appState.products.filter(product => product.category === category.name);
            
            // Update products grid
            const container = document.getElementById('categoryProducts');
            if (container) {
                if (categoryProducts.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state" style="grid-column: 1 / -1;">
                            <div class="empty-state-icon">
                                <i class="fas fa-box-open"></i>
                            </div>
                            <h3 class="empty-state-title">No Products Available</h3>
                            <p class="empty-state-message">No products found in this category</p>
                        </div>
                    `;
                } else {
                    container.innerHTML = categoryProducts.map(product => createProductCard(product)).join('');
                }
                
                // Initialize pagination
                initPagination('categoryPagination', categoryProducts.length, 12, 1);
                
                // Show the category products page
                showPage('categoryProductsPage');
            }
        }
        
        function showCategoryProducts(categoryName) {
            // Find category by name
            const category = appState.categories.find(c => c.name === categoryName);
            if (category) {
                showCategory(category.id);
            }
        }
        
        // ============================================
        // CHECKOUT FUNCTIONS
        // ============================================
        
        function proceedToCheckout() {
            if (appState.cart.items.length === 0) {
                showToast('Cart is empty', 'Add items to your cart before checkout', 'error');
                return;
            }
            
            // Navigate to checkout page
            showPage('checkoutPage');
        }
        
        function loadCheckoutAddresses() {
            const container = document.getElementById('checkoutAddresses');
            if (!container) return;
            
            if (appState.addresses.length === 0) {
                container.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <div class="empty-state-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <h3 class="empty-state-title">No Addresses Saved</h3>
                        <p class="empty-state-message">Add an address to continue with checkout</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = appState.addresses.map(address => `
                <div class="checkout-address-card ${address.isDefault ? 'selected' : ''}" 
                     onclick="selectCheckoutAddress('${address.id}')" 
                     id="address-${address.id}">
                    <div class="checkout-address-type">
                        <i class="fas fa-${address.type === 'home' ? 'home' : address.type === 'work' ? 'briefcase' : 'map-marker-alt'} checkout-address-type-icon"></i>
                        <div class="checkout-address-type-text">
                            ${address.type === 'home' ? 'Home' : address.type === 'work' ? 'Work' : 'Other'}
                            ${address.isDefault ? '<span class="checkout-address-default">Default</span>' : ''}
                        </div>
                    </div>
                    <div class="checkout-address-details">
                        <p><strong>${address.name}</strong></p>
                        <p>${address.line1}</p>
                        <p>${address.line2}</p>
                        <p>${address.city}, ${address.state} - ${address.pincode}</p>
                    </div>
                    <div class="checkout-address-phone">
                        <i class="fas fa-phone"></i>
                        <span>${address.phone}</span>
                    </div>
                </div>
            `).join('');
            
            // Select default address if exists
            const defaultAddress = appState.addresses.find(addr => addr.isDefault);
            if (defaultAddress) {
                selectCheckoutAddress(defaultAddress.id);
            }
        }
        
        function selectCheckoutAddress(addressId) {
            // Remove selected class from all addresses
            document.querySelectorAll('.checkout-address-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Add selected class to clicked address
            const selectedCard = document.getElementById(`address-${addressId}`);
            if (selectedCard) {
                selectedCard.classList.add('selected');
                
                // Enable next step if this is step 1
                if (appState.checkoutStep === 1) {
                    nextCheckoutStep();
                }
            }
        }
        
        function loadDeliveryOptions() {
            const container = document.getElementById('deliveryOptions');
            if (!container) return;
            
            const deliveryOptions = [
                {
                    id: 'standard',
                    name: 'Standard Delivery',
                    description: 'Delivery within 30-40 minutes',
                    price: 40,
                    freeAbove: 299,
                    time: '30-40 mins'
                },
                {
                    id: 'express',
                    name: 'Express Delivery',
                    description: 'Priority delivery within 20-30 minutes',
                    price: 60,
                    freeAbove: 499,
                    time: '20-30 mins'
                },
                {
                    id: 'scheduled',
                    name: 'Scheduled Delivery',
                    description: 'Choose your preferred delivery time',
                    price: 50,
                    freeAbove: 399,
                    time: 'Select time'
                }
            ];
            
            container.innerHTML = deliveryOptions.map(option => {
                const isFree = appState.cart.subtotal >= option.freeAbove;
                return `
                    <div class="checkout-delivery-option" onclick="selectDeliveryOption('${option.id}')" id="delivery-${option.id}">
                        <div class="delivery-option-icon">
                            <i class="fas fa-${option.id === 'express' ? 'bolt' : option.id === 'scheduled' ? 'calendar-alt' : 'shipping-fast'}"></i>
                        </div>
                        <div class="delivery-option-name">${option.name}</div>
                        <div class="delivery-option-description">${option.description}</div>
                        <div class="delivery-option-price">${isFree ? 'FREE' : 'â‚¹' + option.price}</div>
                        <div class="delivery-option-time">${option.time}</div>
                    </div>
                `;
            }).join('');
            
            // Select first option by default
            selectDeliveryOption('standard');
        }
        
        function selectDeliveryOption(optionId) {
            // Remove selected class from all options
            document.querySelectorAll('.checkout-delivery-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            const selectedOption = document.getElementById(`delivery-${optionId}`);
            if (selectedOption) {
                selectedOption.classList.add('selected');
                
                // Update delivery fee in cart
                const option = optionId === 'standard' ? { price: 40, freeAbove: 299 } : 
                              optionId === 'express' ? { price: 60, freeAbove: 499 } : 
                              { price: 50, freeAbove: 399 };
                
                const isFree = appState.cart.subtotal >= option.freeAbove;
                appState.cart.delivery = isFree ? 0 : option.price;
                
                // Update cart totals and summary
                calculateCartTotals();
                updateCartSummary();
                loadCheckoutSummary();
                
                // Enable next step if this is step 2
                if (appState.checkoutStep === 2) {
                    nextCheckoutStep();
                }
            }
        }
        
        function loadPaymentMethods() {
            const container = document.getElementById('paymentMethods');
            if (!container) return;
            
            const paymentMethods = [
                {
                    id: 'credit_card',
                    name: 'Credit/Debit Card',
                    icon: 'fas fa-credit-card',
                    description: 'Pay with your card'
                },
                {
                    id: 'upi',
                    name: 'UPI',
                    icon: 'fas fa-mobile-alt',
                    description: 'Pay using UPI apps'
                },
                {
                    id: 'netbanking',
                    name: 'Net Banking',
                    icon: 'fas fa-university',
                    description: 'Pay via net banking'
                },
                {
                    id: 'cod',
                    name: 'Cash on Delivery',
                    icon: 'fas fa-money-bill-wave',
                    description: 'Pay when you receive'
                }
            ];
            
            container.innerHTML = paymentMethods.map(method => `
                <div class="checkout-payment-method" onclick="selectPaymentMethod('${method.id}')" id="payment-${method.id}">
                    <div class="payment-method-icon">
                        <i class="${method.icon}"></i>
                    </div>
                    <div class="payment-method-name">${method.name}</div>
                    <div class="payment-method-description">${method.description}</div>
                </div>
            `).join('');
            
            // Select first option by default
            selectPaymentMethod('credit_card');
        }
        
        function selectPaymentMethod(methodId) {
            // Remove selected class from all methods
            document.querySelectorAll('.checkout-payment-method').forEach(method => {
                method.classList.remove('selected');
            });
            
            // Add selected class to clicked method
            const selectedMethod = document.getElementById(`payment-${methodId}`);
            if (selectedMethod) {
                selectedMethod.classList.add('selected');
                
                // Enable next step if this is step 3
                if (appState.checkoutStep === 3) {
                    nextCheckoutStep();
                }
            }
        }
        
        function loadCheckoutSummary() {
            // Update order summary items
            const summaryItems = document.getElementById('checkoutSummaryItems');
            const summaryDetails = document.getElementById('checkoutSummaryDetails');
            
            if (summaryItems) {
                summaryItems.innerHTML = appState.cart.items.map(item => `
                    <div class="checkout-order-item">
                        <img src="${item.image}" alt="${item.name}" class="checkout-order-item-image">
                        <div class="checkout-order-item-info">
                            <div class="checkout-order-item-name">${item.name}</div>
                            <div class="checkout-order-item-details">${item.variant} Ã— ${item.quantity}</div>
                            <div class="checkout-order-item-price">â‚¹${item.price * item.quantity}</div>
                        </div>
                    </div>
                `).join('');
            }
            
            if (summaryDetails) {
                summaryDetails.innerHTML = `
                    <div class="checkout-summary-item">
                        <span>Item Total</span>
                        <span class="value">â‚¹${appState.cart.subtotal}</span>
                    </div>
                    <div class="checkout-summary-item">
                        <span>Delivery Fee</span>
                        <span class="value">${appState.cart.delivery === 0 ? 'FREE' : 'â‚¹' + appState.cart.delivery}</span>
                    </div>
                    <div class="checkout-summary-item">
                        <span>Tax (5%)</span>
                        <span class="value">â‚¹${appState.cart.tax.toFixed(2)}</span>
                    </div>
                    ${appState.cart.discount > 0 ? `
                        <div class="checkout-summary-item">
                            <span>Discount</span>
                            <span class="value" style="color: var(--success);">-â‚¹${appState.cart.discount}</span>
                        </div>
                    ` : ''}
                    <div class="checkout-summary-item total">
                        <span>Total Amount</span>
                        <span class="value">â‚¹${appState.cart.total.toFixed(2)}</span>
                    </div>
                `;
            }
        }
        
        function updateCheckoutSteps() {
            // Update step indicators
            const steps = document.querySelectorAll('.step');
            const stepLine = document.getElementById('checkoutStepLine');
            
            steps.forEach((step, index) => {
                const stepNumber = index + 1;
                
                if (stepNumber < appState.checkoutStep) {
                    step.classList.add('completed');
                    step.classList.remove('active');
                } else if (stepNumber === appState.checkoutStep) {
                    step.classList.add('active');
                    step.classList.remove('completed');
                } else {
                    step.classList.remove('active', 'completed');
                }
            });
            
            // Update step line width
            if (stepLine) {
                const widthPercentage = ((appState.checkoutStep - 1) / 3) * 100;
                stepLine.style.width = `${widthPercentage}%`;
            }
            
            // Show/hide step content
            for (let i = 1; i <= 4; i++) {
                const stepContent = document.getElementById(`checkoutStep${i}`);
                if (stepContent) {
                    if (i === appState.checkoutStep) {
                        stepContent.style.display = 'block';
                    } else {
                        stepContent.style.display = 'none';
                    }
                }
            }
            
            // Enable/disable place order button
            const placeOrderBtn = document.getElementById('btnPlaceOrder');
            if (placeOrderBtn) {
                const agreementCheckbox = document.getElementById('checkoutAgreement');
                if (agreementCheckbox) {
                    agreementCheckbox.addEventListener('change', function() {
                        placeOrderBtn.disabled = !this.checked;
                    });
                }
            }
        }
        
        function nextCheckoutStep() {
            if (appState.checkoutStep < 4) {
                appState.checkoutStep++;
                updateCheckoutSteps();
            }
        }
        
        function previousCheckoutStep() {
            if (appState.checkoutStep > 1) {
                appState.checkoutStep--;
                updateCheckoutSteps();
            }
        }
        
        function placeOrder() {
            console.log('Placing order...');
            
            // Validate cart
            if (appState.cart.items.length === 0) {
                showToast('Cart is empty', 'Add items to your cart before placing an order', 'error');
                return;
            }
            
            // Get selected address
            const selectedAddressCard = document.querySelector('.checkout-address-card.selected');
            if (!selectedAddressCard) {
                showToast('Select Address', 'Please select a delivery address', 'error');
                appState.checkoutStep = 1;
                updateCheckoutSteps();
                return;
            }
            
            // Get selected payment method
            const selectedPaymentCard = document.querySelector('.checkout-payment-method.selected');
            if (!selectedPaymentCard) {
                showToast('Select Payment Method', 'Please select a payment method', 'error');
                appState.checkoutStep = 3;
                updateCheckoutSteps();
                return;
            }
            
            // Create new order
            const orderId = 'ORD-' + Date.now().toString().slice(-6);
            const selectedAddressId = selectedAddressCard.id.replace('address-', '');
            const address = appState.addresses.find(addr => addr.id === selectedAddressId);
            
            const newOrder = {
                id: orderId,
                date: new Date().toISOString().split('T')[0],
                status: 'pending',
                items: appState.cart.items.map(item => ({
                    id: item.id,
                    name: item.name,
                    quantity: item.quantity,
                    price: item.price,
                    image: item.image,
                    variant: item.variant
                })),
                total: appState.cart.total,
                subtotal: appState.cart.subtotal,
                delivery: appState.cart.delivery,
                tax: appState.cart.tax,
                discount: appState.cart.discount,
                shop: {
                    id: appState.cart.items[0].shop.id,
                    name: appState.cart.items[0].shop.name
                },
                address: address,
                payment: {
                    method: selectedPaymentCard.id.replace('payment-', ''),
                    transactionId: 'TXN-' + Date.now().toString().slice(-8),
                    status: 'pending'
                },
                delivery: {
                    method: 'standard',
                    estimated: new Date(Date.now() + 60 * 60 * 1000).toISOString(), // 1 hour from now
                    actual: null,
                    rider: null
                },
                timeline: [
                    { 
                        time: new Date().toISOString(), 
                        status: 'ordered', 
                        message: 'Order placed' 
                    }
                ]
            };
            
            // Add order to state
            appState.orders.unshift(newOrder);
            
            // Clear cart
            appState.cart.items = [];
            appState.cart.subtotal = 0;
            appState.cart.tax = 0;
            appState.cart.total = 0;
            appState.cart.discount = 0;
            
            // Update UI
            updateCartBadge();
            updateOrdersBadge();
            
            // Show success modal
            showOrderSuccessModal(newOrder);
            
            // Add notification
            addNotification({
                title: 'Order Confirmed',
                message: `Your order ${orderId} has been placed successfully`,
                time: new Date().toISOString(),
                type: 'order',
                orderId: orderId,
                read: false,
                action: 'view_order'
            });
            
            // Navigate to home page
            setTimeout(() => {
                closeOrderSuccess();
                showPage('homePage');
            }, 3000);
        }
        
        function showOrderSuccessModal(order) {
            const modal = document.getElementById('orderSuccessModal');
            if (!modal) return;
            
            // Update modal content
            document.getElementById('successOrderId').textContent = order.id;
            document.getElementById('successOrderTotal').textContent = `â‚¹${order.total.toFixed(2)}`;
            
            // Format delivery date
            const deliveryDate = new Date(order.delivery.estimated);
            const options = { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: true 
            };
            const formattedTime = deliveryDate.toLocaleTimeString('en-IN', options);
            document.getElementById('successDeliveryDate').textContent = `Today, ${formattedTime}`;
            
            // Show modal
            modal.classList.add('show');
            overlay.classList.add('show');
        }
        
        function closeOrderSuccess() {
            const modal = document.getElementById('orderSuccessModal');
            if (modal) {
                modal.classList.remove('show');
                overlay.classList.remove('show');
            }
        }
        
        function viewOrderDetails() {
            // Get the latest order (first in array)
            if (appState.orders.length > 0) {
                showOrderDetail(appState.orders[0].id);
                closeOrderSuccess();
            }
        }
        
        // ============================================
        // ORDER FUNCTIONS
        // ============================================
        
        function filterOrders(status) {
            const container = document.getElementById('ordersList');
            if (!container) return;
            
            // Update active tab
            document.querySelectorAll('.orders-tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            let filteredOrders = appState.orders;
            
            if (status !== 'all') {
                filteredOrders = appState.orders.filter(order => {
                    if (status === 'pending') {
                        return ['pending', 'confirmed', 'preparing', 'ready', 'out-for-delivery'].includes(order.status);
                    } else if (status === 'delivered') {
                        return order.status === 'delivered';
                    } else if (status === 'cancelled') {
                        return order.status === 'cancelled';
                    }
                    return true;
                });
            }
            
            if (filteredOrders.length === 0) {
                container.innerHTML = `
                    <div class="orders-empty">
                        <div class="orders-empty-icon">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <h3 class="orders-empty-title">No ${status === 'all' ? '' : status} Orders</h3>
                        <p class="orders-empty-message">${status === 'all' ? 'Start shopping and your orders will appear here' : `You don't have any ${status} orders yet`}</p>
                        ${status === 'all' ? `
                            <button class="btn btn-primary" onclick="showPage('homePage')">
                                <i class="fas fa-shopping-cart"></i>
                                Start Shopping
                            </button>
                        ` : ''}
                    </div>
                `;
            } else {
                container.innerHTML = filteredOrders.map(order => createOrderCard(order)).join('');
            }
        }
        
        function showOrderDetail(orderId) {
            console.log(`Showing order detail for: ${orderId}`);
            
            const order = appState.orders.find(o => o.id === orderId);
            if (!order) {
                showToast('Order not found', 'The requested order could not be loaded', 'error');
                return;
            }
            
            // Create order detail HTML
            const orderDetailHTML = `
                <div class="orders-header">
                    <h1 class="orders-title">Order Details</h1>
                    <p class="orders-subtitle">Order #${order.id} â€¢ ${formatDate(order.date)}</p>
                </div>
                
                <div class="orders-content">
                    <div class="order-card">
                        <div class="order-header">
                            <div class="order-info">
                                <div class="order-id">Order #${order.id}</div>
                                <div class="order-date">${formatDate(order.date)}</div>
                                <div class="order-shop">
                                    <i class="fas fa-store"></i>
                                    <span class="order-shop-name">${order.shop.name}</span>
                                </div>
                            </div>
                            
                            <div class="order-status">
                                <div class="order-status-badge status-${order.status}">
                                    ${order.status.replace(/-/g, ' ').toUpperCase()}
                                </div>
                                ${order.delivery.estimated ? `
                                    <div class="order-status-time">Est: ${formatTime(order.delivery.estimated)}</div>
                                ` : ''}
                            </div>
                        </div>
                        
                        <div class="order-body">
                            <h4>Delivery Address</h4>
                            <div class="order-address">
                                <p><strong>${order.address.name}</strong></p>
                                <p>${order.address.line1}</p>
                                <p>${order.address.line2}</p>
                                <p>${order.address.city}, ${order.address.state} - ${order.address.pincode}</p>
                                <p>Phone: ${order.address.phone}</p>
                            </div>
                            
                            <div class="order-items">
                                <h4>Order Items</h4>
                                ${order.items.map(item => `
                                    <div class="order-item">
                                        <img src="${item.image}" alt="${item.name}" class="order-item-image" onclick="showProductDetail('${item.id}')">
                                        <div class="order-item-info">
                                            <div class="order-item-name" onclick="showProductDetail('${item.id}')">${item.name}</div>
                                            <div class="order-item-details">${item.variant} Ã— ${item.quantity}</div>
                                            <div class="order-item-price">â‚¹${item.price * item.quantity}</div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="order-summary">
                                <div class="order-summary-item">
                                    <span>Item Total</span>
                                    <span class="value">â‚¹${order.subtotal}</span>
                                </div>
                                <div class="order-summary-item">
                                    <span>Delivery</span>
                                    <span class="value">${order.delivery === 0 ? 'FREE' : 'â‚¹' + order.delivery}</span>
                                </div>
                                <div class="order-summary-item">
                                    <span>Taxes</span>
                                    <span class="value">â‚¹${order.tax}</span>
                                </div>
                                ${order.discount > 0 ? `
                                    <div class="order-summary-item">
                                        <span>Discount</span>
                                        <span class="value" style="color: var(--success);">-â‚¹${order.discount}</span>
                                    </div>
                                ` : ''}
                                <div class="order-summary-item">
                                    <span>Total Amount</span>
                                    <span class="value">â‚¹${order.total}</span>
                                </div>
                            </div>
                            
                            <div class="order-payment">
                                <h4>Payment Details</h4>
                                <div class="payment-info">
                                    <p><strong>Payment Method:</strong> ${order.payment.method.replace('_', ' ').toUpperCase()}</p>
                                    <p><strong>Transaction ID:</strong> ${order.payment.transactionId}</p>
                                    <p><strong>Payment Status:</strong> ${order.payment.status.toUpperCase()}</p>
                                </div>
                            </div>
                            
                            ${order.timeline && order.timeline.length > 0 ? `
                                <div class="order-timeline">
                                    <h4>Order Timeline</h4>
                                    <div class="timeline">
                                        ${order.timeline.map((step, index) => `
                                            <div class="timeline-item ${index === order.timeline.length - 1 ? 'active' : 'completed'}">
                                                <div class="timeline-time">${formatTime(step.time)}</div>
                                                <div class="timeline-title">${step.message}</div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                        
                        <div class="order-footer">
                            <div class="order-actions">
                                <!-- FIXED: Removed "Modify Order" button -->
                                <!-- FIXED: Removed "Track Order" button -->
                                
                                ${order.status === 'delivered' ? `
                                    <button class="btn-reorder" onclick="reorder('${order.id}')">
                                        <i class="fas fa-redo"></i>
                                        Reorder
                                    </button>
                                    <button class="btn-rate-order" onclick="rateOrder('${order.id}')">
                                        <i class="fas fa-star"></i>
                                        Rate Order
                                    </button>
                                ` : ''}
                                
                                ${['pending', 'confirmed', 'preparing'].includes(order.status) ? `
                                    <button class="btn-cancel-order" onclick="cancelOrder('${order.id}')">
                                        <i class="fas fa-times"></i>
                                        Cancel Order
                                    </button>
                                ` : ''}
                                
                                <button class="btn-view-invoice" onclick="viewInvoice('${order.id}')">
                                    <i class="fas fa-receipt"></i>
                                    View Invoice
                                </button>
                                
                                <button class="btn btn-secondary" onclick="showPage('ordersPage')">
                                    <i class="fas fa-arrow-left"></i>
                                    Back to Orders
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Update the order detail container
            const container = document.getElementById('orderDetailContainer');
            if (container) {
                container.innerHTML = orderDetailHTML;
                
                // Show the order detail page
                showPage('orderDetailPage');
            }
        }
        
        function reorder(orderId) {
            const order = appState.orders.find(o => o.id === orderId);
            if (!order) return;
            
            // Add all items from order to cart
            order.items.forEach(item => {
                addToCart(item.id, item.quantity);
            });
            
            showToast('Items Added to Cart', 'All items from this order have been added to your cart', 'success');
            
            // Navigate to cart page
            setTimeout(() => {
                showPage('cartPage');
            }, 1000);
        }
        
        function cancelOrder(orderId) {
            if (!confirm('Are you sure you want to cancel this order?')) {
                return;
            }
            
            const orderIndex = appState.orders.findIndex(o => o.id === orderId);
            if (orderIndex !== -1) {
                // Update order status
                appState.orders[orderIndex].status = 'cancelled';
                appState.orders[orderIndex].timeline.push({
                    time: new Date().toISOString(),
                    status: 'cancelled',
                    message: 'Order cancelled by customer'
                });
                
                // Update orders badge
                updateOrdersBadge();
                
                // Reload orders page if currently viewing it
                if (appState.currentPage === 'ordersPage' || appState.currentPage === 'orderDetailPage') {
                    showPage('ordersPage');
                }
                
                showToast('Order Cancelled', 'Your order has been cancelled successfully', 'success');
                
                // Add notification
                addNotification({
                    title: 'Order Cancelled',
                    message: `Your order ${orderId} has been cancelled`,
                    time: new Date().toISOString(),
                    type: 'order',
                    orderId: orderId,
                    read: false
                });
            }
        }
        
        function rateOrder(orderId) {
            showToast('Feature Coming Soon', 'Order rating feature will be available soon', 'info');
        }
        
        function viewInvoice(orderId) {
            showToast('Feature Coming Soon', 'Invoice download feature will be available soon', 'info');
        }
        
        // ============================================
        // ADDRESS FUNCTIONS (FIXED)
        // ============================================
        
        function loadAddresses(container) {
            if (!container) return;
            
            if (appState.addresses.length === 0) {
                container.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <div class="empty-state-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <h3 class="empty-state-title">No Addresses Saved</h3>
                        <p class="empty-state-message">Add your first address for faster checkout</p>
                        <button class="btn btn-primary" onclick="openAddressModal()">
                            <i class="fas fa-plus"></i>
                            Add Address
                        </button>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = appState.addresses.map(address => `
                <div class="address-card ${address.isDefault ? 'default' : ''}">
                    <div class="address-header">
                        <div class="address-type">
                            <i class="fas fa-${address.type === 'home' ? 'home' : address.type === 'work' ? 'briefcase' : 'map-marker-alt'} address-type-icon"></i>
                            <div class="address-type-text">
                                ${address.type === 'home' ? 'Home' : address.type === 'work' ? 'Work' : 'Other'}
                                ${address.isDefault ? '<span class="address-default-badge">Default</span>' : ''}
                            </div>
                        </div>
                        
                        <div class="address-actions">
                            <!-- FIXED: Edit button now working -->
                            <button class="btn-edit-address" onclick="editAddress('${address.id}')">
                                <i class="fas fa-edit"></i>
                                Edit
                            </button>
                            
                            <!-- FIXED: Delete button now working -->
                            <button class="btn-delete-address" onclick="deleteAddress('${address.id}')">
                                <i class="fas fa-trash"></i>
                                Delete
                            </button>
                        </div>
                    </div>
                    
                    <div class="address-details">
                        <p><strong>${address.name}</strong></p>
                        <p>${address.line1}</p>
                        <p>${address.line2}</p>
                        <p>${address.city}, ${address.state} - ${address.pincode}</p>
                    </div>
                    
                    <div class="address-phone">
                        <i class="fas fa-phone"></i>
                        <span>${address.phone}</span>
                    </div>
                </div>
            `).join('');
        }
        
        function loadProfileAddresses() {
            const container = document.getElementById('profileAddresses');
            loadAddresses(container);
        }
        
        function saveAddress() {
            console.log('Saving address...');
            
            // Get form values
            const type = document.getElementById('addressType').value;
            const name = document.getElementById('addressName').value.trim();
            const phone = document.getElementById('addressPhone').value.trim();
            const pincode = document.getElementById('addressPincode').value.trim();
            const line1 = document.getElementById('addressLine1').value.trim();
            const line2 = document.getElementById('addressLine2').value.trim();
            const city = document.getElementById('addressCity').value.trim();
            const state = document.getElementById('addressState').value.trim();
            const setDefault = document.getElementById('setDefaultAddress').checked;
            
            // Validation
            if (!name || !phone || !pincode || !line1 || !city || !state) {
                showToast('Validation Error', 'Please fill all required fields', 'error');
                return;
            }
            
            if (phone.length !== 10 || !/^\d+$/.test(phone)) {
                showToast('Validation Error', 'Please enter a valid 10-digit phone number', 'error');
                return;
            }
            
            if (pincode.length !== 6 || !/^\d+$/.test(pincode)) {
                showToast('Validation Error', 'Please enter a valid 6-digit pincode', 'error');
                return;
            }
            
            // Check if editing existing address
            const editingAddressId = window.editingAddressId;
            
            if (editingAddressId) {
                // Update existing address
                const addressIndex = appState.addresses.findIndex(addr => addr.id === editingAddressId);
                if (addressIndex !== -1) {
                    appState.addresses[addressIndex] = {
                        ...appState.addresses[addressIndex],
                        type,
                        name,
                        phone: '+91 ' + phone,
                        line1,
                        line2,
                        city,
                        state,
                        pincode,
                        isDefault: setDefault
                    };
                }
                
                showToast('Address Updated', 'Your address has been updated successfully', 'success');
            } else {
                // Add new address
                const newAddress = {
                    id: 'addr-' + Date.now(),
                    type,
                    name,
                    phone: '+91 ' + phone,
                    line1,
                    line2,
                    city,
                    state,
                    pincode,
                    isDefault: setDefault
                };
                
                appState.addresses.push(newAddress);
                showToast('Address Added', 'New address has been added successfully', 'success');
            }
            
            // If setting as default, remove default from others
            if (setDefault) {
                appState.addresses.forEach(addr => {
                    if (addr.id !== (editingAddressId || appState.addresses[appState.addresses.length - 1].id)) {
                        addr.isDefault = false;
                    }
                });
            }
            
            // Update profile stats
            document.getElementById('profileAddressesCount').textContent = appState.addresses.length;
            
            // Reload addresses in all containers
            const addressContainers = [
                'profileAddresses',
                'allAddresses',
                'checkoutAddresses'
            ];
            
            addressContainers.forEach(containerId => {
                const container = document.getElementById(containerId);
                if (container) {
                    loadAddresses(container);
                }
            });
            
            // Close address sheet
            closeAddressSheet();
            
            // Clear editing state
            window.editingAddressId = null;
        }
        
        // FIXED: Edit address function
        function editAddress(addressId) {
            console.log(`Editing address: ${addressId}`);
            
            const address = appState.addresses.find(addr => addr.id === addressId);
            if (!address) {
                showToast('Address not found', 'Could not edit address', 'error');
                return;
            }
            
            // Store editing address ID
            window.editingAddressId = addressId;
            
            // Open address sheet with pre-filled data
            openAddressModal();
            
            // Set form values
            setTimeout(() => {
                document.getElementById('addressSheetTitle').textContent = 'Edit Address';
                document.getElementById('addressType').value = address.type;
                document.getElementById('addressName').value = address.name;
                
                // Extract phone number without country code
                const phone = address.phone.replace('+91 ', '');
                document.getElementById('addressPhone').value = phone;
                
                document.getElementById('addressPincode').value = address.pincode;
                document.getElementById('addressLine1').value = address.line1;
                document.getElementById('addressLine2').value = address.line2;
                document.getElementById('addressCity').value = address.city;
                document.getElementById('addressState').value = address.state;
                document.getElementById('setDefaultAddress').checked = address.isDefault;
            }, 100);
        }
        
        // FIXED: Delete address function
        function deleteAddress(addressId) {
            console.log(`Deleting address: ${addressId}`);
            
            const address = appState.addresses.find(addr => addr.id === addressId);
            if (!address) {
                showToast('Address not found', 'Could not delete address', 'error');
                return;
            }
            
            // Check if it's the default address
            if (address.isDefault && appState.addresses.length > 1) {
                showToast('Cannot Delete', 'Please set another address as default before deleting this one', 'error');
                return;
            }
            
            if (!confirm('Are you sure you want to delete this address?')) {
                return;
            }
            
            // Remove address
            const addressIndex = appState.addresses.findIndex(addr => addr.id === addressId);
            if (addressIndex !== -1) {
                appState.addresses.splice(addressIndex, 1);
                
                // If we deleted the default and have other addresses, set first as default
                if (address.isDefault && appState.addresses.length > 0) {
                    appState.addresses[0].isDefault = true;
                }
                
                // Update profile stats
                document.getElementById('profileAddressesCount').textContent = appState.addresses.length;
                
                // Reload addresses in all containers
                const addressContainers = [
                    'profileAddresses',
                    'allAddresses',
                    'checkoutAddresses'
                ];
                
                addressContainers.forEach(containerId => {
                    const container = document.getElementById(containerId);
                    if (container) {
                        loadAddresses(container);
                    }
                });
                
                showToast('Address Deleted', 'Address has been removed successfully', 'success');
            }
        }
        
            function openAddressModal(address = null) {
        const modal = document.getElementById('addressModal');
        const title = document.getElementById('addressModalTitle');
        
        if (address) {
            // Edit mode
            title.textContent = 'Edit Address';
            document.getElementById('addressType').value = address.type || 'home';
            document.getElementById('fullName').value = address.fullName || '';
            document.getElementById('phoneNumber').value = address.phoneNumber || '';
            document.getElementById('pincode').value = address.pincode || '';
            document.getElementById('state').value = address.state || '';
            document.getElementById('city').value = address.city || '';
            document.getElementById('locality').value = address.locality || '';
            document.getElementById('flatNo').value = address.flatNo || '';
            document.getElementById('landmark').value = address.landmark || '';
            document.getElementById('addressId').value = address.id || '';
            document.getElementById('setAsDefault').checked = address.isDefault || false;
        } else {
            // Add mode
            title.textContent = 'Add New Address';
            // Reset form
            document.getElementById('addressForm').reset();
            document.getElementById('addressType').value = 'home';
            document.getElementById('addressId').value = '';
            document.getElementById('setAsDefault').checked = false;
        }
        
        // Open modal
        modal.style.display = 'block';
        document.body.style.overflow = 'hidden';
        
        // Focus on first input
        setTimeout(() => {
            document.getElementById('fullName').focus();
        }, 100);
    }
    
    function closeAddressModal() {
        document.getElementById('addressModal').style.display = 'none';
        document.body.style.overflow = 'auto';
        document.getElementById('addressForm').reset();
    }
    
    function saveAddress() {
        const addressId = document.getElementById('addressId').value;
        const addressData = {
            type: document.getElementById('addressType').value,
            fullName: document.getElementById('fullName').value,
            phoneNumber: document.getElementById('phoneNumber').value,
            pincode: document.getElementById('pincode').value,
            state: document.getElementById('state').value,
            city: document.getElementById('city').value,
            locality: document.getElementById('locality').value,
            flatNo: document.getElementById('flatNo').value,
            landmark: document.getElementById('landmark').value,
            isDefault: document.getElementById('setAsDefault').checked
        };
        
        // Validation
        if (!addressData.fullName || !addressData.phoneNumber || !addressData.pincode || 
            !addressData.state || !addressData.city || !addressData.locality || !addressData.flatNo) {
            showToast('Error', 'Please fill all required fields', 'error');
            return;
        }
        
        // Phone validation
        const phoneRegex = /^[6-9]\d{9}$/;
        if (!phoneRegex.test(addressData.phoneNumber.replace(/\D/g, ''))) {
            showToast('Error', 'Please enter a valid 10-digit mobile number', 'error');
            return;
        }
        
        // Pincode validation
        const pincodeRegex = /^\d{6}$/;
        if (!pincodeRegex.test(addressData.pincode)) {
            showToast('Error', 'Please enter a valid 6-digit pincode', 'error');
            return;
        }
        
        if (addressId) {
            // Update existing address
            const index = addresses.findIndex(addr => addr.id === addressId);
            if (index !== -1) {
                addresses[index] = {
                    ...addresses[index],
                    ...addressData,
                    id: addressId
                };
            }
            showToast('Success', 'Address updated successfully', 'success');
        } else {
            // Add new address
            const newAddress = {
                ...addressData,
                id: 'addr-' + Date.now(),
                createdAt: new Date().toISOString()
            };
            addresses.push(newAddress);
            showToast('Success', 'New address added successfully', 'success');
        }
        
        // If setting as default, remove default from others
        if (addressData.isDefault) {
            addresses.forEach(addr => {
                if (addr.id !== (addressId || addresses[addresses.length - 1].id)) {
                    addr.isDefault = false;
                }
            });
        }
        
        // Close modal
        closeAddressModal();
        
        // Reload addresses in all containers
        const addressContainers = [
            'profileAddresses',
            'allAddresses', 
            'checkoutAddresses'
        ];
        
        addressContainers.forEach(containerId => {
            const container = document.getElementById(containerId);
            if (container) {
                loadAddresses(container);
            }
        });
        
        // Update address badges/counts
        updateAddressBadges();
    }
    
    function updateAddressBadges() {
        // Update address count in profile
        const addressCount = addresses.length;
        document.getElementById('addressCount').textContent = `(${addressCount})`;
        
        // Update checkout address selector if exists
        const checkoutAddressSelect = document.getElementById('selectedAddress');
        if (checkoutAddressSelect) {
            const defaultAddress = addresses.find(addr => addr.isDefault) || addresses[0];
            if (defaultAddress) {
                checkoutAddressSelect.innerHTML = `
                    <option value="${defaultAddress.id}" selected>
                        ${defaultAddress.type.toUpperCase()}: ${defaultAddress.flatNo}, ${defaultAddress.locality}, ${defaultAddress.city}
                    </option>
                    ${addresses.filter(addr => addr.id !== defaultAddress.id).map(addr => `
                        <option value="${addr.id}">
                            ${addr.type.toUpperCase()}: ${addr.flatNo}, ${addr.locality}, ${addr.city}
                        </option>
                    `).join('')}
                `;
            }
        }
    }
    
    function deleteAddress(addressId) {
        if (confirm('Are you sure you want to delete this address?')) {
            // Remove address
            const index = addresses.findIndex(addr => addr.id === addressId);
            if (index !== -1) {
                // Check if deleting default address
                const wasDefault = addresses[index].isDefault;
                
                // Remove address
                addresses.splice(index, 1);
                
                // If default was deleted, set first address as default
                if (wasDefault && addresses.length > 0) {
                    addresses[0].isDefault = true;
                }
                
                // Reload addresses in all containers
                const addressContainers = [
                    'profileAddresses',
                    'allAddresses',
                    'checkoutAddresses'
                ];
                
                addressContainers.forEach(containerId => {
                    const container = document.getElementById(containerId);
                    if (container) {
                        loadAddresses(container);
                    }
                });
                
                showToast('Address Deleted', 'Address has been removed successfully', 'success');
            }
        }
    }
